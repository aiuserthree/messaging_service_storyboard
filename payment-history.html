<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¶©ì „ ë‚´ì—­ - ë©”ì‹œì§• ì„œë¹„ìŠ¤</title>
    <script src="js/header.js"></script>
    <style>/* ê³µí†µ ìŠ¤íƒ€ì¼ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #2563eb;
    --primary-hover: #1d4ed8;
    --secondary-color: #64748b;
    --success-color: #10b981;
    --danger-color: #ef4444;
    --warning-color: #f59e0b;
    --purple-color: #7c5cdb;
    --purple-light: #a78bfa;
    --purple-bg: linear-gradient(135deg, #e8e4f8 0%, #dcd6f0 50%, #d0c8eb 100%);
    --bg-color: #f8fafc;
    --surface-color: #ffffff;
    --border-color: #e2e8f0;
    --text-primary: #1e293b;
    --text-secondary: #64748b;
    --text-muted: #94a3b8;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.04);
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    --radius-2xl: 20px;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    font-size: 14px;
    line-height: 1.6;
    color: var(--text-primary);
    background-color: var(--bg-color);
}

/* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 10px 20px;
    font-size: 14px;
    font-weight: 500;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    gap: 8px;
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-primary {
    background-color: var(--primary-color);
    color: white;
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.25);
}

.btn-primary:hover:not(:disabled) {
    background-color: var(--primary-hover);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.35);
}

.btn-secondary {
    background-color: var(--secondary-color);
    color: white;
}

.btn-outline {
    background-color: transparent;
    border: 1px solid var(--border-color);
    color: var(--text-primary);
}

.btn-outline:hover:not(:disabled) {
    background-color: var(--bg-color);
}

.btn-danger {
    background-color: var(--danger-color);
    color: white;
}

.btn-sm {
    padding: 6px 12px;
    font-size: 12px;
}

.btn-lg {
    padding: 14px 28px;
    font-size: 16px;
}

/* ì…ë ¥ í•„ë“œ */
.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: var(--text-primary);
}

.form-label.required::after {
    content: ' *';
    color: var(--danger-color);
}

.form-input,
.form-select,
.form-textarea {
    width: 100%;
    padding: 10px 12px;
    font-size: 14px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    background-color: var(--surface-color);
    color: var(--text-primary);
    transition: all 0.2s;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.form-textarea {
    resize: vertical;
    min-height: 100px;
}

.form-error {
    margin-top: 4px;
    font-size: 12px;
    color: var(--danger-color);
}

.form-help {
    margin-top: 4px;
    font-size: 12px;
    color: var(--text-secondary);
}

/* ì¹´ë“œ */
.card {
    background-color: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-2xl);
    padding: 28px;
    box-shadow: var(--shadow-card);
}

.card-header {
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border-color);
}

.card-title {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-primary);
}

/* ëª¨ë‹¬ */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.modal-overlay.active {
    display: flex;
}

.modal {
    background-color: var(--surface-color);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    max-width: 600px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
}

.modal-header {
    padding: 20px 24px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-title {
    font-size: 20px;
    font-weight: 600;
}

.modal-close {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: var(--text-secondary);
    padding: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-body {
    padding: 24px;
}

.modal-footer {
    padding: 16px 24px;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: flex-end;
    gap: 12px;
}

/* ë°°ì§€ */
.badge {
    display: inline-flex;
    align-items: center;
    padding: 4px 8px;
    font-size: 12px;
    font-weight: 500;
    border-radius: var(--radius-sm);
}

.badge-primary {
    background-color: rgba(37, 99, 235, 0.1);
    color: var(--primary-color);
}

.badge-success {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
}

.badge-danger {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--danger-color);
}

.badge-warning {
    background-color: rgba(245, 158, 11, 0.1);
    color: var(--warning-color);
}

/* íƒ­ */
.tabs {
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 24px;
}

.tab-list {
    display: flex;
    gap: 8px;
}

.tab-item {
    padding: 12px 20px;
    background: none;
    border: none;
    border-bottom: 2px solid transparent;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-secondary);
    transition: all 0.2s;
}

.tab-item:hover {
    color: var(--text-primary);
}

.tab-item.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

/* í…Œì´ë¸” */
.table-container {
    overflow-x: auto;
}

.table {
    width: 100%;
    border-collapse: collapse;
}

.table th,
.table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

.table th {
    background-color: var(--bg-color);
    font-weight: 600;
    color: var(--text-primary);
}

.table tbody tr:hover {
    background-color: var(--bg-color);
}

/* ì•Œë¦¼ */
.alert {
    padding: 16px;
    border-radius: var(--radius-md);
    margin-bottom: 20px;
}

.alert-info {
    background-color: rgba(37, 99, 235, 0.1);
    border: 1px solid rgba(37, 99, 235, 0.2);
    color: var(--primary-color);
}

.alert-warning {
    background-color: rgba(245, 158, 11, 0.1);
    border: 1px solid rgba(245, 158, 11, 0.2);
    color: var(--warning-color);
}

.alert-danger {
    background-color: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: var(--danger-color);
}

.alert-success {
    background-color: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.2);
    color: var(--success-color);
}

/* ìœ í‹¸ë¦¬í‹° */
.text-center {
    text-align: center;
}

.text-right {
    text-align: right;
}

.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 16px; }
.mt-3 { margin-top: 24px; }
.mb-1 { margin-bottom: 8px; }
.mb-2 { margin-bottom: 16px; }
.mb-3 { margin-bottom: 24px; }

.flex {
    display: flex;
}

.flex-between {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.gap-2 {
    gap: 16px;
}

.hidden {
    display: none;
}

/* ê²€ìƒ‰/í•„í„° ì„¹ì…˜ */
.search-filter-section {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
}

/* ê²€ìƒ‰ í•„í„° ì„¹ì…˜ì´ ìˆëŠ” ì¹´ë“œì˜ ì—¬ë°± ì¤„ì´ê¸° */
.search-filter-card {
    padding: 16px 24px;
    margin-bottom: 32px;
}

.search-filter-section > div {
    display: flex;
    align-items: center;
}

/* ê¸°ê°„ ì„ íƒ ì˜ì—­ */
.date-range-group {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
}

.date-range-separator {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    color: var(--text-secondary);
    font-weight: 500;
    flex-shrink: 0;
    line-height: 1;
}

.date-input-wrapper {
    min-width: 140px;
    max-width: 160px;
    flex-shrink: 0;
}

.date-input-wrapper input[type="date"] {
    width: 100%;
    min-width: 140px;
}

/* í•„í„° ì„¹ì…˜ */
.filter-section {
    margin-bottom: 24px;
}

.filter-row {
    display: flex;
    align-items: flex-end;
    gap: 16px;
    flex-wrap: wrap;
}

.filter-group {
    display: flex;
    flex-direction: column;
    min-width: 150px;
    flex: 1;
}

.filter-group .form-label {
    margin-bottom: 8px;
}

.filter-group .flex {
    display: flex;
    align-items: center;
    gap: 8px;
}

.filter-group .flex input[type="date"] {
    flex: 1;
    min-width: 140px;
}

.filter-group .flex span {
    flex-shrink: 0;
    color: var(--text-secondary);
    font-weight: 500;
}

/* ë°˜ì‘í˜• ì²˜ë¦¬ */
@media (max-width: 768px) {
    .search-filter-section {
        flex-direction: column;
        align-items: stretch;
    }
    
    .search-filter-section > div {
        width: 100%;
    }
    
    .date-input-wrapper {
        width: 100%;
        min-width: auto;
    }
    
    .filter-row {
        flex-direction: column;
        align-items: stretch;
    }
    
    .filter-group {
        width: 100%;
        min-width: auto;
    }
    
    .filter-group .flex {
        flex-direction: column;
        align-items: stretch;
    }
    
    .filter-group .flex input[type="date"] {
        width: 100%;
        min-width: auto;
    }
    
    .date-range-separator {
        display: none;
    }
}


/* ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼ */
.app-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* í—¤ë” */
.header {
    background-color: var(--surface-color);
    border-bottom: 1px solid var(--border-color);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: 0;
    z-index: 100;
}

.header-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 64px;
}

.logo h1 {
    font-size: 28px;
    font-weight: 700;
    color: var(--primary-color);
    margin: 0;
}

.logo a {
    text-decoration: none;
    color: inherit;
    display: block;
}

.logo a:hover h1 {
    opacity: 0.8;
}

.main-nav {
    display: flex;
    gap: 4px;
    flex: 1;
    justify-content: center;
    position: relative;
}

.nav-item {
    padding: 8px 16px;
    text-decoration: none;
    color: var(--text-secondary);
    font-weight: 500;
    border-radius: var(--radius-md);
    transition: all 0.2s;
    position: relative;
    display: flex;
    align-items: center;
    gap: 4px;
}

.nav-item:hover {
    background-color: var(--bg-color);
    color: var(--text-primary);
}

.nav-item.active {
    background-color: rgba(37, 99, 235, 0.1);
    color: var(--primary-color);
}

.nav-item.has-dropdown {
    position: relative;
}

.nav-item.has-dropdown .nav-link::after {
    content: 'â–¼';
    font-size: 10px;
    margin-left: 4px;
    transition: transform 0.2s;
    display: inline-block;
}

.nav-item.has-dropdown.open .nav-link::after {
    transform: rotate(180deg);
}

.nav-item.has-dropdown .nav-link {
    text-decoration: none;
    color: inherit;
    display: flex;
    align-items: center;
}

/* ë“œë¡­ë‹¤ìš´ ë©”ë‰´ */
.nav-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 8px;
    background-color: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    min-width: 180px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s;
    z-index: 1000;
    padding: 8px 0;
}

.nav-item.open .nav-dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.nav-dropdown-item {
    display: block;
    padding: 10px 20px;
    text-decoration: none;
    color: var(--text-primary);
    font-size: 14px;
    transition: all 0.2s;
}

.nav-dropdown-item:hover {
    background-color: var(--bg-color);
    color: var(--primary-color);
}

.nav-dropdown-item.active {
    background-color: rgba(37, 99, 235, 0.1);
    color: var(--primary-color);
    font-weight: 600;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 16px;
}

.balance-info {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background-color: var(--bg-color);
    border-radius: var(--radius-md);
}

.balance-label {
    font-size: 12px;
    color: var(--text-secondary);
}

.header-actions .balance-info .balance-amount {
    font-weight: 600;
    color: var(--primary-color);
    font-size: inherit;
    margin: 0;
}

/* ë©”ì¸ ì»¨í…ì¸  */
.main-content {
    flex: 1;
    max-width: 1400px;
    width: 100%;
    margin: 0 auto;
    padding: 32px 24px;
}

.page-header {
    margin-bottom: 32px;
}

.page-header h2 {
    font-size: 28px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.page-description {
    color: var(--text-secondary);
    font-size: 14px;
}

/* ëŒ€ì‹œë³´ë“œ */
.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 24px;
    margin-bottom: 32px;
}

.stat-card {
    background-color: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-2xl);
    padding: 20px 24px;
    display: flex;
    align-items: center;
    gap: 16px;
    box-shadow: var(--shadow-card);
    transition: all 0.2s;
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.stat-icon {
    width: 56px;
    height: 56px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    flex-shrink: 0;
}

.stat-icon svg {
    width: 28px;
    height: 28px;
}

.stat-icon.blue {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
}

.stat-icon.blue svg {
    color: #2563eb;
}

.stat-icon.green {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
}

.stat-icon.green svg {
    color: #10b981;
}

.stat-icon.orange {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
}

.stat-icon.orange svg {
    color: #f59e0b;
}

.stat-icon.red {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
}

.stat-icon.red svg {
    color: #ef4444;
}

.stat-content h3 {
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: 4px;
}

.stat-value {
    font-size: 24px;
    font-weight: 700;
    color: var(--text-primary);
}

.quick-actions {
    margin-top: 32px;
}

.quick-actions h3 {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 20px;
}

.action-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.action-card {
    background-color: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-lg);
    padding: 24px;
    text-decoration: none;
    color: var(--text-primary);
    transition: all 0.2s;
    text-align: center;
}

.action-card:hover {
    border-color: var(--primary-color);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.action-icon {
    font-size: 48px;
    margin-bottom: 12px;
}

.action-card h4 {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 8px;
}

.action-card p {
    font-size: 12px;
    color: var(--text-secondary);
}

/* 2ë‹¨ ë ˆì´ì•„ì›ƒ */
.two-column-layout {
    display: grid;
    grid-template-columns: 1fr 400px;
    gap: 24px;
}

@media (max-width: 1024px) {
    .two-column-layout {
        grid-template-columns: 1fr;
    }
}

/* ë°˜ì‘í˜• */
@media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        height: auto;
        padding: 16px;
    }

    .main-nav {
        flex-wrap: wrap;
        margin: 16px 0;
        width: 100%;
    }

    .nav-dropdown {
        position: static;
        margin-top: 4px;
        width: 100%;
        box-shadow: none;
        border: none;
        border-top: 1px solid var(--border-color);
        border-radius: 0;
        opacity: 1;
        visibility: visible;
        transform: none;
        display: none;
    }

    .nav-item.open .nav-dropdown {
        display: block;
    }

    .header-actions {
        width: 100%;
        justify-content: space-between;
    }

    .main-content {
        padding: 16px;
    }

    .dashboard-grid {
        grid-template-columns: 1fr;
    }

    .action-grid {
        grid-template-columns: 1fr;
    }
}

</style>
    <style>
        .tab-content {
            display: none;
            margin-top: 0;
        }
        .tab-content.active {
            display: block;
        }
        .card .tabs {
            margin-bottom: 24px;
            padding-bottom: 16px;
        }
        .tab-btn {
            padding: 8px 16px;
            border: 1px solid var(--border-color);
            background: var(--surface-color);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }
        .tab-btn:hover {
            border-color: var(--primary-color);
        }
        .tab-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        .status-badge {
            padding: 4px 8px;
            border-radius: var(--radius-sm);
            font-size: 12px;
            font-weight: 500;
        }
        .status-completed { background: rgba(16, 185, 129, 0.1); color: var(--success-color); }
        .status-waiting { background: rgba(245, 158, 11, 0.1); color: var(--warning-color); }
        .status-cancelled { background: rgba(100, 116, 139, 0.1); color: var(--secondary-color); }
        .status-refunded { background: rgba(239, 68, 68, 0.1); color: var(--danger-color); }
        
        /* ì·¨ì†Œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn-cancel {
            background-color: transparent;
            border: 1px solid var(--danger-color);
            color: var(--danger-color);
            padding: 4px 8px;
            font-size: 12px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-cancel:hover {
            background-color: var(--danger-color);
            color: white;
        }
        .btn-cancel:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            border-color: var(--text-muted);
            color: var(--text-muted);
        }
        .btn-cancel:disabled:hover {
            background-color: transparent;
            color: var(--text-muted);
        }
        
        /* í™˜ë¶ˆ ì •ë³´ ë°•ìŠ¤ */
        .refund-info-box {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-bottom: 20px;
        }
        .refund-info-box h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--text-primary);
        }
        .refund-info-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }
        .refund-info-row:last-child {
            border-bottom: none;
        }
        .refund-info-label {
            color: var(--text-secondary);
            font-size: 13px;
        }
        .refund-info-value {
            font-weight: 600;
            color: var(--text-primary);
        }
        .refund-info-value.highlight {
            color: var(--primary-color);
            font-size: 16px;
        }
        .refund-info-value.danger {
            color: var(--danger-color);
        }
        
        /* í™˜ë¶ˆ ì •ì±… ì•ˆë‚´ */
        .refund-policy {
            background-color: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: var(--radius-md);
            padding: 12px 16px;
            margin-bottom: 20px;
            font-size: 13px;
            color: var(--warning-color);
        }
        .refund-policy ul {
            margin: 8px 0 0 16px;
            padding: 0;
        }
        .refund-policy li {
            margin-bottom: 4px;
        }
        
        /* ê³„ì¢Œ ì…ë ¥ í¼ */
        .account-form {
            display: none;
            background-color: var(--bg-color);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-top: 16px;
        }
        .account-form.show {
            display: block;
        }
        .account-form .form-group {
            margin-bottom: 12px;
        }
        .account-form .form-group:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <script>
            document.write(createHeader());
        </script>

        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <main class="main-content">
            <div class="page-header">
                <h2>ê²°ì œ ê´€ë¦¬</h2>
                <p class="page-description">ì¶©ì „ ë‚´ì—­ì„ ì¡°íšŒí•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤</p>
            </div>

            <!-- íƒ­ ë©”ë‰´ -->
            <div class="tabs" id="paymentTabs">
                <div class="tab-list">
                    <button class="tab-item" onclick="window.location.href='payment-charge.html'">ì¶©ì „í•˜ê¸°</button>
                    <button class="tab-item active" onclick="window.location.href='payment-history.html'">ì¶©ì „ ë‚´ì—­</button>
                    <button class="tab-item" onclick="window.location.href='payment-refund.html'">í™˜ë¶ˆ</button>
                </div>
            </div>

            <!-- ì¡°íšŒ ê¸°ê°„ -->
            <div class="card search-filter-card" id="searchFilterCard">
                <div class="search-filter-section">
                    <div class="flex gap-2" id="periodButtons">
                        <button class="btn btn-sm btn-outline" onclick="setPeriod('week')">1ì£¼ì¼</button>
                        <button class="btn btn-sm btn-outline" onclick="setPeriod('month')">1ê°œì›”</button>
                        <button class="btn btn-sm btn-outline" onclick="setPeriod('3month')">3ê°œì›”</button>
                        <button class="btn btn-sm btn-outline" onclick="setPeriod('6month')">6ê°œì›”</button>
                    </div>
                    <div class="date-range-group" id="dateRangeGroup">
                        <div class="date-input-wrapper">
                            <input type="date" class="form-input" id="startDate">
                        </div>
                        <span class="date-range-separator">~</span>
                        <div class="date-input-wrapper">
                            <input type="date" class="form-input" id="endDate">
                        </div>
                    </div>
                    <button class="btn btn-primary" id="searchBtn">ì¡°íšŒ</button>
                </div>
            </div>

            <!-- ì¶©ì „ë‚´ì—­ -->
            <div class="card" id="historyCard">
                <!-- ì¶©ì „ë‚´ì—­ -->
                <div id="chargeTab" class="tab-content active">
                    <div class="table-container" id="historyTableContainer">
                        <table class="table" id="historyTable">
                            <thead>
                                <tr>
                                    <th>ë‚ ì§œ</th>
                                    <th>ì¶©ì „ í¬ì¸íŠ¸</th>
                                    <th>ì¶©ì „ë°©ë²•</th>
                                    <th>ì¶©ì „ìƒíƒœ</th>
                                    <th>ë¹„ê³ </th>
                                    <th>ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-id="1" data-date="2024-11-19" data-amount="100000" data-method="card" data-used="false" data-days="2">
                                    <td>2024-11-19 14:30</td>
                                    <td>100,000 í¬ì¸íŠ¸</td>
                                    <td>ì‹ ìš©ì¹´ë“œ</td>
                                    <td><span class="status-badge status-completed">ì¶©ì „ì™„ë£Œ</span></td>
                                    <td>-</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline" onclick="viewReceipt(1)">ì˜ìˆ˜ì¦</button>
                                        <button class="btn-cancel" onclick="openRefundModal(1)">ì·¨ì†Œ</button>
                                    </td>
                                </tr>
                                <tr data-id="2" data-date="2024-11-18" data-amount="500000" data-method="bank" data-used="false" data-days="3">
                                    <td>2024-11-18 10:20</td>
                                    <td>500,000 í¬ì¸íŠ¸</td>
                                    <td>ë¬´í†µì¥ì…ê¸ˆ</td>
                                    <td><span class="status-badge status-waiting">ì…ê¸ˆëŒ€ê¸°</span></td>
                                    <td>ì…ê¸ˆ í™•ì¸ ì¤‘</td>
                                    <td>-</td>
                                </tr>
                                <tr data-id="3" data-date="2024-11-15" data-amount="200000" data-method="card" data-used="true" data-days="6">
                                    <td>2024-11-15 09:15</td>
                                    <td>200,000 í¬ì¸íŠ¸</td>
                                    <td>ì‹ ìš©ì¹´ë“œ</td>
                                    <td><span class="status-badge status-completed">ì¶©ì „ì™„ë£Œ</span></td>
                                    <td>ì¼ë¶€ ì‚¬ìš©</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline" onclick="viewReceipt(3)">ì˜ìˆ˜ì¦</button>
                                        <button class="btn-cancel" onclick="openRefundModal(3)">ì·¨ì†Œ</button>
                                    </td>
                                </tr>
                                <tr data-id="4" data-date="2024-11-10" data-amount="300000" data-method="realtime" data-used="true" data-days="11">
                                    <td>2024-11-10 16:45</td>
                                    <td>300,000 í¬ì¸íŠ¸</td>
                                    <td>ì‹¤ì‹œê°„ê³„ì¢Œì´ì²´</td>
                                    <td><span class="status-badge status-completed">ì¶©ì „ì™„ë£Œ</span></td>
                                    <td>ì¼ë¶€ ì‚¬ìš©</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline" onclick="viewReceipt(4)">ì˜ìˆ˜ì¦</button>
                                        <button class="btn-cancel" onclick="openRefundModal(4)">ì·¨ì†Œ</button>
                                    </td>
                                </tr>
                                <tr data-id="5" data-date="2024-11-05" data-amount="50000" data-method="virtual" data-used="false" data-days="16">
                                    <td>2024-11-05 11:30</td>
                                    <td>50,000 í¬ì¸íŠ¸</td>
                                    <td>ê°€ìƒê³„ì¢Œ</td>
                                    <td><span class="status-badge status-completed">ì¶©ì „ì™„ë£Œ</span></td>
                                    <td>-</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline" onclick="viewReceipt(5)">ì˜ìˆ˜ì¦</button>
                                        <button class="btn-cancel" onclick="openRefundModal(5)">ì·¨ì†Œ</button>
                                    </td>
                                </tr>
                                <tr data-id="6" data-date="2024-10-28" data-amount="100000" data-method="card" data-used="true" data-days="24">
                                    <td>2024-10-28 14:00</td>
                                    <td>100,000 í¬ì¸íŠ¸</td>
                                    <td>ì‹ ìš©ì¹´ë“œ</td>
                                    <td><span class="status-badge status-refunded">í™˜ë¶ˆì™„ë£Œ</span></td>
                                    <td>í™˜ë¶ˆ ì²˜ë¦¬ë¨</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline" onclick="viewReceipt(6)">ì˜ìˆ˜ì¦</button>
                                    </td>
                                </tr>
                                <tr data-id="7" data-date="2024-10-20" data-amount="5000" data-method="card" data-used="true" data-days="32">
                                    <td>2024-10-20 10:00</td>
                                    <td>5,000 í¬ì¸íŠ¸</td>
                                    <td>ì‹ ìš©ì¹´ë“œ</td>
                                    <td><span class="status-badge status-completed">ì¶©ì „ì™„ë£Œ</span></td>
                                    <td>ì”ì•¡ ë¶€ì¡±</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline" onclick="viewReceipt(7)">ì˜ìˆ˜ì¦</button>
                                        <button class="btn-cancel" disabled title="ì”ì—¬ê¸ˆì•¡ 1ë§Œì› ë¯¸ë§Œ">ì·¨ì†Œ</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script>// ê³µí†µ JavaScript í•¨ìˆ˜

// ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
function openModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.style.display = 'flex'; // ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì œê±° í›„ ë‹¤ì‹œ ì„¤ì •
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
}

function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.classList.remove('active');
        modal.style.display = 'none';
        document.body.style.overflow = '';
    }
}

// ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' || e.keyCode === 27) {
        const activeModal = document.querySelector('.modal-overlay.active');
        if (activeModal) {
            const modalId = activeModal.id;
            if (modalId && typeof closeModal === 'function') {
                closeModal(modalId);
            } else {
                activeModal.classList.remove('active');
                activeModal.style.display = 'none';
                document.body.style.overflow = '';
            }
        }
    }
});

// ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal-overlay')) {
        e.target.classList.remove('active');
        document.body.style.overflow = '';
    }
});

// íƒ­ ì „í™˜
function switchTab(tabId, containerId) {
    const container = document.getElementById(containerId);
    if (!container) return;

    // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
    container.querySelectorAll('.tab-item').forEach(tab => {
        tab.classList.remove('active');
    });
    container.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
    });

    // ì„ íƒí•œ íƒ­ í™œì„±í™”
    const tab = document.querySelector(`[data-tab="${tabId}"]`);
    const content = document.getElementById(tabId);
    if (tab) tab.classList.add('active');
    if (content) content.classList.add('active');
}

// ì „í™”ë²ˆí˜¸ í¬ë§·íŒ…
function formatPhoneNumber(value) {
    const numbers = value.replace(/[^\d]/g, '');
    if (numbers.length <= 3) return numbers;
    if (numbers.length <= 7) return `${numbers.slice(0, 3)}-${numbers.slice(3)}`;
    return `${numbers.slice(0, 3)}-${numbers.slice(3, 7)}-${numbers.slice(7, 11)}`;
}

// ë°”ì´íŠ¸ ê³„ì‚° (í•œê¸€ 3ë°”ì´íŠ¸, ì˜ë¬¸/ìˆ«ì 1ë°”ì´íŠ¸)
function calculateByteLength(str) {
    let byteLength = 0;
    for (let i = 0; i < str.length; i++) {
        const char = str.charAt(i);
        if (escape(char).length > 4) {
            byteLength += 3; // í•œê¸€
        } else {
            byteLength += 1; // ì˜ë¬¸/ìˆ«ì
        }
    }
    return byteLength;
}

// í† ìŠ¤íŠ¸ ë©”ì‹œì§€
function showToast(message, type = 'info') {
    const toast = document.createElement('div');
    toast.className = `toast toast-${type}`;
    toast.textContent = message;
    toast.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 16px 24px;
        background-color: var(--surface-color);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
        z-index: 2000;
        animation: slideIn 0.3s ease;
    `;
    document.body.appendChild(toast);

    setTimeout(() => {
        toast.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => toast.remove(), 300);
    }, 3000);
}

// ë‚ ì§œ í¬ë§·íŒ…
function formatDate(date, format = 'YYYY-MM-DD HH:mm') {
    const d = new Date(date);
    const year = d.getFullYear();
    const month = String(d.getMonth() + 1).padStart(2, '0');
    const day = String(d.getDate()).padStart(2, '0');
    const hours = String(d.getHours()).padStart(2, '0');
    const minutes = String(d.getMinutes()).padStart(2, '0');

    return format
        .replace('YYYY', year)
        .replace('MM', month)
        .replace('DD', day)
        .replace('HH', hours)
        .replace('mm', minutes);
}

// ìˆ«ì í¬ë§·íŒ… (ì²œë‹¨ìœ„ ì½¤ë§ˆ)
function formatNumber(num) {
    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

// íŒŒì¼ ì—…ë¡œë“œ ë¯¸ë¦¬ë³´ê¸°
function previewFile(input, previewId) {
    const file = input.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(e) {
        const preview = document.getElementById(previewId);
        if (preview) {
            if (file.type.startsWith('image/')) {
                preview.innerHTML = `<img src="${e.target.result}" style="max-width: 100%; max-height: 200px;">`;
            } else {
                preview.textContent = file.name;
            }
        }
    };
    reader.readAsDataURL(file);
}

// ë“œë˜ê·¸ ì•¤ ë“œë¡­
function setupDragAndDrop(dropZone, callback) {
    dropZone.addEventListener('dragover', (e) => {
        e.preventDefault();
        dropZone.classList.add('drag-over');
    });

    dropZone.addEventListener('dragleave', () => {
        dropZone.classList.remove('drag-over');
    });

    dropZone.addEventListener('drop', (e) => {
        e.preventDefault();
        dropZone.classList.remove('drag-over');
        const files = e.dataTransfer.files;
        if (files.length > 0 && callback) {
            callback(files[0]);
        }
    });
}

// í˜ì´ì§€ë„¤ì´ì…˜
function createPagination(currentPage, totalPages, containerId) {
    const container = document.getElementById(containerId);
    if (!container) return;

    let html = '<div class="pagination">';
    
    // ì´ì „ ë²„íŠ¼
    if (currentPage > 1) {
        html += `<button class="page-btn" onclick="goToPage(${currentPage - 1})">ì´ì „</button>`;
    }

    // í˜ì´ì§€ ë²ˆí˜¸
    const startPage = Math.max(1, currentPage - 2);
    const endPage = Math.min(totalPages, currentPage + 2);

    if (startPage > 1) {
        html += `<button class="page-btn" onclick="goToPage(1)">1</button>`;
        if (startPage > 2) html += '<span class="page-ellipsis">...</span>';
    }

    for (let i = startPage; i <= endPage; i++) {
        html += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="goToPage(${i})">${i}</button>`;
    }

    if (endPage < totalPages) {
        if (endPage < totalPages - 1) html += '<span class="page-ellipsis">...</span>';
        html += `<button class="page-btn" onclick="goToPage(${totalPages})">${totalPages}</button>`;
    }

    // ë‹¤ìŒ ë²„íŠ¼
    if (currentPage < totalPages) {
        html += `<button class="page-btn" onclick="goToPage(${currentPage + 1})">ë‹¤ìŒ</button>`;
    }

    html += '</div>';
    container.innerHTML = html;
}

// CSS ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
const style = document.createElement('style');
style.textContent = `
    @keyframes slideIn {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
    @keyframes slideOut {
        from {
            transform: translateX(0);
            opacity: 1;
        }
        to {
            transform: translateX(100%);
            opacity: 0;
        }
    }
    .drag-over {
        border-color: var(--primary-color) !important;
        background-color: rgba(37, 99, 235, 0.05) !important;
    }
    .pagination {
        display: flex;
        gap: 8px;
        justify-content: center;
        align-items: center;
        margin-top: 24px;
    }
    .page-btn {
        padding: 8px 12px;
        border: 1px solid var(--border-color);
        background-color: var(--surface-color);
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: all 0.2s;
    }
    .page-btn:hover {
        background-color: var(--bg-color);
    }
    .page-btn.active {
        background-color: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
    }
    .page-ellipsis {
        padding: 8px 4px;
    }
`;
document.head.appendChild(style);

// ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ì´ˆê¸°í™”
document.addEventListener('DOMContentLoaded', function() {
    initDropdownMenus();
});
// initDropdownMenus í•¨ìˆ˜ëŠ” header.jsì—ì„œ ì œê³µë©ë‹ˆë‹¤

</script>
    <script>
        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + 'Tab').classList.add('active');
        }

        function setPeriod(period) {
            const end = new Date();
            const start = new Date();
            
            switch(period) {
                case 'week':
                    start.setDate(end.getDate() - 7);
                    break;
                case 'month':
                    start.setMonth(end.getMonth() - 1);
                    break;
                case '3month':
                    start.setMonth(end.getMonth() - 3);
                    break;
                case '6month':
                    start.setMonth(end.getMonth() - 6);
                    break;
            }
            
            document.getElementById('startDate').value = start.toISOString().split('T')[0];
            document.getElementById('endDate').value = end.toISOString().split('T')[0];
        }

        function viewReceipt(id) {
            // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œí•˜ì—¬ ì˜ìˆ˜ì¦ ë°ì´í„° ì¡°íšŒ
            // ì˜ˆì‹œ ë°ì´í„°
            const receiptData = {
                1: {
                    date: '2024-11-19 14:30',
                    amount: '100,000 í¬ì¸íŠ¸',
                    method: 'ì‹ ìš©ì¹´ë“œ',
                    status: 'ì¶©ì „ì™„ë£Œ',
                    receiptNumber: 'RCP-2024-001234'
                }
            };
            
            const data = receiptData[id] || receiptData[1];
            
            // ëª¨ë‹¬ì— ë°ì´í„° ì±„ìš°ê¸°
            document.getElementById('receiptDate').textContent = data.date;
            document.getElementById('receiptAmount').textContent = data.amount;
            document.getElementById('receiptMethod').textContent = data.method;
            document.getElementById('receiptStatus').textContent = data.status;
            document.getElementById('receiptNumber').textContent = data.receiptNumber;
            
            openModal('receiptModal');
        }

        function viewDetail(id) {
            // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œí•˜ì—¬ ìƒì„¸ ë‚´ì—­ ì¡°íšŒ
            // ì˜ˆì‹œ ë°ì´í„°
            const detailData = {
                1: {
                    date: '2024-11-19 15:30',
                    title: 'SMS ë°œì†¡',
                    content: 'ì´ë²¤íŠ¸ ì•ˆë‚´ ë©”ì‹œì§€ì…ë‹ˆë‹¤...',
                    callerNumber: '010-1234-5678',
                    service: 'SMS',
                    amount: '20,000 í¬ì¸íŠ¸',
                    callerBalance: '280,000 í¬ì¸íŠ¸',
                    totalBalance: '980,000 í¬ì¸íŠ¸',
                    sendCount: '1,000ê±´',
                    successCount: '998ê±´',
                    failCount: '2ê±´'
                },
                2: {
                    date: '2024-11-18 11:20',
                    title: 'ì•Œë¦¼í†¡ ë°œì†¡',
                    content: 'ì£¼ë¬¸ í™•ì¸ ì•Œë¦¼',
                    callerNumber: '010-2345-6789',
                    service: 'ì•Œë¦¼í†¡',
                    amount: '50,000 í¬ì¸íŠ¸',
                    callerBalance: '450,000 í¬ì¸íŠ¸',
                    totalBalance: '1,000,000 í¬ì¸íŠ¸',
                    sendCount: '1,667ê±´',
                    successCount: '1,665ê±´',
                    failCount: '2ê±´'
                }
            };
            
            const data = detailData[id] || detailData[1];
            
            // ëª¨ë‹¬ì— ë°ì´í„° ì±„ìš°ê¸°
            document.getElementById('detailDate').textContent = data.date;
            document.getElementById('detailTitle').textContent = data.title;
            document.getElementById('detailContent').textContent = data.content;
            document.getElementById('detailCallerNumber').textContent = data.callerNumber;
            document.getElementById('detailService').textContent = data.service;
            document.getElementById('detailAmount').textContent = data.amount;
            document.getElementById('detailCallerBalance').textContent = data.callerBalance;
            document.getElementById('detailTotalBalance').textContent = data.totalBalance;
            document.getElementById('detailSendCount').textContent = data.sendCount;
            document.getElementById('detailSuccessCount').textContent = data.successCount;
            document.getElementById('detailFailCount').textContent = data.failCount;
            
            openModal('detailModal');
        }

        function requestRefund() {
            showToast('í™˜ë¶ˆ ìš”ì²­ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.', 'info');
        }

        // í™˜ë¶ˆ ë°ì´í„° (ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ì¡°íšŒ)
        const refundData = {
            1: {
                chargeDate: '2024-11-19',
                chargeAmount: 100000,
                paymentMethod: 'card',
                paymentMethodLabel: 'ì‹ ìš©ì¹´ë“œ',
                used: false,
                daysElapsed: 2,
                remainingAmount: 100000
            },
            3: {
                chargeDate: '2024-11-15',
                chargeAmount: 200000,
                paymentMethod: 'card',
                paymentMethodLabel: 'ì‹ ìš©ì¹´ë“œ',
                used: true,
                daysElapsed: 6,
                remainingAmount: 150000
            },
            4: {
                chargeDate: '2024-11-10',
                chargeAmount: 300000,
                paymentMethod: 'realtime',
                paymentMethodLabel: 'ì‹¤ì‹œê°„ê³„ì¢Œì´ì²´',
                used: true,
                daysElapsed: 11,
                remainingAmount: 200000
            },
            5: {
                chargeDate: '2024-11-05',
                chargeAmount: 50000,
                paymentMethod: 'virtual',
                paymentMethodLabel: 'ê°€ìƒê³„ì¢Œ',
                used: false,
                daysElapsed: 16,
                remainingAmount: 50000
            }
        };

        let currentRefundId = null;

        function openRefundModal(id) {
            const data = refundData[id];
            if (!data) {
                showToast('í™˜ë¶ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', 'error');
                return;
            }

            currentRefundId = id;
            
            // ê¸°ë³¸ ì •ë³´ í‘œì‹œ
            document.getElementById('refundChargeDate').textContent = data.chargeDate;
            document.getElementById('refundChargeAmount').textContent = formatNumber(data.chargeAmount) + 'ì›';
            document.getElementById('refundPaymentMethod').textContent = data.paymentMethodLabel;
            document.getElementById('refundUsageStatus').textContent = data.used ? 'ì¼ë¶€ ì‚¬ìš©' : 'ë¯¸ì‚¬ìš©';
            document.getElementById('refundDaysElapsed').textContent = data.daysElapsed + 'ì¼';
            document.getElementById('refundRemainingAmount').textContent = formatNumber(data.remainingAmount) + 'ì›';
            
            // í™˜ë¶ˆ ê¸ˆì•¡ ê³„ì‚°
            let refundAmount = data.remainingAmount;
            let fee = 0;
            let refundTypeHtml = '';
            const feeRow = document.getElementById('refundFeeRow');
            const accountForm = document.getElementById('accountForm');
            
            if (data.paymentMethod === 'card') {
                // ì¹´ë“œê²°ì œ
                if (data.daysElapsed <= 7 && !data.used) {
                    // 7ì¼ ì´ë‚´ ë¯¸ì‚¬ìš©: ì „ì•¡ í™˜ë¶ˆ
                    refundTypeHtml = '<strong>ğŸ’³ ì¹´ë“œ ê²°ì œ ì·¨ì†Œ</strong><br>ì¶©ì „ í›„ 7ì¼ ì´ë‚´ì´ë©° í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ <strong>ì „ì•¡ í™˜ë¶ˆ</strong>ë©ë‹ˆë‹¤.';
                    feeRow.style.display = 'none';
                    accountForm.classList.remove('show');
                } else {
                    // 7ì¼ ì´í›„ ë˜ëŠ” ì‚¬ìš© í›„: 10% ìˆ˜ìˆ˜ë£Œ
                    fee = Math.floor(data.remainingAmount * 0.1);
                    refundAmount = data.remainingAmount - fee;
                    refundTypeHtml = '<strong>ğŸ’³ ì¹´ë“œ ê²°ì œ í™˜ë¶ˆ</strong><br>ì¶©ì „ í›„ 7ì¼ì´ ì§€ë‚¬ê±°ë‚˜ í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ <strong>ì”ì—¬ê¸ˆì•¡ì˜ 10% ìˆ˜ìˆ˜ë£Œ</strong>ê°€ ì°¨ê°ë©ë‹ˆë‹¤.';
                    document.getElementById('refundFee').textContent = '-' + formatNumber(fee) + 'ì›';
                    feeRow.style.display = 'flex';
                    accountForm.classList.remove('show');
                }
            } else {
                // ê³„ì¢Œì´ì²´, ê°€ìƒê³„ì¢Œ ë“±
                if (data.daysElapsed <= 7 && !data.used) {
                    refundTypeHtml = '<strong>ğŸ¦ ê³„ì¢Œ í™˜ë¶ˆ</strong><br>ì¶©ì „ í›„ 7ì¼ ì´ë‚´ì´ë©° í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ <strong>ì „ì•¡ í™˜ë¶ˆ</strong>ë©ë‹ˆë‹¤.<br>í™˜ë¶ˆ ë°›ì„ ê³„ì¢Œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                    feeRow.style.display = 'none';
                } else {
                    fee = Math.floor(data.remainingAmount * 0.1);
                    refundAmount = data.remainingAmount - fee;
                    refundTypeHtml = '<strong>ğŸ¦ ê³„ì¢Œ í™˜ë¶ˆ</strong><br>ì¶©ì „ í›„ 7ì¼ì´ ì§€ë‚¬ê±°ë‚˜ í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ <strong>ì”ì—¬ê¸ˆì•¡ì˜ 10% ìˆ˜ìˆ˜ë£Œ</strong>ê°€ ì°¨ê°ë©ë‹ˆë‹¤.<br>í™˜ë¶ˆ ë°›ì„ ê³„ì¢Œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                    document.getElementById('refundFee').textContent = '-' + formatNumber(fee) + 'ì›';
                    feeRow.style.display = 'flex';
                }
                accountForm.classList.add('show');
            }
            
            document.getElementById('refundTypeInfo').innerHTML = refundTypeHtml;
            document.getElementById('refundFinalAmount').textContent = formatNumber(refundAmount) + 'ì›';
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('refundBankName').value = '';
            document.getElementById('refundAccountNumber').value = '';
            document.getElementById('refundAccountHolder').value = '';
            document.getElementById('refundReason').value = '';
            
            openModal('refundModal');
        }

        function submitRefund() {
            const data = refundData[currentRefundId];
            if (!data) return;
            
            // ê³„ì¢Œì´ì²´/ê°€ìƒê³„ì¢Œì¸ ê²½ìš° ê³„ì¢Œ ì •ë³´ ê²€ì¦
            if (data.paymentMethod !== 'card') {
                const bankName = document.getElementById('refundBankName').value;
                const accountNumber = document.getElementById('refundAccountNumber').value;
                const accountHolder = document.getElementById('refundAccountHolder').value;
                
                if (!bankName) {
                    alert('ì€í–‰ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                    return;
                }
                if (!accountNumber) {
                    alert('ê³„ì¢Œë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                if (!accountHolder) {
                    alert('ì˜ˆê¸ˆì£¼ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
            }
            
            // í™•ì¸ ë©”ì‹œì§€
            const finalAmount = document.getElementById('refundFinalAmount').textContent;
            if (!confirm('í™˜ë¶ˆ ê¸ˆì•¡ ' + finalAmount + 'ì„ ì‹ ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\ní™˜ë¶ˆ ê¸ˆì•¡ì€ ì˜ì—…ì¼ ê¸°ì¤€ 7ì¼ ì´ë‚´ ì§€ê¸‰ë©ë‹ˆë‹¤.')) {
                return;
            }
            
            // ì‹¤ì œë¡œëŠ” ì„œë²„ì— í™˜ë¶ˆ ìš”ì²­
            closeModal('refundModal');
            showToast('í™˜ë¶ˆ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ì—…ì¼ ê¸°ì¤€ 7ì¼ ì´ë‚´ ì²˜ë¦¬ë©ë‹ˆë‹¤.', 'success');
        }

        // ì´ˆê¸°í™”
        setPeriod('month');
    </script>

    <!-- ì˜ìˆ˜ì¦ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="receiptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">ì˜ìˆ˜ì¦</h3>
                <button class="modal-close" onclick="closeModal('receiptModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">ì˜ìˆ˜ì¦ ë²ˆí˜¸</label>
                    <div class="form-input" style="background-color: var(--bg-color);" id="receiptNumber">RCP-2024-001234</div>
                </div>
                <div class="form-group">
                    <label class="form-label">ì¶©ì „ ì¼ì‹œ</label>
                    <div class="form-input" style="background-color: var(--bg-color);" id="receiptDate">2024-11-19 14:30</div>
                </div>
                <div class="form-group">
                    <label class="form-label">ì¶©ì „ í¬ì¸íŠ¸</label>
                    <div class="form-input" style="background-color: var(--bg-color); font-size: 20px; font-weight: 600;" id="receiptAmount">100,000 í¬ì¸íŠ¸</div>
                </div>
                <div class="form-group">
                    <label class="form-label">ì¶©ì „ ë°©ë²•</label>
                    <div class="form-input" style="background-color: var(--bg-color);" id="receiptMethod">ì‹ ìš©ì¹´ë“œ</div>
                </div>
                <div class="form-group">
                    <label class="form-label">ì¶©ì „ ìƒíƒœ</label>
                    <div class="form-input" style="background-color: var(--bg-color);" id="receiptStatus">ì¶©ì „ì™„ë£Œ</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeModal('receiptModal')">ë‹«ê¸°</button>
                <button class="btn btn-primary" onclick="printReceipt()">ì¸ì‡„</button>
                <button class="btn btn-primary" onclick="downloadReceipt()">ë‹¤ìš´ë¡œë“œ</button>
            </div>
        </div>
    </div>

    <!-- í™˜ë¶ˆ ì‹ ì²­ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="refundModal">
        <div class="modal" style="max-width: 500px;">
            <div class="modal-header">
                <h3 class="modal-title">í™˜ë¶ˆ ì‹ ì²­</h3>
                <button class="modal-close" onclick="closeModal('refundModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- í™˜ë¶ˆ ì •ì±… ì•ˆë‚´ -->
                <div class="refund-policy">
                    <strong>ğŸ“‹ í™˜ë¶ˆ ì •ì±… ì•ˆë‚´</strong>
                    <ul>
                        <li>ì”ì—¬ê¸ˆì•¡ì´ 1ë§Œì› ì´ìƒì¸ ê²½ìš°ì—ë§Œ í™˜ë¶ˆ ì‹ ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
                        <li>ëª¨ë“  ë©”ì‹œì§€ ë°œì†¡ì´ ì™„ë£Œëœ ìƒíƒœì—ì„œë§Œ í™˜ë¶ˆì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
                        <li>í™˜ë¶ˆ ê¸ˆì•¡ì€ ì˜ì—…ì¼ ê¸°ì¤€ 7ì¼ ì´ë‚´ ì§€ê¸‰ë©ë‹ˆë‹¤.</li>
                    </ul>
                </div>
                
                <!-- ì¶©ì „ ì •ë³´ -->
                <div class="refund-info-box">
                    <h4>ì¶©ì „ ì •ë³´</h4>
                    <div class="refund-info-row">
                        <span class="refund-info-label">ì¶©ì „ì¼</span>
                        <span class="refund-info-value" id="refundChargeDate">2024-11-19</span>
                    </div>
                    <div class="refund-info-row">
                        <span class="refund-info-label">ì¶©ì „ ê¸ˆì•¡</span>
                        <span class="refund-info-value" id="refundChargeAmount">100,000 P</span>
                    </div>
                    <div class="refund-info-row">
                        <span class="refund-info-label">ê²°ì œ ìˆ˜ë‹¨</span>
                        <span class="refund-info-value" id="refundPaymentMethod">ì‹ ìš©ì¹´ë“œ</span>
                    </div>
                    <div class="refund-info-row">
                        <span class="refund-info-label">ì‚¬ìš© ì—¬ë¶€</span>
                        <span class="refund-info-value" id="refundUsageStatus">ë¯¸ì‚¬ìš©</span>
                    </div>
                    <div class="refund-info-row">
                        <span class="refund-info-label">ê²½ê³¼ì¼</span>
                        <span class="refund-info-value" id="refundDaysElapsed">2ì¼</span>
                    </div>
                </div>
                
                <!-- í™˜ë¶ˆ ê¸ˆì•¡ ê³„ì‚° -->
                <div class="refund-info-box">
                    <h4>í™˜ë¶ˆ ê¸ˆì•¡</h4>
                    <div class="refund-info-row">
                        <span class="refund-info-label">ì”ì—¬ ê¸ˆì•¡</span>
                        <span class="refund-info-value" id="refundRemainingAmount">100,000 P</span>
                    </div>
                    <div class="refund-info-row" id="refundFeeRow" style="display: none;">
                        <span class="refund-info-label">í™˜ë¶ˆ ìˆ˜ìˆ˜ë£Œ (10%)</span>
                        <span class="refund-info-value danger" id="refundFee">-10,000 P</span>
                    </div>
                    <div class="refund-info-row" style="border-top: 2px solid var(--border-color); margin-top: 8px; padding-top: 12px;">
                        <span class="refund-info-label" style="font-weight: 600;">ì˜ˆìƒ í™˜ë¶ˆ ê¸ˆì•¡</span>
                        <span class="refund-info-value highlight" id="refundFinalAmount">100,000 P</span>
                    </div>
                </div>
                
                <!-- í™˜ë¶ˆ ìœ í˜• ì•ˆë‚´ -->
                <div class="alert alert-info" id="refundTypeInfo" style="margin-bottom: 16px;">
                    <strong>ğŸ’³ ì¹´ë“œ ê²°ì œ ì·¨ì†Œ</strong><br>
                    ì¶©ì „ í›„ 7ì¼ ì´ë‚´ì´ë©° í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ <strong>ì „ì•¡ í™˜ë¶ˆ</strong>ë©ë‹ˆë‹¤.
                </div>
                
                <!-- ê³„ì¢Œ ì…ë ¥ í¼ (ê³„ì¢Œì´ì²´/ê°€ìƒê³„ì¢Œìš©) -->
                <div class="account-form" id="accountForm">
                    <h4 style="margin-bottom: 12px; font-size: 14px; font-weight: 600;">í™˜ë¶ˆ ë°›ì„ ê³„ì¢Œ ì •ë³´</h4>
                    <div class="form-group">
                        <label class="form-label required">ì€í–‰ëª…</label>
                        <select class="form-select" id="refundBankName">
                            <option value="">ì€í–‰ ì„ íƒ</option>
                            <option value="kb">KBêµ­ë¯¼ì€í–‰</option>
                            <option value="shinhan">ì‹ í•œì€í–‰</option>
                            <option value="woori">ìš°ë¦¬ì€í–‰</option>
                            <option value="hana">í•˜ë‚˜ì€í–‰</option>
                            <option value="nh">NHë†í˜‘ì€í–‰</option>
                            <option value="ibk">IBKê¸°ì—…ì€í–‰</option>
                            <option value="sc">SCì œì¼ì€í–‰</option>
                            <option value="citi">í•œêµ­ì”¨í‹°ì€í–‰</option>
                            <option value="kakao">ì¹´ì¹´ì˜¤ë±…í¬</option>
                            <option value="toss">í† ìŠ¤ë±…í¬</option>
                            <option value="kbank">ì¼€ì´ë±…í¬</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label required">ê³„ì¢Œë²ˆí˜¸</label>
                        <input type="text" class="form-input" id="refundAccountNumber" placeholder="'-' ì—†ì´ ìˆ«ìë§Œ ì…ë ¥">
                    </div>
                    <div class="form-group">
                        <label class="form-label required">ì˜ˆê¸ˆì£¼</label>
                        <input type="text" class="form-input" id="refundAccountHolder" placeholder="ì˜ˆê¸ˆì£¼ëª… ì…ë ¥">
                    </div>
                </div>
                
                <!-- í™˜ë¶ˆ ì‚¬ìœ  -->
                <div class="form-group">
                    <label class="form-label">í™˜ë¶ˆ ì‚¬ìœ  (ì„ íƒ)</label>
                    <textarea class="form-textarea" id="refundReason" placeholder="í™˜ë¶ˆ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (ì„ íƒì‚¬í•­)" rows="3"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeModal('refundModal')">ì·¨ì†Œ</button>
                <button class="btn btn-danger" onclick="submitRefund()">í™˜ë¶ˆ ì‹ ì²­</button>
            </div>
        </div>
    </div>

    <!-- ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
    <div class="modal-overlay" id="detailModal">
        <div class="modal" style="max-width: 800px;">
            <div class="modal-header">
                <h3 class="modal-title">ì‚¬ìš© ë‚´ì—­ ìƒì„¸</h3>
                <button class="modal-close" onclick="closeModal('detailModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label class="form-label">ì‚¬ìš© ì¼ì‹œ</label>
                        <div class="form-input" style="background-color: var(--bg-color);" id="detailDate">2024-11-19 15:30</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì„œë¹„ìŠ¤</label>
                        <div class="form-input" style="background-color: var(--bg-color);" id="detailService">SMS</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">ì œëª©</label>
                    <div class="form-input" style="background-color: var(--bg-color);" id="detailTitle">SMS ë°œì†¡</div>
                </div>
                <div class="form-group">
                    <label class="form-label">ë‚´ìš©</label>
                    <div class="form-input" style="background-color: var(--bg-color); min-height: 80px;" id="detailContent">ì´ë²¤íŠ¸ ì•ˆë‚´ ë©”ì‹œì§€ì…ë‹ˆë‹¤...</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label class="form-label">ë°œì‹ ë²ˆí˜¸</label>
                        <div class="form-input" style="background-color: var(--bg-color);" id="detailCallerNumber">010-1234-5678</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì‚¬ìš© í¬ì¸íŠ¸</label>
                        <div class="form-input" style="background-color: var(--bg-color); font-size: 18px; font-weight: 600; color: var(--danger-color);" id="detailAmount">-20,000 í¬ì¸íŠ¸</div>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label class="form-label">ë°œì‹ ë²ˆí˜¸ë³„ ì”ì—¬ í¬ì¸íŠ¸</label>
                        <div class="form-input" style="background-color: var(--bg-color); font-weight: 600;" id="detailCallerBalance">280,000 í¬ì¸íŠ¸</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì „ì²´ ì”ì—¬ í¬ì¸íŠ¸</label>
                        <div class="form-input" style="background-color: var(--bg-color); font-weight: 600;" id="detailTotalBalance">980,000 í¬ì¸íŠ¸</div>
                    </div>
                </div>
                <div style="border-top: 1px solid var(--border-color); padding-top: 20px; margin-top: 20px;">
                    <h4 style="margin-bottom: 16px; font-size: 16px; font-weight: 600;">ë°œì†¡ í†µê³„</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px;">
                        <div class="form-group">
                            <label class="form-label">ë°œì†¡ ê±´ìˆ˜</label>
                            <div class="form-input" style="background-color: var(--bg-color); text-align: center; font-weight: 600;" id="detailSendCount">1,000ê±´</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ì„±ê³µ ê±´ìˆ˜</label>
                            <div class="form-input" style="background-color: var(--bg-color); text-align: center; font-weight: 600; color: var(--success-color);" id="detailSuccessCount">998ê±´</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ì‹¤íŒ¨ ê±´ìˆ˜</label>
                            <div class="form-input" style="background-color: var(--bg-color); text-align: center; font-weight: 600; color: var(--danger-color);" id="detailFailCount">2ê±´</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeModal('detailModal')">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        function printReceipt() {
            window.print();
        }

        function downloadReceipt() {
            showToast('ì˜ìˆ˜ì¦ ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë©ë‹ˆë‹¤.', 'info');
            // ì‹¤ì œë¡œëŠ” PDF ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ êµ¬í˜„
        }

        function downloadExcel() {
            showToast('ì—‘ì…€ ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë©ë‹ˆë‹¤.', 'info');
            // ì‹¤ì œë¡œëŠ” ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ êµ¬í˜„
        }

        function downloadPDF() {
            showToast('PDF ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë©ë‹ˆë‹¤.', 'info');
            // ì‹¤ì œë¡œëŠ” PDF ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ êµ¬í˜„
        }
    </script>
    <script src="js/footer.js"></script>
    <script>
        document.write(createFloatingMenu());
        document.write(createFooter());
    </script>
    <!-- í™”ë©´ì„¤ê³„ ì˜¤ë²„ë ˆì´ -->
    <script src="js/spec-overlay.js"></script>
    <script>
        const specData = [
            // 1. íƒ­ ë©”ë‰´
            { selector: '#paymentTabs', title: 'íƒ­ ë©”ë‰´', position: { top: '-5px', left: '-10px' }, function: 'ê²°ì œ ê´€ë ¨ í˜ì´ì§€ ì´ë™' },
            // 2. ì¶©ì „í•˜ê¸° íƒ­
            { selector: '#paymentTabs .tab-item:nth-child(1)', title: 'ì¶©ì „í•˜ê¸° íƒ­', position: { top: '-5px', left: '-10px' }, function: 'í¬ì¸íŠ¸ ì¶©ì „ í˜ì´ì§€' },
            // 3. ì¶©ì „ë‚´ì—­ íƒ­
            { selector: '#paymentTabs .tab-item:nth-child(2)', title: 'ì¶©ì „ë‚´ì—­ íƒ­', position: { top: '-5px', left: '-10px' }, function: 'ì¶©ì „ ì´ë ¥ í˜ì´ì§€ (í˜„ì¬)' },
            // 4. ì„¸ê¸ˆê³„ì‚°ì„œ íƒ­
            { selector: '#paymentTabs .tab-item:nth-child(3)', title: 'ì„¸ê¸ˆê³„ì‚°ì„œ íƒ­', position: { top: '-5px', right: '-10px' }, function: 'ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰' },
            // 5. ê¸°ê°„ ë‹¨ì¶• ë²„íŠ¼ ì˜ì—­
            { selector: '#periodButtons', title: 'ê¸°ê°„ ë‹¨ì¶• ë²„íŠ¼', position: { top: '-5px', left: '-10px' }, function: 'ë¹ ë¥¸ ê¸°ê°„ ì„¤ì •' },
            // 6. 1ì£¼ì¼ ë²„íŠ¼
            { selector: '#periodButtons button:nth-child(1)', title: '1ì£¼ì¼', position: { top: '-5px', left: '-10px' }, function: 'ìµœê·¼ 1ì£¼ì¼ ì¡°íšŒ' },
            // 7. 1ê°œì›” ë²„íŠ¼
            { selector: '#periodButtons button:nth-child(2)', title: '1ê°œì›”', position: { top: '-5px', left: '-10px' }, function: 'ìµœê·¼ 1ê°œì›” ì¡°íšŒ' },
            // 8. 3ê°œì›” ë²„íŠ¼
            { selector: '#periodButtons button:nth-child(3)', title: '3ê°œì›”', position: { top: '-5px', left: '-10px' }, function: 'ìµœê·¼ 3ê°œì›” ì¡°íšŒ' },
            // 9. 6ê°œì›” ë²„íŠ¼
            { selector: '#periodButtons button:nth-child(4)', title: '6ê°œì›”', position: { top: '-5px', right: '-10px' }, function: 'ìµœê·¼ 6ê°œì›” ì¡°íšŒ' },
            // 10. ë‚ ì§œ ë²”ìœ„ ê·¸ë£¹
            { selector: '#dateRangeGroup', title: 'ë‚ ì§œ ë²”ìœ„', position: { top: '-5px', left: '-10px' }, function: 'ì‹œì‘ì¼/ì¢…ë£Œì¼ ì§ì ‘ ì„ íƒ' },
            // 11. ì‹œì‘ì¼
            { selector: '#startDate', title: 'ì‹œì‘ì¼', position: { top: '-5px', left: '-10px' }, function: 'ì¡°íšŒ ì‹œì‘ ë‚ ì§œ' },
            // 12. ì¢…ë£Œì¼
            { selector: '#endDate', title: 'ì¢…ë£Œì¼', position: { top: '-5px', left: '-10px' }, function: 'ì¡°íšŒ ì¢…ë£Œ ë‚ ì§œ' },
            // 13. ì¡°íšŒ ë²„íŠ¼
            { selector: '#searchBtn', title: 'ì¡°íšŒ ë²„íŠ¼', position: { top: '-5px', right: '-10px' }, function: 'ì¶©ì „ ë‚´ì—­ ê²€ìƒ‰', api: 'GET /api/payment/history' },
            // 14. ì¶©ì „ ë‚´ì—­ í…Œì´ë¸”
            { selector: '#historyTableContainer', title: 'ì¶©ì „ ë‚´ì—­ í…Œì´ë¸”', position: { top: '10px', left: '10px' }, function: 'ì¶©ì „ ë‚´ì—­ ëª©ë¡', behavior: ['ë‚ ì§œ', 'ì¶©ì „í¬ì¸íŠ¸', 'ì¶©ì „ë°©ë²•', 'ìƒíƒœ'] },
            // 15. ì˜ìˆ˜ì¦ ë²„íŠ¼
            { selector: '#historyTableContainer .btn-sm', title: 'ì˜ìˆ˜ì¦ ë²„íŠ¼', position: { top: '-5px', right: '-10px' }, function: 'ì˜ìˆ˜ì¦ ìƒì„¸ í™•ì¸' },
            // 16. ì—‘ì…€ ë‹¤ìš´ë¡œë“œ
            { selector: '#excelDownloadBtn', title: 'ì—‘ì…€ ë‹¤ìš´ë¡œë“œ', position: { top: '-5px', left: '-10px' }, function: 'ì¶©ì „ ë‚´ì—­ ì—‘ì…€ ë‚´ë³´ë‚´ê¸°' },
            // 17. í˜ì´ì§€ë„¤ì´ì…˜
            { selector: '#pagination', title: 'í˜ì´ì§€ë„¤ì´ì…˜', position: { top: '-5px', left: '50%', transform: 'translateX(-50%)' }, function: 'í˜ì´ì§€ ì´ë™' },
            // === ì˜ìˆ˜ì¦ ëª¨ë‹¬ ===
            // 18. ì˜ìˆ˜ì¦ ëª¨ë‹¬
            {
                selector: '#receiptModal',
                title: 'ì˜ìˆ˜ì¦ ëª¨ë‹¬',
                position: { top: '60px', left: '20px' },
                function: 'ì¶©ì „ ì˜ìˆ˜ì¦ ìƒì„¸ ì •ë³´',
                behavior: ['ì˜ìˆ˜ì¦ ë²ˆí˜¸', 'ì¶©ì „ ì¼ì‹œ', 'ê¸ˆì•¡', 'ê²°ì œ ë°©ë²•', 'ìƒíƒœ í‘œì‹œ']
            },
            // 19. ì˜ìˆ˜ì¦ ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼
            {
                selector: '#receiptModal .modal-close',
                title: 'ëª¨ë‹¬ ë‹«ê¸°',
                position: { top: '5px', right: '5px' },
                function: 'ì˜ìˆ˜ì¦ ëª¨ë‹¬ ë‹«ê¸°'
            },
            // 20. ì˜ìˆ˜ì¦ ë²ˆí˜¸
            {
                selector: '#receiptNumber',
                title: 'ì˜ìˆ˜ì¦ ë²ˆí˜¸',
                position: { top: '-5px', right: '-10px' },
                function: 'ì˜ìˆ˜ì¦ ê³ ìœ  ë²ˆí˜¸ í‘œì‹œ'
            },
            // 21. ì¶©ì „ ì¼ì‹œ
            {
                selector: '#receiptDate',
                title: 'ì¶©ì „ ì¼ì‹œ',
                position: { top: '-5px', right: '-10px' },
                function: 'ì¶©ì „ ë‚ ì§œ ë° ì‹œê°„ í‘œì‹œ'
            },
            // 22. ì¶©ì „ í¬ì¸íŠ¸
            {
                selector: '#receiptAmount',
                title: 'ì¶©ì „ í¬ì¸íŠ¸',
                position: { top: '-5px', right: '-10px' },
                function: 'ì¶©ì „ëœ í¬ì¸íŠ¸ ê¸ˆì•¡'
            },
            // 23. ì¶©ì „ ë°©ë²•
            {
                selector: '#receiptMethod',
                title: 'ì¶©ì „ ë°©ë²•',
                position: { top: '-5px', right: '-10px' },
                function: 'ê²°ì œ ìˆ˜ë‹¨ í‘œì‹œ'
            },
            // 24. ì¶©ì „ ìƒíƒœ
            {
                selector: '#receiptStatus',
                title: 'ì¶©ì „ ìƒíƒœ',
                position: { top: '-5px', right: '-10px' },
                function: 'ì¶©ì „ ì™„ë£Œ/ì§„í–‰ì¤‘/ì‹¤íŒ¨ ìƒíƒœ'
            },
            // 25. ì˜ìˆ˜ì¦ ë‹«ê¸° ë²„íŠ¼
            {
                selector: '#receiptModal .modal-footer .btn-outline',
                title: 'ë‹«ê¸° ë²„íŠ¼',
                position: { top: '-5px', left: '-10px' },
                function: 'ì˜ìˆ˜ì¦ ëª¨ë‹¬ ë‹«ê¸°'
            },
            // 26. ì˜ìˆ˜ì¦ ì¸ì‡„ ë²„íŠ¼
            {
                selector: '#receiptModal .modal-footer .btn-primary:first-of-type',
                title: 'ì¸ì‡„ ë²„íŠ¼',
                position: { top: '-5px', left: '-10px' },
                function: 'ì˜ìˆ˜ì¦ ì¸ì‡„'
            },
            // 27. ì˜ìˆ˜ì¦ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
            {
                selector: '#receiptModal .modal-footer .btn-primary:last-of-type',
                title: 'ë‹¤ìš´ë¡œë“œ ë²„íŠ¼',
                position: { top: '-5px', right: '-10px' },
                function: 'PDF ì˜ìˆ˜ì¦ ë‹¤ìš´ë¡œë“œ'
            },
            // === ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ===
            // 28. ìƒì„¸ë³´ê¸° ëª¨ë‹¬
            {
                selector: '#detailModal',
                title: 'ì‚¬ìš© ë‚´ì—­ ìƒì„¸ ëª¨ë‹¬',
                position: { top: '60px', left: '20px' },
                function: 'í¬ì¸íŠ¸ ì‚¬ìš© ë‚´ì—­ ìƒì„¸ ì •ë³´',
                behavior: ['ì‚¬ìš© ì¼ì‹œ', 'ì„œë¹„ìŠ¤', 'ì œëª©', 'ë‚´ìš©', 'ë°œì‹ ë²ˆí˜¸', 'ì‚¬ìš© í¬ì¸íŠ¸', 'ë°œì†¡ ê±´ìˆ˜', 'ì„±ê³µ/ì‹¤íŒ¨ ê±´ìˆ˜']
            },
            // 29. ìƒì„¸ ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼
            {
                selector: '#detailModal .modal-close',
                title: 'ëª¨ë‹¬ ë‹«ê¸°',
                position: { top: '5px', right: '5px' },
                function: 'ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ë‹«ê¸°'
            },
            // 30. ì‚¬ìš© ì¼ì‹œ
            {
                selector: '#detailDate',
                title: 'ì‚¬ìš© ì¼ì‹œ',
                position: { top: '-5px', right: '-10px' },
                function: 'í¬ì¸íŠ¸ ì‚¬ìš© ë‚ ì§œ/ì‹œê°„'
            },
            // 31. ì„œë¹„ìŠ¤ ìœ í˜•
            {
                selector: '#detailService',
                title: 'ì„œë¹„ìŠ¤',
                position: { top: '-5px', right: '-10px' },
                function: 'ì‚¬ìš© ì„œë¹„ìŠ¤ (SMS/LMS/MMS/ì•Œë¦¼í†¡)'
            },
            // 32. ì œëª©
            {
                selector: '#detailTitle',
                title: 'ì œëª©',
                position: { top: '-5px', right: '-10px' },
                function: 'ë°œì†¡ ì œëª©'
            },
            // 33. ë‚´ìš©
            {
                selector: '#detailContent',
                title: 'ë‚´ìš©',
                position: { top: '5px', right: '5px' },
                function: 'ë°œì†¡ ë©”ì‹œì§€ ë‚´ìš©'
            },
            // 34. ë°œì‹ ë²ˆí˜¸
            {
                selector: '#detailCallerNumber',
                title: 'ë°œì‹ ë²ˆí˜¸',
                position: { top: '-5px', right: '-10px' },
                function: 'ë°œì‹  ì „í™”ë²ˆí˜¸'
            },
            // 35. ì‚¬ìš© í¬ì¸íŠ¸
            {
                selector: '#detailAmount',
                title: 'ì‚¬ìš© í¬ì¸íŠ¸',
                position: { top: '-5px', right: '-10px' },
                function: 'ì°¨ê°ëœ í¬ì¸íŠ¸ ê¸ˆì•¡'
            },
            // 36. ìƒì„¸ ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼
            {
                selector: '#detailModal .modal-footer .btn-outline',
                title: 'ë‹«ê¸° ë²„íŠ¼',
                position: { top: '-5px', left: '-10px' },
                function: 'ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ë‹«ê¸°'
            },
            // === í™˜ë¶ˆ ì‹ ì²­ ëª¨ë‹¬ ===
            // 37. í™˜ë¶ˆ ì‹ ì²­ ëª¨ë‹¬
            {
                selector: '#refundModal',
                title: 'í™˜ë¶ˆ ì‹ ì²­ ëª¨ë‹¬',
                position: { top: '60px', left: '20px' },
                description: 'í¬ì¸íŠ¸ í™˜ë¶ˆ ì‹ ì²­ì„ ìœ„í•œ ëª¨ë‹¬',
                function: 'í™˜ë¶ˆ ì •ì±… í™•ì¸ ë° í™˜ë¶ˆ ì‹ ì²­',
                behavior: [
                    'í™˜ë¶ˆ ì •ì±… ì•ˆë‚´ í‘œì‹œ',
                    'ì¶©ì „ ì •ë³´ í‘œì‹œ (ì¶©ì „ì¼, ì¶©ì „ê¸ˆì•¡, ê²°ì œìˆ˜ë‹¨, ì‚¬ìš©ì—¬ë¶€, ê²½ê³¼ì¼)',
                    'í™˜ë¶ˆ ì˜ˆìƒ ê¸ˆì•¡ ê³„ì‚°',
                    'í™˜ë¶ˆ ì‚¬ìœ  ì…ë ¥',
                    'í™˜ë¶ˆ ë™ì˜ ì²´í¬ë°•ìŠ¤'
                ],
                api: 'POST /api/payment/refund',
                tags: [{ text: 'ëª¨ë‹¬', type: 'info' }]
            },
            // 38. í™˜ë¶ˆ ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼
            {
                selector: '#refundModal .modal-close',
                title: 'ëª¨ë‹¬ ë‹«ê¸°',
                position: { top: '5px', right: '5px' },
                function: 'í™˜ë¶ˆ ì‹ ì²­ ëª¨ë‹¬ ë‹«ê¸°'
            },
            // 39. í™˜ë¶ˆ ì¶©ì „ ì •ë³´
            {
                selector: '.refund-info-box',
                title: 'ì¶©ì „ ì •ë³´',
                position: { top: '5px', left: '5px' },
                function: 'í™˜ë¶ˆ ëŒ€ìƒ ì¶©ì „ ì •ë³´ í‘œì‹œ',
                behavior: ['ì¶©ì „ì¼, ì¶©ì „ê¸ˆì•¡, ê²°ì œìˆ˜ë‹¨, ì‚¬ìš©ì—¬ë¶€, ê²½ê³¼ì¼']
            },
            // 40. í™˜ë¶ˆ ì˜ˆìƒ ê¸ˆì•¡
            {
                selector: '#refundEstimate',
                title: 'í™˜ë¶ˆ ì˜ˆìƒ ê¸ˆì•¡',
                position: { top: '-5px', right: '-10px' },
                function: 'í™˜ë¶ˆ ì‹œ ì˜ˆìƒ ê¸ˆì•¡ í‘œì‹œ'
            },
            // 41. í™˜ë¶ˆ ì‚¬ìœ  ì…ë ¥
            {
                selector: '#refundReason',
                title: 'í™˜ë¶ˆ ì‚¬ìœ ',
                position: { top: '5px', right: '5px' },
                function: 'í™˜ë¶ˆ ì‚¬ìœ  ì…ë ¥',
                tags: [{ text: 'í•„ìˆ˜', type: 'required' }]
            },
            // 42. í™˜ë¶ˆ ë™ì˜ ì²´í¬ë°•ìŠ¤
            {
                selector: '#refundAgree',
                title: 'í™˜ë¶ˆ ë™ì˜',
                position: { top: '-5px', left: '-10px' },
                function: 'í™˜ë¶ˆ ì •ì±… ë™ì˜',
                tags: [{ text: 'í•„ìˆ˜', type: 'required' }]
            },
            // 43. í™˜ë¶ˆ ì·¨ì†Œ ë²„íŠ¼
            {
                selector: '#refundModal .modal-footer .btn-outline',
                title: 'ì·¨ì†Œ ë²„íŠ¼',
                position: { top: '-5px', left: '-10px' },
                function: 'í™˜ë¶ˆ ì‹ ì²­ ì·¨ì†Œ ë° ëª¨ë‹¬ ë‹«ê¸°'
            },
            // 44. í™˜ë¶ˆ ì‹ ì²­ ë²„íŠ¼
            {
                selector: '#refundModal .modal-footer .btn-primary',
                title: '44. í™˜ë¶ˆ ì‹ ì²­ ë²„íŠ¼',
                position: { top: '-5px', right: '-10px' },
                description: 'ë²„íŠ¼ (Button - Primary)',
                function: 'í™˜ë¶ˆ ì‹ ì²­ ì œì¶œ',
                behavior: [
                    'ã€ìœ íš¨ì„± ê²€ì‚¬ã€‘',
                    'â€¢ í™˜ë¶ˆ ì‚¬ìœ  ì…ë ¥ ì—¬ë¶€',
                    'â€¢ í™˜ë¶ˆ ë™ì˜ ì²´í¬ ì—¬ë¶€',
                    'â€¢ í™˜ë¶ˆ ê°€ëŠ¥ ê¸ˆì•¡ 1ë§Œì› ì´ìƒ',
                    'ã€Alert ë©”ì‹œì§€ - ìœ íš¨ì„± ì‹¤íŒ¨ã€‘',
                    'â€¢ ì‚¬ìœ  ë¯¸ì…ë ¥: "í™˜ë¶ˆ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."',
                    'â€¢ ë™ì˜ ë¯¸ì²´í¬: "í™˜ë¶ˆ ì •ì±…ì— ë™ì˜í•´ì£¼ì„¸ìš”."',
                    'â€¢ ê¸ˆì•¡ ë¶€ì¡±: "í™˜ë¶ˆ ê°€ëŠ¥ ê¸ˆì•¡ì´ ìµœì†Œ ê¸ˆì•¡(1ë§Œì›) ë¯¸ë§Œì…ë‹ˆë‹¤."',
                    'ã€Confirm ë©”ì‹œì§€ã€‘',
                    'â€¢ "í™˜ë¶ˆì„ ì‹ ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ? í™˜ë¶ˆ ì²˜ë¦¬ê¹Œì§€ ì˜ì—…ì¼ ê¸°ì¤€ 7ì¼ì´ ì†Œìš”ë©ë‹ˆë‹¤."',
                    'ã€Toast ë©”ì‹œì§€ã€‘',
                    'â€¢ ì‹ ì²­ ì„±ê³µ: "í™˜ë¶ˆ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."',
                    'â€¢ ì‹ ì²­ ì‹¤íŒ¨: "í™˜ë¶ˆ ì‹ ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."',
                    'ã€Alert ë©”ì‹œì§€ - ì‹œìŠ¤í…œ ì—ëŸ¬ã€‘',
                    'â€¢ ì„œë²„ ì˜¤ë¥˜: "ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."',
                    'â€¢ ì„¸ì…˜ ë§Œë£Œ: "ë¡œê·¸ì¸ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤."'
                ],
                api: 'POST /api/payment/refund',
                tags: [{ text: 'API', type: 'api' }]
            }
        ];
        initSpecOverlay(specData);
    </script>
</body>
</html>

