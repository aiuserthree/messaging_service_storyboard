<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™˜ë¶ˆ ì‹ ì²­ - ë©”ì‹œì§• ì„œë¹„ìŠ¤</title>
    <script src="js/header.js"></script>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/layout.css">
    <style>
        /* ì”ì•¡ ìš”ì•½ ì¹´ë“œ */
        .balance-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }
        
        .balance-card {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: 24px;
            text-align: center;
            box-shadow: var(--shadow-card);
        }
        
        .balance-card.highlight {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-color: var(--primary-color);
        }
        
        .balance-card-icon {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
        }
        
        .balance-card-icon.blue {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
        }
        
        .balance-card-icon.green {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        
        .balance-card-icon.orange {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }
        
        .balance-card-label {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }
        
        .balance-card-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .balance-card.highlight .balance-card-value {
            color: var(--primary-color);
        }
        
        .balance-card-sub {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 8px;
        }
        
        /* í™˜ë¶ˆ ì‹ ì²­ í¼ */
        .refund-form-section {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 24px;
            align-items: start;
        }
        
        /* í”Œë¡œíŒ… ìŠ¤í‹°í‚¤ ì‚¬ì´ë“œë°” */
        .refund-sidebar {
            position: sticky;
            top: 88px;
            align-self: flex-start;
        }
        
        @media (max-width: 1024px) {
            .refund-form-section {
                grid-template-columns: 1fr;
            }
            .balance-summary {
                grid-template-columns: 1fr;
            }
            .refund-sidebar {
                position: static;
            }
        }
        
        /* í˜ì´ì§€ë„¤ì´ì…˜ */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 4px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        
        .pagination-btn {
            min-width: 36px;
            height: 36px;
            padding: 0 12px;
            border: 1px solid var(--border-color);
            background: var(--surface-color);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .pagination-btn:hover:not(:disabled) {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }
        
        .pagination-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .pagination-ellipsis {
            padding: 0 8px;
            color: var(--text-muted);
        }
        
        .pagination-info {
            font-size: 13px;
            color: var(--text-secondary);
            margin-left: 16px;
        }
        
        /* ë‚´ì—­ í…Œì´ë¸” */
        .history-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .history-tab {
            padding: 8px 16px;
            border: 1px solid var(--border-color);
            background: var(--surface-color);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .history-tab:hover {
            border-color: var(--primary-color);
        }
        
        .history-tab.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .history-content {
            display: none;
        }
        
        .history-content.active {
            display: block;
        }
        
        /* í™˜ë¶ˆ ì •ì±… ì•ˆë‚´ */
        .refund-policy-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 1px solid #f59e0b;
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 24px;
        }
        
        .refund-policy-box h4 {
            color: #92400e;
            font-size: 16px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .refund-policy-box ul {
            color: #92400e;
            font-size: 13px;
            margin: 0;
            padding-left: 20px;
        }
        
        .refund-policy-box li {
            margin-bottom: 6px;
        }
        
        /* í™˜ë¶ˆ ê¸ˆì•¡ ê³„ì‚° */
        .refund-calculation {
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .refund-calculation h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .calc-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            font-size: 14px;
        }
        
        .calc-row.total {
            border-top: 2px solid var(--border-color);
            margin-top: 12px;
            padding-top: 16px;
            font-weight: 600;
        }
        
        .calc-label {
            color: var(--text-secondary);
        }
        
        .calc-value {
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .calc-value.highlight {
            color: var(--primary-color);
            font-size: 20px;
        }
        
        .calc-value.danger {
            color: var(--danger-color);
        }
        
        /* ìƒíƒœ ë°°ì§€ */
        .status-badge {
            padding: 4px 8px;
            border-radius: var(--radius-sm);
            font-size: 12px;
            font-weight: 500;
        }
        .status-charge { background: rgba(16, 185, 129, 0.1); color: var(--success-color); }
        .status-mileage { background: rgba(37, 99, 235, 0.1); color: var(--primary-color); }
        .status-use { background: rgba(239, 68, 68, 0.1); color: var(--danger-color); }
        .status-refund { background: rgba(100, 116, 139, 0.1); color: var(--secondary-color); }
        
        /* ê¸ˆì•¡ í‘œì‹œ */
        .amount-plus { color: var(--success-color); font-weight: 600; }
        .amount-minus { color: var(--danger-color); font-weight: 600; }
        
        /* ê³„ì¢Œ ì…ë ¥ í¼ */
        .account-section {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 20px;
        }
        
        .account-section h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <script>
            document.write(createHeader());
        </script>

        <main class="main-content">
            <div class="page-header">
                <h2>ê²°ì œ ê´€ë¦¬</h2>
                <p class="page-description">í™˜ë¶ˆì„ ì‹ ì²­í•˜ê³  í¬ì¸íŠ¸/ë§ˆì¼ë¦¬ì§€ ë‚´ì—­ì„ í™•ì¸í•©ë‹ˆë‹¤</p>
            </div>

            <!-- íƒ­ ë©”ë‰´ -->
            <div class="tabs" id="paymentTabs">
                <div class="tab-list">
                    <button class="tab-item" onclick="window.location.href='payment-charge.html'">ì¶©ì „í•˜ê¸°</button>
                    <button class="tab-item" onclick="window.location.href='payment-history.html'">ì¶©ì „ ë‚´ì—­</button>
                    <button class="tab-item active" onclick="window.location.href='payment-refund.html'">í™˜ë¶ˆ</button>
                    <button class="tab-item" onclick="window.location.href='payment-tax.html'">ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰</button>
                </div>
            </div>

            <!-- ì”ì•¡ ìš”ì•½ -->
            <div class="balance-summary" id="balanceSummary">
                <div class="balance-card highlight">
                    <div class="balance-card-icon blue">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/>
                        </svg>
                    </div>
                    <div class="balance-card-label">ì”ì—¬ í¬ì¸íŠ¸</div>
                    <div class="balance-card-value" id="remainingPoints">1,000,000</div>
                    <div class="balance-card-sub">ì¶©ì „ í¬ì¸íŠ¸ ì”ì•¡</div>
                </div>
                <div class="balance-card">
                    <div class="balance-card-icon green">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
                        </svg>
                    </div>
                    <div class="balance-card-label">í™˜ë¶ˆ ê°€ëŠ¥ ê¸ˆì•¡</div>
                    <div class="balance-card-value" id="refundableAmount">900,000</div>
                    <div class="balance-card-sub">ìˆ˜ìˆ˜ë£Œ 10% ì°¨ê° í›„</div>
                </div>
                <div class="balance-card">
                    <div class="balance-card-icon orange">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"/>
                        </svg>
                    </div>
                    <div class="balance-card-label">ë§ˆì¼ë¦¬ì§€</div>
                    <div class="balance-card-value" id="mileagePoints">92.6</div>
                    <div class="balance-card-sub">ë¬¸ìë°œì†¡ ì‹œ ì‚¬ìš© (í™˜ë¶ˆë¶ˆê°€)</div>
                </div>
            </div>

            <!-- í™˜ë¶ˆ ì •ì±… ì•ˆë‚´ -->
            <div class="refund-policy-box" id="refundPolicyBox">
                <h4>ğŸ“‹ í™˜ë¶ˆ ì •ì±… ì•ˆë‚´</h4>
                <ul>
                    <li><strong>í™˜ë¶ˆ ì¡°ê±´:</strong> ì”ì—¬ê¸ˆì•¡ì´ 1ë§Œì› ì´ìƒì´ê³ , ëª¨ë“  ë©”ì‹œì§€ ë°œì†¡ì´ ì™„ë£Œëœ ìƒíƒœì—ì„œë§Œ í™˜ë¶ˆ ì‹ ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
                    <li><strong>ì¹´ë“œê²°ì œ:</strong> ì¶©ì „ í›„ 7ì¼ ì´ë‚´ ë¯¸ì‚¬ìš© ì‹œ ì „ì•¡ í™˜ë¶ˆ, 7ì¼ ì´í›„ ë˜ëŠ” ì‚¬ìš© í›„ í™˜ë¶ˆ ì‹œ ì”ì—¬ê¸ˆì•¡ì˜ 10% ìˆ˜ìˆ˜ë£Œ ì°¨ê°</li>
                    <li><strong>ê³„ì¢Œì´ì²´/ê°€ìƒê³„ì¢Œ:</strong> í™˜ë¶ˆ ë°›ì„ ê³„ì¢Œ ì •ë³´(ì€í–‰ëª…, ê³„ì¢Œë²ˆí˜¸, ì˜ˆê¸ˆì£¼)ë¥¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.</li>
                    <li><strong>í™˜ë¶ˆ ê¸°ê°„:</strong> í™˜ë¶ˆ ê¸ˆì•¡ì€ ì˜ì—…ì¼ ê¸°ì¤€ 7ì¼ ì´ë‚´ì— ì§€ê¸‰ë©ë‹ˆë‹¤.</li>
                    <li><strong>ë§ˆì¼ë¦¬ì§€:</strong> ë§ˆì¼ë¦¬ì§€ëŠ” í™˜ë¶ˆì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
                </ul>
            </div>

            <div class="refund-form-section">
                <!-- í¬ì¸íŠ¸/ë§ˆì¼ë¦¬ì§€ ë‚´ì—­ -->
                <div class="card" id="historyCard">
                    <div class="card-header">
                        <h3 class="card-title">í¬ì¸íŠ¸/ë§ˆì¼ë¦¬ì§€ ë‚´ì—­</h3>
                    </div>
                    
                    <!-- ë‚´ì—­ íƒ­ -->
                    <div class="history-tabs" id="historyTabs">
                        <button class="history-tab active" onclick="switchHistoryTab('all')">ì „ì²´</button>
                        <button class="history-tab" onclick="switchHistoryTab('charge')">í¬ì¸íŠ¸ ì¶©ì „</button>
                        <button class="history-tab" onclick="switchHistoryTab('mileage')">ë§ˆì¼ë¦¬ì§€ ì ë¦½</button>
                        <button class="history-tab" onclick="switchHistoryTab('use')">ì‚¬ìš© ë‚´ì—­</button>
                    </div>
                    
                    <!-- ì „ì²´ ë‚´ì—­ -->
                    <div class="history-content active" id="historyAll">
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>ë‚ ì§œ</th>
                                        <th>êµ¬ë¶„</th>
                                        <th>ë‚´ìš©</th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ì”ì•¡</th>
                                    </tr>
                                </thead>
                                <tbody id="historyAllBody">
                                    <!-- ë™ì ìœ¼ë¡œ ë Œë”ë§ë¨ -->
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="paginationAll"></div>
                    </div>
                    
                    <!-- í¬ì¸íŠ¸ ì¶©ì „ ë‚´ì—­ -->
                    <div class="history-content" id="historyCharge">
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>ë‚ ì§œ</th>
                                        <th>ê²°ì œìˆ˜ë‹¨</th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ì”ì•¡</th>
                                    </tr>
                                </thead>
                                <tbody id="historyChargeBody">
                                    <!-- ë™ì ìœ¼ë¡œ ë Œë”ë§ë¨ -->
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="paginationCharge"></div>
                    </div>
                    
                    <!-- ë§ˆì¼ë¦¬ì§€ ì ë¦½ ë‚´ì—­ -->
                    <div class="history-content" id="historyMileage">
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>ë‚ ì§œ</th>
                                        <th>ì ë¦½ ì‚¬ìœ </th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ì”ì•¡</th>
                                    </tr>
                                </thead>
                                <tbody id="historyMileageBody">
                                    <!-- ë™ì ìœ¼ë¡œ ë Œë”ë§ë¨ -->
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="paginationMileage"></div>
                    </div>
                    
                    <!-- ì‚¬ìš© ë‚´ì—­ -->
                    <div class="history-content" id="historyUse">
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>ë‚ ì§œ</th>
                                        <th>ì„œë¹„ìŠ¤</th>
                                        <th>ë°œì†¡ ê±´ìˆ˜</th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ì”ì•¡</th>
                                    </tr>
                                </thead>
                                <tbody id="historyUseBody">
                                    <!-- ë™ì ìœ¼ë¡œ ë Œë”ë§ë¨ -->
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="paginationUse"></div>
                    </div>
                </div>

                <!-- í™˜ë¶ˆ ì‹ ì²­ í¼ -->
                <div class="refund-sidebar">
                    <div class="card" id="refundFormCard">
                        <div class="card-header">
                            <h3 class="card-title">í™˜ë¶ˆ ì‹ ì²­</h3>
                        </div>
                        
                        <!-- í™˜ë¶ˆ ê¸ˆì•¡ ê³„ì‚° -->
                        <div class="refund-calculation" id="refundCalculation">
                            <h4>í™˜ë¶ˆ ê¸ˆì•¡ ê³„ì‚°</h4>
                            <div class="calc-row">
                                <span class="calc-label">ì”ì—¬ í¬ì¸íŠ¸</span>
                                <span class="calc-value" id="calcRemainingPoints">1,000,000ì›</span>
                            </div>
                            <div class="calc-row">
                                <span class="calc-label">í™˜ë¶ˆ ìˆ˜ìˆ˜ë£Œ (10%)</span>
                                <span class="calc-value danger" id="calcFee">-100,000ì›</span>
                            </div>
                            <div class="calc-row total">
                                <span class="calc-label">ì˜ˆìƒ í™˜ë¶ˆ ê¸ˆì•¡</span>
                                <span class="calc-value highlight" id="calcFinalAmount">900,000ì›</span>
                            </div>
                        </div>
                        
                        <!-- ê³„ì¢Œ ì •ë³´ ì…ë ¥ -->
                        <div class="account-section" id="accountSection">
                            <h4>í™˜ë¶ˆ ë°›ì„ ê³„ì¢Œ ì •ë³´</h4>
                            <div class="form-group">
                                <label class="form-label required">ì€í–‰ëª…</label>
                                <select class="form-select" id="refundBankName">
                                    <option value="">ì€í–‰ ì„ íƒ</option>
                                    <option value="kb">KBêµ­ë¯¼ì€í–‰</option>
                                    <option value="shinhan">ì‹ í•œì€í–‰</option>
                                    <option value="woori">ìš°ë¦¬ì€í–‰</option>
                                    <option value="hana">í•˜ë‚˜ì€í–‰</option>
                                    <option value="nh">NHë†í˜‘ì€í–‰</option>
                                    <option value="ibk">IBKê¸°ì—…ì€í–‰</option>
                                    <option value="sc">SCì œì¼ì€í–‰</option>
                                    <option value="citi">í•œêµ­ì”¨í‹°ì€í–‰</option>
                                    <option value="kakao">ì¹´ì¹´ì˜¤ë±…í¬</option>
                                    <option value="toss">í† ìŠ¤ë±…í¬</option>
                                    <option value="kbank">ì¼€ì´ë±…í¬</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label required">ê³„ì¢Œë²ˆí˜¸</label>
                                <input type="text" class="form-input" id="refundAccountNumber" placeholder="'-' ì—†ì´ ìˆ«ìë§Œ ì…ë ¥">
                            </div>
                            <div class="form-group">
                                <label class="form-label required">ì˜ˆê¸ˆì£¼</label>
                                <input type="text" class="form-input" id="refundAccountHolder" placeholder="ì˜ˆê¸ˆì£¼ëª… ì…ë ¥">
                            </div>
                        </div>
                        
                        <!-- í™˜ë¶ˆ ì‚¬ìœ  -->
                        <div class="form-group" style="margin-top: 20px;">
                            <label class="form-label">í™˜ë¶ˆ ì‚¬ìœ  (ì„ íƒ)</label>
                            <textarea class="form-textarea" id="refundReason" placeholder="í™˜ë¶ˆ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (ì„ íƒì‚¬í•­)" rows="3"></textarea>
                        </div>
                        
                        <!-- í™˜ë¶ˆ ì‹ ì²­ ë²„íŠ¼ -->
                        <button class="btn btn-danger btn-lg" style="width: 100%; margin-top: 20px;" onclick="submitRefundRequest()">
                            í™˜ë¶ˆ ì‹ ì²­í•˜ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/common.js"></script>
    <script>
        // í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜
        const ITEMS_PER_PAGE = 20;
        
        // í˜„ì¬ í˜ì´ì§€
        let currentPages = {
            all: 1,
            charge: 1,
            mileage: 1,
            use: 1
        };
        
        // ì „ì²´ ë‚´ì—­ ë°ì´í„°
        const allHistoryData = [
            { date: '2024-11-19 14:30', type: 'charge', typeLabel: 'ì¶©ì „', content: 'í¬ì¸íŠ¸ ì¶©ì „ (ì‹ ìš©ì¹´ë“œ)', amount: '+100,000', balance: '1,000,000' },
            { date: '2024-11-18 16:20', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (500ê±´)', amount: '-10,000', balance: '900,000' },
            { date: '2024-11-18 10:15', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+12.6', balance: '92.6' },
            { date: '2024-11-17 15:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'LMS ë°œì†¡ (300ê±´)', amount: '-15,000', balance: '910,000' },
            { date: '2024-11-17 14:30', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+15.0', balance: '80.0' },
            { date: '2024-11-16 11:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (800ê±´)', amount: '-16,000', balance: '925,000' },
            { date: '2024-11-16 10:00', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+16.0', balance: '65.0' },
            { date: '2024-11-15 09:15', type: 'charge', typeLabel: 'ì¶©ì „', content: 'í¬ì¸íŠ¸ ì¶©ì „ (ì‹¤ì‹œê°„ê³„ì¢Œì´ì²´)', amount: '+200,000', balance: '941,000' },
            { date: '2024-11-14 11:30', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'ì•Œë¦¼í†¡ ë°œì†¡ (1,000ê±´)', amount: '-30,000', balance: '741,000' },
            { date: '2024-11-14 11:30', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+30.0', balance: '49.0' },
            { date: '2024-11-13 16:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (200ê±´)', amount: '-4,000', balance: '771,000' },
            { date: '2024-11-13 15:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'LMS ë°œì†¡ (150ê±´)', amount: '-7,500', balance: '775,000' },
            { date: '2024-11-12 10:00', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+4.0', balance: '19.0' },
            { date: '2024-11-12 09:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'MMS ë°œì†¡ (50ê±´)', amount: '-5,000', balance: '782,500' },
            { date: '2024-11-11 14:30', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (250ê±´)', amount: '-5,000', balance: '787,500' },
            { date: '2024-11-11 10:00', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+5.0', balance: '15.0' },
            { date: '2024-11-10 16:45', type: 'charge', typeLabel: 'ì¶©ì „', content: 'í¬ì¸íŠ¸ ì¶©ì „ (ê°€ìƒê³„ì¢Œ)', amount: '+300,000', balance: '792,500' },
            { date: '2024-11-10 11:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'ì•Œë¦¼í†¡ ë°œì†¡ (300ê±´)', amount: '-9,000', balance: '492,500' },
            { date: '2024-11-09 14:20', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'MMS ë°œì†¡ (100ê±´)', amount: '-10,000', balance: '501,500' },
            { date: '2024-11-09 10:00', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+10.0', balance: '10.0' },
            { date: '2024-11-08 14:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'MMS ë°œì†¡ (200ê±´)', amount: '-20,000', balance: '511,500' },
            { date: '2024-11-08 11:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (400ê±´)', amount: '-8,000', balance: '531,500' },
            { date: '2024-11-07 11:00', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+20.0', balance: '0' },
            { date: '2024-11-07 09:30', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'LMS ë°œì†¡ (200ê±´)', amount: '-10,000', balance: '539,500' },
            { date: '2024-11-06 09:30', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (100ê±´)', amount: '-2,000', balance: '549,500' },
            { date: '2024-11-05 16:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'ì•Œë¦¼í†¡ ë°œì†¡ (200ê±´)', amount: '-6,000', balance: '551,500' },
            { date: '2024-11-05 11:30', type: 'refund', typeLabel: 'í™˜ë¶ˆ', content: 'í¬ì¸íŠ¸ í™˜ë¶ˆ', amount: '-50,000', balance: '557,500' },
            { date: '2024-11-04 15:00', type: 'charge', typeLabel: 'ì¶©ì „', content: 'í¬ì¸íŠ¸ ì¶©ì „ (ì‹ ìš©ì¹´ë“œ)', amount: '+50,000', balance: '607,500' },
            { date: '2024-11-04 10:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (350ê±´)', amount: '-7,000', balance: '557,500' },
            { date: '2024-11-03 10:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'ì•Œë¦¼í†¡ ë°œì†¡ (500ê±´)', amount: '-15,000', balance: '564,500' },
            { date: '2024-11-03 09:00', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ì´ë²¤íŠ¸ ë§ˆì¼ë¦¬ì§€', amount: '+30.0', balance: '-20.0' },
            { date: '2024-11-02 14:00', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+5.0', balance: '-50.0' },
            { date: '2024-11-02 11:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'MMS ë°œì†¡ (80ê±´)', amount: '-8,000', balance: '579,500' },
            { date: '2024-11-01 15:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (600ê±´)', amount: '-12,000', balance: '587,500' },
            { date: '2024-11-01 09:00', type: 'charge', typeLabel: 'ì¶©ì „', content: 'í¬ì¸íŠ¸ ì¶©ì „ (ì‹¤ì‹œê°„ê³„ì¢Œì´ì²´)', amount: '+500,000', balance: '599,500' },
            { date: '2024-11-01 09:00', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ì‹ ê·œê°€ì… ë§ˆì¼ë¦¬ì§€', amount: '+50.0', balance: '-55.0' },
            { date: '2024-10-31 14:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'LMS ë°œì†¡ (100ê±´)', amount: '-5,000', balance: '99,500' },
            { date: '2024-10-31 10:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (150ê±´)', amount: '-3,000', balance: '104,500' },
            { date: '2024-10-30 16:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (300ê±´)', amount: '-6,000', balance: '107,500' },
            { date: '2024-10-30 11:00', type: 'charge', typeLabel: 'ì¶©ì „', content: 'í¬ì¸íŠ¸ ì¶©ì „ (ì‹ ìš©ì¹´ë“œ)', amount: '+100,000', balance: '113,500' },
            { date: '2024-10-29 15:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'ì•Œë¦¼í†¡ ë°œì†¡ (150ê±´)', amount: '-4,500', balance: '13,500' },
            { date: '2024-10-29 10:00', type: 'mileage', typeLabel: 'ë§ˆì¼ë¦¬ì§€', content: 'ë°œì†¡ ë§ˆì¼ë¦¬ì§€ ì ë¦½', amount: '+4.5', balance: '-105.0' },
            { date: '2024-10-28 14:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'SMS ë°œì†¡ (400ê±´)', amount: '-8,000', balance: '18,000' },
            { date: '2024-10-28 09:00', type: 'charge', typeLabel: 'ì¶©ì „', content: 'í¬ì¸íŠ¸ ì¶©ì „ (ê°€ìƒê³„ì¢Œ)', amount: '+20,000', balance: '26,000' },
            { date: '2024-10-27 16:00', type: 'use', typeLabel: 'ì‚¬ìš©', content: 'MMS ë°œì†¡ (60ê±´)', amount: '-6,000', balance: '6,000' },
        ];
        
        // í¬ì¸íŠ¸ ì¶©ì „ ë°ì´í„°
        const chargeHistoryData = allHistoryData.filter(item => item.type === 'charge');
        
        // ë§ˆì¼ë¦¬ì§€ ì ë¦½ ë°ì´í„°
        const mileageHistoryData = allHistoryData.filter(item => item.type === 'mileage');
        
        // ì‚¬ìš© ë‚´ì—­ ë°ì´í„°
        const useHistoryData = allHistoryData.filter(item => item.type === 'use' || item.type === 'refund');
        
        // í…Œì´ë¸” ë Œë”ë§ í•¨ìˆ˜
        function renderTable(tabType) {
            let data, tbody, pagination;
            
            switch(tabType) {
                case 'all':
                    data = allHistoryData;
                    tbody = document.getElementById('historyAllBody');
                    pagination = document.getElementById('paginationAll');
                    break;
                case 'charge':
                    data = chargeHistoryData;
                    tbody = document.getElementById('historyChargeBody');
                    pagination = document.getElementById('paginationCharge');
                    break;
                case 'mileage':
                    data = mileageHistoryData;
                    tbody = document.getElementById('historyMileageBody');
                    pagination = document.getElementById('paginationMileage');
                    break;
                case 'use':
                    data = useHistoryData;
                    tbody = document.getElementById('historyUseBody');
                    pagination = document.getElementById('paginationUse');
                    break;
            }
            
            const currentPage = currentPages[tabType];
            const totalPages = Math.ceil(data.length / ITEMS_PER_PAGE);
            const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;
            const endIndex = startIndex + ITEMS_PER_PAGE;
            const pageData = data.slice(startIndex, endIndex);
            
            // í…Œì´ë¸” ë°”ë”” ë Œë”ë§
            let html = '';
            pageData.forEach(item => {
                const amountClass = item.amount.startsWith('+') ? 'amount-plus' : 'amount-minus';
                
                if (tabType === 'all') {
                    html += `<tr>
                        <td>${item.date}</td>
                        <td><span class="status-badge status-${item.type}">${item.typeLabel}</span></td>
                        <td>${item.content}</td>
                        <td class="${amountClass}">${item.amount}</td>
                        <td>${item.balance}</td>
                    </tr>`;
                } else if (tabType === 'charge') {
                    const method = item.content.replace('í¬ì¸íŠ¸ ì¶©ì „ (', '').replace(')', '');
                    html += `<tr>
                        <td>${item.date}</td>
                        <td>${method}</td>
                        <td class="${amountClass}">${item.amount}</td>
                        <td>${item.balance}</td>
                    </tr>`;
                } else if (tabType === 'mileage') {
                    html += `<tr>
                        <td>${item.date}</td>
                        <td>${item.content}</td>
                        <td class="${amountClass}">${item.amount}</td>
                        <td>${item.balance}</td>
                    </tr>`;
                } else if (tabType === 'use') {
                    const serviceParts = item.content.split(' (');
                    const service = serviceParts[0];
                    const count = serviceParts[1] ? serviceParts[1].replace(')', '') : '-';
                    html += `<tr>
                        <td>${item.date}</td>
                        <td>${service}</td>
                        <td>${count}</td>
                        <td class="${amountClass}">${item.amount}</td>
                        <td>${item.balance}</td>
                    </tr>`;
                }
            });
            tbody.innerHTML = html;
            
            // í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§
            renderPagination(tabType, currentPage, totalPages, data.length, pagination);
        }
        
        // í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§
        function renderPagination(tabType, currentPage, totalPages, totalItems, container) {
            if (totalPages <= 1) {
                container.innerHTML = '';
                return;
            }
            
            let html = '';
            
            // ì´ì „ ë²„íŠ¼
            html += `<button class="pagination-btn" ${currentPage === 1 ? 'disabled' : ''} onclick="goToPage('${tabType}', ${currentPage - 1})">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>`;
            
            // í˜ì´ì§€ ë²ˆí˜¸
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, currentPage + 2);
            
            if (startPage > 1) {
                html += `<button class="pagination-btn" onclick="goToPage('${tabType}', 1)">1</button>`;
                if (startPage > 2) html += '<span class="pagination-ellipsis">...</span>';
            }
            
            for (let i = startPage; i <= endPage; i++) {
                html += `<button class="pagination-btn ${i === currentPage ? 'active' : ''}" onclick="goToPage('${tabType}', ${i})">${i}</button>`;
            }
            
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) html += '<span class="pagination-ellipsis">...</span>';
                html += `<button class="pagination-btn" onclick="goToPage('${tabType}', ${totalPages})">${totalPages}</button>`;
            }
            
            // ë‹¤ìŒ ë²„íŠ¼
            html += `<button class="pagination-btn" ${currentPage === totalPages ? 'disabled' : ''} onclick="goToPage('${tabType}', ${currentPage + 1})">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>`;
            
            // í˜ì´ì§€ ì •ë³´
            const startItem = (currentPage - 1) * ITEMS_PER_PAGE + 1;
            const endItem = Math.min(currentPage * ITEMS_PER_PAGE, totalItems);
            html += `<span class="pagination-info">${startItem}-${endItem} / ì´ ${totalItems}ê±´</span>`;
            
            container.innerHTML = html;
        }
        
        // í˜ì´ì§€ ì´ë™
        function goToPage(tabType, page) {
            currentPages[tabType] = page;
            renderTable(tabType);
        }
        
        // ë‚´ì—­ íƒ­ ì „í™˜
        function switchHistoryTab(tab) {
            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.querySelectorAll('.history-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.history-content').forEach(c => c.classList.remove('active'));
            
            // ì„ íƒí•œ íƒ­ í™œì„±í™”
            event.target.classList.add('active');
            
            switch(tab) {
                case 'all':
                    document.getElementById('historyAll').classList.add('active');
                    break;
                case 'charge':
                    document.getElementById('historyCharge').classList.add('active');
                    break;
                case 'mileage':
                    document.getElementById('historyMileage').classList.add('active');
                    break;
                case 'use':
                    document.getElementById('historyUse').classList.add('active');
                    break;
            }
            
            renderTable(tab);
        }
        
        // í™˜ë¶ˆ ê¸ˆì•¡ ê³„ì‚°
        function calculateRefund() {
            const remainingPoints = 1000000;
            const fee = Math.floor(remainingPoints * 0.1);
            const finalAmount = remainingPoints - fee;
            
            document.getElementById('calcRemainingPoints').textContent = formatNumber(remainingPoints) + 'ì›';
            document.getElementById('calcFee').textContent = '-' + formatNumber(fee) + 'ì›';
            document.getElementById('calcFinalAmount').textContent = formatNumber(finalAmount) + 'ì›';
            document.getElementById('refundableAmount').textContent = formatNumber(finalAmount);
        }
        
        // ìˆ«ì í¬ë§·íŒ…
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }
        
        // í™˜ë¶ˆ ì‹ ì²­
        function submitRefundRequest() {
            const bankName = document.getElementById('refundBankName').value;
            const accountNumber = document.getElementById('refundAccountNumber').value;
            const accountHolder = document.getElementById('refundAccountHolder').value;
            
            if (!bankName) {
                alert('ì€í–‰ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            if (!accountNumber) {
                alert('ê³„ì¢Œë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            if (!accountHolder) {
                alert('ì˜ˆê¸ˆì£¼ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const finalAmount = document.getElementById('calcFinalAmount').textContent;
            if (!confirm('í™˜ë¶ˆ ê¸ˆì•¡ ' + finalAmount + 'ì„ ì‹ ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\ní™˜ë¶ˆ ê¸ˆì•¡ì€ ì˜ì—…ì¼ ê¸°ì¤€ 7ì¼ ì´ë‚´ ì§€ê¸‰ë©ë‹ˆë‹¤.')) {
                return;
            }
            
            alert('í™˜ë¶ˆ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nì˜ì—…ì¼ ê¸°ì¤€ 7ì¼ ì´ë‚´ ì…ê¸ˆ ì²˜ë¦¬ë©ë‹ˆë‹¤.');
            window.location.href = 'payment-history.html';
        }
        
        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            calculateRefund();
            renderTable('all');
            renderTable('charge');
            renderTable('mileage');
            renderTable('use');
            if (typeof initDropdownMenus === 'function') {
                initDropdownMenus();
            }
        });
    </script>
    <script src="js/footer.js"></script>
    <script>
        document.write(createFloatingMenu());
        document.write(createFooter());
    </script>
    <!-- í™”ë©´ì„¤ê³„ ì˜¤ë²„ë ˆì´ -->
    <script src="js/spec-overlay.js"></script>
    <script>
        const specData = [
            // ===== íƒ­ ë©”ë‰´ ì˜ì—­ =====
            // 1. íƒ­ ë©”ë‰´
            {
                selector: '#paymentTabs',
                title: 'íƒ­ ë©”ë‰´',
                position: { top: '-5px', left: '-10px' },
                function: 'ê²°ì œê´€ë¦¬ í•˜ìœ„ í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜',
                behavior: ['ì¶©ì „í•˜ê¸°', 'ì¶©ì „ë‚´ì—­', 'í™˜ë¶ˆ', 'ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰ 4ê°œ íƒ­ êµ¬ì„±']
            },
            // 2. ì¶©ì „í•˜ê¸° íƒ­
            {
                selector: '#paymentTabs .tab-item:nth-child(1)',
                title: 'ì¶©ì „í•˜ê¸° íƒ­',
                position: { top: '-5px', left: '-10px' },
                function: 'í¬ì¸íŠ¸ ì¶©ì „ í˜ì´ì§€ë¡œ ì´ë™',
                behavior: ['í´ë¦­ ì‹œ payment-charge.html ì´ë™']
            },
            // 3. ì¶©ì „ë‚´ì—­ íƒ­
            {
                selector: '#paymentTabs .tab-item:nth-child(2)',
                title: 'ì¶©ì „ë‚´ì—­ íƒ­',
                position: { top: '-5px', left: '-10px' },
                function: 'ì¶©ì „ ì´ë ¥ ë° ì·¨ì†Œ ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™',
                behavior: ['í´ë¦­ ì‹œ payment-history.html ì´ë™']
            },
            // 4. í™˜ë¶ˆ íƒ­ (í˜„ì¬)
            {
                selector: '#paymentTabs .tab-item:nth-child(3)',
                title: 'í™˜ë¶ˆ íƒ­',
                position: { top: '-5px', left: '-10px' },
                function: 'í™˜ë¶ˆ ì‹ ì²­ í˜ì´ì§€ (í˜„ì¬ í˜ì´ì§€)',
                behavior: ['í™œì„± ìƒíƒœ ìŠ¤íƒ€ì¼ ì ìš©']
            },
            // 5. ì„¸ê¸ˆê³„ì‚°ì„œ íƒ­
            {
                selector: '#paymentTabs .tab-item:nth-child(4)',
                title: 'ì„¸ê¸ˆê³„ì‚°ì„œ íƒ­',
                position: { top: '-5px', right: '-10px' },
                function: 'ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰ í˜ì´ì§€ë¡œ ì´ë™',
                behavior: ['í´ë¦­ ì‹œ payment-tax.html ì´ë™']
            },
            // ===== ì”ì•¡ ìš”ì•½ ì¹´ë“œ ì˜ì—­ =====
            // 6. ì”ì•¡ ìš”ì•½ ì¹´ë“œ ì˜ì—­
            {
                selector: '#balanceSummary',
                title: 'ì”ì•¡ ìš”ì•½ ì¹´ë“œ',
                position: { top: '10px', left: '10px' },
                function: 'í˜„ì¬ í¬ì¸íŠ¸/ë§ˆì¼ë¦¬ì§€ ì”ì•¡ ë° í™˜ë¶ˆ ê°€ëŠ¥ ê¸ˆì•¡ í•œëˆˆì— í‘œì‹œ',
                behavior: ['3ê°œ ì¹´ë“œ ê·¸ë¦¬ë“œ ë°°ì¹˜', 'ë°˜ì‘í˜•: ëª¨ë°”ì¼ì—ì„œ ì„¸ë¡œ ë°°ì¹˜'],
                api: 'GET /api/users/me/balance'
            },
            // 7. ì”ì—¬ í¬ì¸íŠ¸ ì¹´ë“œ
            {
                selector: '#balanceSummary .balance-card:nth-child(1)',
                title: 'ì”ì—¬ í¬ì¸íŠ¸',
                position: { top: '5px', left: '5px' },
                function: 'í˜„ì¬ ë³´ìœ  í¬ì¸íŠ¸ ì”ì•¡ í‘œì‹œ',
                behavior: ['ì¶©ì „í•œ í¬ì¸íŠ¸ì˜ ì´ ì”ì•¡', 'ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸']
            },
            // 8. í™˜ë¶ˆ ê°€ëŠ¥ ê¸ˆì•¡ ì¹´ë“œ
            {
                selector: '#balanceSummary .balance-card:nth-child(2)',
                title: 'í™˜ë¶ˆ ê°€ëŠ¥ ê¸ˆì•¡',
                position: { top: '5px', left: '5px' },
                function: 'ì‹¤ì œ í™˜ë¶ˆ ë°›ì„ ìˆ˜ ìˆëŠ” ê¸ˆì•¡ (ìˆ˜ìˆ˜ë£Œ 10% ì°¨ê° í›„)',
                behavior: ['ì”ì—¬í¬ì¸íŠ¸ Ã— 0.9 ê³„ì‚°', '1ë§Œì› ë¯¸ë§Œ ì‹œ í™˜ë¶ˆ ë¶ˆê°€ ì•ˆë‚´']
            },
            // 9. ë§ˆì¼ë¦¬ì§€ ì¹´ë“œ
            {
                selector: '#balanceSummary .balance-card:nth-child(3)',
                title: 'ë§ˆì¼ë¦¬ì§€ ì”ì•¡',
                position: { top: '5px', left: '5px' },
                function: 'ë§ˆì¼ë¦¬ì§€ ì”ì•¡ í‘œì‹œ (í™˜ë¶ˆ ë¶ˆê°€ ì•ˆë‚´)',
                behavior: ['ë¬¸ìë°œì†¡ ì‹œì—ë§Œ ì‚¬ìš© ê°€ëŠ¥', 'í™˜ë¶ˆ ëŒ€ìƒì—ì„œ ì œì™¸']
            },
            // ===== í™˜ë¶ˆ ì •ì±… ì•ˆë‚´ =====
            // 10. í™˜ë¶ˆ ì •ì±… ì•ˆë‚´ ë°•ìŠ¤
            {
                selector: '#refundPolicyBox',
                title: 'í™˜ë¶ˆ ì •ì±… ì•ˆë‚´',
                position: { top: '10px', left: '10px' },
                function: 'í™˜ë¶ˆ ì¡°ê±´ ë° ì •ì±…ì„ ëª…í™•íˆ ì•ˆë‚´í•˜ì—¬ CS ë¬¸ì˜ ê°ì†Œ',
                behavior: [
                    'í™˜ë¶ˆ ì¡°ê±´: 1ë§Œì› ì´ìƒ, ë°œì†¡ ì™„ë£Œ ìƒíƒœ',
                    'ì¹´ë“œê²°ì œ: 7ì¼ ì´ë‚´ ë¯¸ì‚¬ìš© ì‹œ ì „ì•¡í™˜ë¶ˆ, ì´í›„ 10% ìˆ˜ìˆ˜ë£Œ',
                    'ê³„ì¢Œì´ì²´/ê°€ìƒê³„ì¢Œ: ê³„ì¢Œì •ë³´ í•„ìˆ˜ ì…ë ¥',
                    'í™˜ë¶ˆ ê¸°ê°„: ì˜ì—…ì¼ 7ì¼ ì´ë‚´',
                    'ë§ˆì¼ë¦¬ì§€ í™˜ë¶ˆ ë¶ˆê°€'
                ]
            },
            // ===== í¬ì¸íŠ¸/ë§ˆì¼ë¦¬ì§€ ë‚´ì—­ =====
            // 11. ë‚´ì—­ ì¹´ë“œ
            {
                selector: '#historyCard',
                title: 'í¬ì¸íŠ¸/ë§ˆì¼ë¦¬ì§€ ë‚´ì—­',
                position: { top: '10px', left: '10px' },
                function: 'ì¶©ì „/ì‚¬ìš©/ë§ˆì¼ë¦¬ì§€ ì „ì²´ ë‚´ì—­ì„ íƒ­ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì¡°íšŒ',
                behavior: ['íƒ­ ì „í™˜ìœ¼ë¡œ í•„í„°ë§', 'í˜ì´ì§€ë‹¹ 20ê±´ í‘œì‹œ', 'í˜ì´ì§€ë„¤ì´ì…˜ ì§€ì›'],
                api: 'GET /api/users/me/transactions'
            },
            // 12. ë‚´ì—­ íƒ­ ë²„íŠ¼ ê·¸ë£¹
            {
                selector: '#historyTabs',
                title: 'ë‚´ì—­ íƒ­',
                position: { top: '-5px', left: '-10px' },
                function: 'ë‚´ì—­ ì¢…ë¥˜ë³„ í•„í„°ë§ (ì „ì²´/í¬ì¸íŠ¸ì¶©ì „/ë§ˆì¼ë¦¬ì§€/ì‚¬ìš©ë‚´ì—­)',
                behavior: ['ì „ì²´: ëª¨ë“  ë‚´ì—­ í‘œì‹œ', 'í¬ì¸íŠ¸ ì¶©ì „: ì¶©ì „ ë‚´ì—­ë§Œ', 'ë§ˆì¼ë¦¬ì§€ ì ë¦½: ë§ˆì¼ë¦¬ì§€ë§Œ', 'ì‚¬ìš© ë‚´ì—­: ì°¨ê° ë‚´ì—­ë§Œ']
            },
            // 13. ì „ì²´ ë‚´ì—­ íƒ­
            {
                selector: '#historyTabs .history-tab:nth-child(1)',
                title: 'ì „ì²´ íƒ­',
                position: { top: '-5px', left: '-10px' },
                function: 'ëª¨ë“  ê±°ë˜ ë‚´ì—­ ì¡°íšŒ'
            },
            // 14. í¬ì¸íŠ¸ ì¶©ì „ íƒ­
            {
                selector: '#historyTabs .history-tab:nth-child(2)',
                title: 'í¬ì¸íŠ¸ ì¶©ì „ íƒ­',
                position: { top: '-5px', left: '-10px' },
                function: 'í¬ì¸íŠ¸ ì¶©ì „ ë‚´ì—­ë§Œ í•„í„°ë§',
                behavior: ['ê²°ì œìˆ˜ë‹¨ë³„ ì¶©ì „ ë‚´ì—­ í‘œì‹œ']
            },
            // 15. ë§ˆì¼ë¦¬ì§€ ì ë¦½ íƒ­
            {
                selector: '#historyTabs .history-tab:nth-child(3)',
                title: 'ë§ˆì¼ë¦¬ì§€ ì ë¦½ íƒ­',
                position: { top: '-5px', left: '-10px' },
                function: 'ë§ˆì¼ë¦¬ì§€ ì ë¦½ ë‚´ì—­ë§Œ í•„í„°ë§',
                behavior: ['ì ë¦½ ì‚¬ìœ ë³„ ë‚´ì—­ í‘œì‹œ']
            },
            // 16. ì‚¬ìš© ë‚´ì—­ íƒ­
            {
                selector: '#historyTabs .history-tab:nth-child(4)',
                title: 'ì‚¬ìš© ë‚´ì—­ íƒ­',
                position: { top: '-5px', right: '-10px' },
                function: 'í¬ì¸íŠ¸ ì‚¬ìš© ë° í™˜ë¶ˆ ë‚´ì—­ í•„í„°ë§',
                behavior: ['ì„œë¹„ìŠ¤ë³„ ì‚¬ìš© ë‚´ì—­', 'í™˜ë¶ˆ ë‚´ì—­ í¬í•¨']
            },
            // 17. ë‚´ì—­ í…Œì´ë¸”
            {
                selector: '#historyAllBody',
                title: 'ë‚´ì—­ í…Œì´ë¸”',
                position: { top: '5px', left: '5px' },
                function: 'ê±°ë˜ ë‚´ì—­ ëª©ë¡ í‘œì‹œ',
                behavior: ['ë‚ ì§œ, êµ¬ë¶„(ë±ƒì§€), ë‚´ìš©, ê¸ˆì•¡, ì”ì•¡ ì»¬ëŸ¼', 'ê¸ˆì•¡: +ëŠ” ì´ˆë¡, -ëŠ” ë¹¨ê°• ìƒ‰ìƒ ì ìš©']
            },
            // 18. í˜ì´ì§€ë„¤ì´ì…˜
            {
                selector: '#paginationAll',
                title: 'í˜ì´ì§€ë„¤ì´ì…˜',
                position: { top: '-5px', left: '50%' },
                function: 'ë‚´ì—­ ëª©ë¡ í˜ì´ì§€ ì´ë™ (20ê±´ì”©)',
                behavior: ['ì´ì „/ë‹¤ìŒ ë²„íŠ¼', 'í˜ì´ì§€ ë²ˆí˜¸ ì§ì ‘ ì„ íƒ', 'í˜„ì¬ ìœ„ì¹˜ í‘œì‹œ (n-m / ì´ Nê±´)']
            },
            // ===== í™˜ë¶ˆ ì‹ ì²­ í¼ (ìš°ì¸¡ í”Œë¡œíŒ…) =====
            // 19. í™˜ë¶ˆ ì‹ ì²­ í¼ ì¹´ë“œ
            {
                selector: '#refundFormCard',
                title: 'í™˜ë¶ˆ ì‹ ì²­ í¼',
                position: { top: '10px', left: '10px' },
                function: 'í™˜ë¶ˆ ì‹ ì²­ì„œ ì‘ì„± ì˜ì—­ (ìŠ¤í¬ë¡¤ ì‹œ í”Œë¡œíŒ… ê³ ì •)',
                behavior: ['position: stickyë¡œ ìŠ¤í¬ë¡¤ ë”°ë¼ë‹¤ë‹˜', 'ëª¨ë°”ì¼ì—ì„œëŠ” ê³ ì • í•´ì œ'],
                api: 'POST /api/refund/request'
            },
            // 20. í™˜ë¶ˆ ê¸ˆì•¡ ê³„ì‚° ì˜ì—­
            {
                selector: '#refundCalculation',
                title: 'í™˜ë¶ˆ ê¸ˆì•¡ ê³„ì‚°',
                position: { top: '5px', right: '5px' },
                function: 'ì‹¤ì‹œê°„ í™˜ë¶ˆ ì˜ˆìƒ ê¸ˆì•¡ ê³„ì‚° ë° í‘œì‹œ',
                behavior: [
                    'ì”ì—¬ í¬ì¸íŠ¸ í‘œì‹œ',
                    'í™˜ë¶ˆ ìˆ˜ìˆ˜ë£Œ(10%) ì°¨ê° ê¸ˆì•¡ í‘œì‹œ',
                    'ìµœì¢… ì˜ˆìƒ í™˜ë¶ˆ ê¸ˆì•¡ ê°•ì¡° í‘œì‹œ'
                ]
            },
            // 21. ì”ì—¬ í¬ì¸íŠ¸ í–‰
            {
                selector: '#calcRemainingPoints',
                title: 'ì”ì—¬ í¬ì¸íŠ¸',
                position: { top: '-5px', right: '-10px' },
                function: 'í˜„ì¬ ë³´ìœ  í¬ì¸íŠ¸ ê¸ˆì•¡ í‘œì‹œ'
            },
            // 22. ìˆ˜ìˆ˜ë£Œ í–‰
            {
                selector: '#calcFee',
                title: 'í™˜ë¶ˆ ìˆ˜ìˆ˜ë£Œ',
                position: { top: '-5px', right: '-10px' },
                function: '10% ìˆ˜ìˆ˜ë£Œ ê¸ˆì•¡ í‘œì‹œ (ë¹¨ê°„ìƒ‰)',
                behavior: ['7ì¼ ì´ë‚´ ë¯¸ì‚¬ìš© ì¹´ë“œê²°ì œëŠ” ìˆ˜ìˆ˜ë£Œ ë©´ì œ']
            },
            // 23. ì˜ˆìƒ í™˜ë¶ˆ ê¸ˆì•¡ í–‰
            {
                selector: '#calcFinalAmount',
                title: 'ì˜ˆìƒ í™˜ë¶ˆ ê¸ˆì•¡',
                position: { top: '-5px', right: '-10px' },
                function: 'ìµœì¢… í™˜ë¶ˆ ì˜ˆìƒ ê¸ˆì•¡ (ê°•ì¡° í‘œì‹œ)',
                behavior: ['íŒŒë€ìƒ‰ í° ê¸€ì”¨ë¡œ ê°•ì¡°']
            },
            // ===== ê³„ì¢Œ ì •ë³´ ì…ë ¥ =====
            // 24. ê³„ì¢Œ ì •ë³´ ì„¹ì…˜
            {
                selector: '#accountSection',
                title: 'ê³„ì¢Œ ì •ë³´ ì…ë ¥',
                position: { top: '5px', left: '5px' },
                function: 'í™˜ë¶ˆ ë°›ì„ ê³„ì¢Œ ì •ë³´ ì…ë ¥ í¼',
                behavior: ['ì€í–‰ëª…, ê³„ì¢Œë²ˆí˜¸, ì˜ˆê¸ˆì£¼ ëª¨ë‘ í•„ìˆ˜ ì…ë ¥', 'ê³„ì¢Œì´ì²´/ê°€ìƒê³„ì¢Œ ê²°ì œ ì‹œ í•„ìˆ˜']
            },
            // 25. ì€í–‰ ì„ íƒ
            {
                selector: '#refundBankName',
                title: 'ì€í–‰ ì„ íƒ',
                position: { top: '-5px', left: '-10px' },
                function: 'í™˜ë¶ˆ ë°›ì„ ì€í–‰ ì„ íƒ',
                behavior: ['ì£¼ìš” ì‹œì¤‘ì€í–‰ ë° ì¸í„°ë„·ì€í–‰ ëª©ë¡ ì œê³µ'],
                tags: [{ text: 'í•„ìˆ˜', type: 'required' }]
            },
            // 26. ê³„ì¢Œë²ˆí˜¸ ì…ë ¥
            {
                selector: '#refundAccountNumber',
                title: 'ê³„ì¢Œë²ˆí˜¸',
                position: { top: '-5px', left: '-10px' },
                function: 'í™˜ë¶ˆ ë°›ì„ ê³„ì¢Œë²ˆí˜¸ ì…ë ¥',
                behavior: ['í•˜ì´í”ˆ(-) ì—†ì´ ìˆ«ìë§Œ ì…ë ¥', 'ì…ë ¥ê°’ ìˆ«ì ê²€ì¦'],
                tags: [{ text: 'í•„ìˆ˜', type: 'required' }]
            },
            // 27. ì˜ˆê¸ˆì£¼ ì…ë ¥
            {
                selector: '#refundAccountHolder',
                title: 'ì˜ˆê¸ˆì£¼',
                position: { top: '-5px', left: '-10px' },
                function: 'ì˜ˆê¸ˆì£¼ëª… ì…ë ¥',
                behavior: ['íšŒì› ë³¸ì¸ ëª…ì˜ ê³„ì¢Œ ê¶Œì¥'],
                tags: [{ text: 'í•„ìˆ˜', type: 'required' }]
            },
            // 28. í™˜ë¶ˆ ì‚¬ìœ  ì…ë ¥
            {
                selector: '#refundReason',
                title: 'í™˜ë¶ˆ ì‚¬ìœ ',
                position: { top: '-5px', left: '-10px' },
                function: 'í™˜ë¶ˆ ì‚¬ìœ  ì…ë ¥ (ì„ íƒì‚¬í•­)',
                behavior: ['ë¯¸ì…ë ¥ ì‹œì—ë„ í™˜ë¶ˆ ì§„í–‰ ê°€ëŠ¥']
            },
            // 29. í™˜ë¶ˆ ì‹ ì²­ ë²„íŠ¼
            {
                selector: '.btn-danger.btn-lg',
                title: 'í™˜ë¶ˆ ì‹ ì²­í•˜ê¸°',
                position: { top: '-5px', right: '-10px' },
                function: 'í™˜ë¶ˆ ì‹ ì²­ ìµœì¢… ì œì¶œ',
                behavior: [
                    'í•„ìˆ˜ ì…ë ¥ê°’ ê²€ì¦ (ì€í–‰, ê³„ì¢Œë²ˆí˜¸, ì˜ˆê¸ˆì£¼)',
                    'í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ',
                    'ì„±ê³µ ì‹œ ì¶©ì „ë‚´ì—­ í˜ì´ì§€ë¡œ ì´ë™'
                ],
                api: 'POST /api/refund/request',
                tags: [{ text: 'API', type: 'api' }]
            }
        ];
        initSpecOverlay(specData);
    </script>
</body>
</html>
