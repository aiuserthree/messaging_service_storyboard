<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>환불신청 완료 - 톡벨</title>
    <script src="js/header.js"></script>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/layout.css">
    <style>
        .complete-wrap { max-width: 480px; margin: 0 auto; padding: 48px 0; text-align: center; }
        .complete-icon { width: 72px; height: 72px; margin: 0 auto 24px; border-radius: 50%; background: rgba(34, 197, 94, 0.12); display: flex; align-items: center; justify-content: center; }
        .complete-icon svg { width: 40px; height: 40px; color: #16a34a; }
        .complete-title { font-size: 22px; font-weight: 700; color: var(--text-primary); margin-bottom: 8px; }
        .complete-desc { font-size: 14px; color: var(--text-secondary); margin-bottom: 32px; line-height: 1.6; }
        .refund-info-card { background: var(--surface-color); border: 1px solid var(--border-color); border-radius: var(--radius-xl); padding: 24px; margin-bottom: 32px; text-align: left; }
        .refund-info-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--border-color); font-size: 14px; }
        .refund-info-row:last-child { border-bottom: none; font-weight: 600; }
        .refund-info-row .label { color: var(--text-secondary); }
        .refund-info-row .value { color: var(--text-primary); font-weight: 500; }
        .refund-info-row:last-child .value { font-size: 18px; color: var(--primary-color); }
        .complete-actions { display: flex; flex-direction: column; gap: 12px; }
        .complete-actions .btn { width: 100%; justify-content: center; }
    </style>
</head>
<body>
    <div class="app-container">
        <script>document.write(createHeader('payment'));</script>
        <main class="main-content">
            <div class="complete-wrap">
                <div class="complete-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                </div>
                <h1 class="complete-title">환불 신청이 완료되었습니다</h1>
                <p class="complete-desc">영업일 기준 7일 이내에 등록하신 계좌로 입금됩니다.</p>

                <div class="refund-info-card">
                    <div class="refund-info-row">
                        <span class="label">환불 대상 (잔여 포인트 전액)</span>
                        <span class="value" id="completeTargetDisplay">-</span>
                    </div>
                    <div class="refund-info-row">
                        <span class="label">환불 수수료 (10%)</span>
                        <span class="value" id="completeFeeDisplay">-</span>
                    </div>
                    <div class="refund-info-row">
                        <span class="label">실제 환불 금액</span>
                        <span class="value" id="completeAmountDisplay">-</span>
                    </div>
                </div>

                <div class="complete-actions">
                    <a href="payment-refund-apply.html#history" class="btn btn-primary btn-lg">환불신청 내역</a>
                </div>
            </div>
        </main>
    </div>
    <script src="js/common.js"></script>
    <script>
        (function() {
            var params = new URLSearchParams(window.location.search);
            var target = params.get('target');
            var amount = params.get('amount');
            if (target !== null && amount !== null) {
                var targetNum = parseInt(target, 10) || 0;
                var amountNum = parseInt(amount, 10) || 0;
                var feeNum = targetNum - amountNum;
                document.getElementById('completeTargetDisplay').textContent = (targetNum).toLocaleString() + ' P';
                document.getElementById('completeFeeDisplay').textContent = '-' + (feeNum).toLocaleString() + ' P';
                document.getElementById('completeAmountDisplay').textContent = (amountNum).toLocaleString() + ' P';
            } else {
                document.getElementById('completeTargetDisplay').textContent = '-';
                document.getElementById('completeFeeDisplay').textContent = '-';
                document.getElementById('completeAmountDisplay').textContent = '-';
            }
        })();
    </script>
    <script src="js/footer.js"></script>
    <script>
        document.write(createFloatingMenu());
        document.write(createFooter());
    </script>
</body>
</html>
