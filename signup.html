<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입 - 메시징 서비스</title>
    <script src="js/header.js"></script>
    <style>
/* 공통 스타일 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #2563eb;
    --primary-hover: #1d4ed8;
    --secondary-color: #64748b;
    --success-color: #10b981;
    --danger-color: #ef4444;
    --warning-color: #f59e0b;
    --bg-color: #f8fafc;
    --surface-color: #ffffff;
    --border-color: #e2e8f0;
    --text-primary: #1e293b;
    --text-secondary: #64748b;
    --text-muted: #94a3b8;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    font-size: 14px;
    line-height: 1.6;
    color: var(--text-primary);
    background-color: var(--bg-color);
}

.app-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* 헤더 */
.header {
    background-color: var(--surface-color);
    border-bottom: 1px solid var(--border-color);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: 0;
    z-index: 100;
}

.header-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 64px;
}

.logo h1 {
    font-size: 28px;
    font-weight: 700;
    color: var(--primary-color);
    margin: 0;
}

.logo a {
    text-decoration: none;
    color: inherit;
    display: block;
}

.logo a:hover h1 {
    opacity: 0.8;
}

.main-nav {
    display: flex;
    gap: 4px;
    flex: 1;
    justify-content: center;
    position: relative;
}

.nav-item {
    padding: 8px 16px;
    text-decoration: none;
    color: var(--text-secondary);
    font-weight: 500;
    border-radius: var(--radius-md);
    transition: all 0.2s;
    position: relative;
    display: flex;
    align-items: center;
    gap: 4px;
}

.nav-item:hover {
    background-color: var(--bg-color);
    color: var(--text-primary);
}

.nav-item.active {
    background-color: rgba(37, 99, 235, 0.1);
    color: var(--primary-color);
}

.nav-item.has-dropdown {
    position: relative;
}

.nav-item.has-dropdown .nav-link::after {
    content: '▼';
    font-size: 10px;
    margin-left: 4px;
    transition: transform 0.2s;
    display: inline-block;
}

.nav-item.has-dropdown.open .nav-link::after {
    transform: rotate(180deg);
}

.nav-item.has-dropdown .nav-link {
    text-decoration: none;
    color: inherit;
    display: flex;
    align-items: center;
}

/* 드롭다운 메뉴 */
.nav-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 8px;
    background-color: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    min-width: 180px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s;
    z-index: 1000;
    padding: 8px 0;
}

.nav-item.open .nav-dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.nav-dropdown-item {
    display: block;
    padding: 10px 20px;
    text-decoration: none;
    color: var(--text-primary);
    font-size: 14px;
    transition: all 0.2s;
}

.nav-dropdown-item:hover {
    background-color: var(--bg-color);
    color: var(--primary-color);
}

.nav-dropdown-item.active {
    background-color: rgba(37, 99, 235, 0.1);
    color: var(--primary-color);
    font-weight: 600;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 16px;
}

.balance-info {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background-color: var(--bg-color);
    border-radius: var(--radius-md);
}

.balance-label {
    font-size: 12px;
    color: var(--text-secondary);
}

.balance-amount {
    font-weight: 600;
    color: var(--primary-color);
}

/* 잔액 툴팁 스타일 */
.balance-tooltip-wrapper {
    position: relative;
    display: inline-flex;
    cursor: pointer;
}

.balance-tooltip-content {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    margin-top: 8px;
    background: #1e293b;
    color: white;
    padding: 16px;
    border-radius: 8px;
    font-size: 13px;
    line-height: 1.6;
    white-space: normal;
    width: 200px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s;
    z-index: 1000;
}

.balance-tooltip-wrapper:hover .balance-tooltip-content {
    opacity: 1;
    visibility: visible;
}

.balance-tooltip-content::after {
    content: '';
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-bottom-color: #1e293b;
}

/* 메인 컨텐츠 */
.main-content {
    flex: 1;
    max-width: 1000px;
    width: 100%;
    margin: 0 auto;
    padding: 40px 24px;
    min-height: calc(100vh - 64px);
}

.signup-container {
    background-color: var(--surface-color);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    width: 100%;
    padding: 48px 40px;
}

.signup-header {
    text-align: center;
    margin-bottom: 40px;
}

.signup-title {
    font-size: 28px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.signup-subtitle {
    font-size: 14px;
    color: var(--text-secondary);
}

/* 진행 단계 표시 */
.step-indicator {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 40px;
    position: relative;
    padding: 0 20px;
}

.step-indicator::before {
    content: '';
    position: absolute;
    top: 20px;
    left: 10%;
    right: 10%;
    height: 2px;
    background-color: var(--border-color);
    z-index: 0;
}

.step-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    z-index: 1;
    flex: 1;
}

.step-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--surface-color);
    border: 2px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 8px;
    transition: all 0.3s;
}

.step-item.active .step-number {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
    color: white;
}

.step-item.completed .step-number {
    background-color: var(--success-color);
    border-color: var(--success-color);
    color: white;
}

.step-label {
    font-size: 12px;
    color: var(--text-secondary);
    text-align: center;
}

.step-item.active .step-label {
    color: var(--primary-color);
    font-weight: 600;
}

.step-item.completed .step-label {
    color: var(--success-color);
}

/* 폼 스타일 */
.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: var(--text-primary);
    font-size: 14px;
}

.form-label.required::after {
    content: ' *';
    color: var(--danger-color);
}

.form-input,
.form-select,
.form-textarea {
    width: 100%;
    padding: 12px 16px;
    font-size: 14px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    background-color: var(--surface-color);
    color: var(--text-primary);
    transition: all 0.2s;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.form-textarea {
    resize: vertical;
    min-height: 150px;
}

.form-error {
    margin-top: 4px;
    font-size: 12px;
    color: var(--danger-color);
    display: none;
}

.form-error.show {
    display: block;
}

.form-help {
    margin-top: 4px;
    font-size: 12px;
    color: var(--text-secondary);
}

/* 체크박스 그룹 */
.checkbox-group {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 12px;
}

.checkbox-group input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    margin-top: 2px;
    flex-shrink: 0;
}

.checkbox-group label {
    font-size: 14px;
    color: var(--text-primary);
    cursor: pointer;
    line-height: 1.5;
}

.checkbox-group label a {
    color: var(--primary-color);
    text-decoration: underline;
}

/* 약관 동의 영역 */
.terms-section {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 16px;
    margin-bottom: 20px;
    max-height: 200px;
    overflow-y: auto;
}

.terms-content {
    font-size: 13px;
    color: var(--text-secondary);
    line-height: 1.8;
}

.terms-content h4 {
    font-size: 14px;
    color: var(--text-primary);
    margin-bottom: 8px;
    margin-top: 12px;
}

.terms-content h4:first-child {
    margin-top: 0;
}

.terms-content table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 12px;
    font-size: 12px;
}

.terms-content table th,
.terms-content table td {
    padding: 8px;
    border: 1px solid var(--border-color);
    text-align: left;
}

.terms-content table th {
    background-color: var(--surface-color);
    font-weight: 600;
}

/* 버튼 스타일 */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 12px 24px;
    font-size: 14px;
    font-weight: 500;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    gap: 8px;
}

.btn-primary {
    background-color: var(--primary-color);
    color: white;
}

.btn-primary:hover:not(:disabled) {
    background-color: var(--primary-hover);
}

.btn-outline {
    background-color: transparent;
    border: 1px solid var(--border-color);
    color: var(--text-primary);
}

.btn-outline:hover:not(:disabled) {
    background-color: var(--bg-color);
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-full {
    width: 100%;
}

.btn-sm {
    padding: 8px 16px;
    font-size: 13px;
}

/* 회원유형 선택 */
.member-type-selector {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
    margin-bottom: 32px;
}

.member-type-card {
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    padding: 40px 24px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
    background-color: var(--surface-color);
}

.member-type-card:hover {
    border-color: var(--primary-color);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.member-type-card.selected {
    border-color: var(--primary-color);
    background-color: rgba(37, 99, 235, 0.05);
}

.member-type-icon {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px auto;
}

.member-type-icon.blue {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    color: #2563eb;
}

.member-type-icon.green {
    background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
    color: #10b981;
}

.member-type-card.selected .member-type-icon.blue {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    color: white;
}

.member-type-card.selected .member-type-icon.green {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
}

.member-type-icon.red {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
    color: #dc2626;
}

.member-type-card.selected .member-type-icon.red {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    color: white;
}

.member-type-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.member-type-desc {
    font-size: 14px;
    color: var(--text-secondary);
}

/* 본인인증 영역 */
.verification-section {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 24px;
    margin-bottom: 24px;
}

.verification-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--text-primary);
}

.verification-complete {
    padding: 12px;
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
    border: 1px solid rgba(16, 185, 129, 0.2);
    border-radius: var(--radius-md);
    margin-bottom: 16px;
    display: none;
}

.verification-complete.show {
    display: block;
}

.phone-input-group {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
}

.phone-input-group .form-input {
    flex: 1;
}

.verification-code-group {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
}

.verification-code-group .form-input {
    flex: 1;
}

.verification-status {
    padding: 12px;
    border-radius: var(--radius-md);
    margin-top: 12px;
    font-size: 13px;
    display: none;
}

.verification-status.success {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
    border: 1px solid rgba(16, 185, 129, 0.2);
    display: block;
}

.verification-status.error {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--danger-color);
    border: 1px solid rgba(239, 68, 68, 0.2);
    display: block;
}

.verification-hint {
    font-size: 12px;
    color: var(--text-secondary);
    margin-top: 8px;
}

/* 파일 업로드 */
.file-upload-area {
    border: 2px dashed var(--border-color);
    border-radius: var(--radius-md);
    padding: 32px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
    background-color: var(--bg-color);
}

.file-upload-area:hover {
    border-color: var(--primary-color);
    background-color: rgba(37, 99, 235, 0.05);
}

.file-upload-area.dragover {
    border-color: var(--primary-color);
    background-color: rgba(37, 99, 235, 0.1);
}

.file-upload-icon {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    margin: 0 auto 12px auto;
}

.file-upload-text {
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: 8px;
}

.file-upload-hint {
    font-size: 12px;
    color: var(--text-muted);
}

.file-preview {
    margin-top: 16px;
    padding: 12px;
    background-color: var(--bg-color);
    border-radius: var(--radius-md);
    display: none;
}

.file-preview.show {
    display: block;
}

.file-preview-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px;
    background-color: var(--surface-color);
    border-radius: var(--radius-sm);
    margin-bottom: 8px;
}

.file-preview-item:last-child {
    margin-bottom: 0;
}

.file-preview-name {
    font-size: 13px;
    color: var(--text-primary);
}

.file-preview-remove {
    color: var(--danger-color);
    cursor: pointer;
    font-size: 18px;
    padding: 0 4px;
}

/* 단계별 컨텐츠 */
.step-content {
    display: none;
}

.step-content.active {
    display: block;
}

/* 버튼 그룹 */
.button-group {
    display: flex;
    gap: 12px;
    margin-top: 32px;
}

.button-group .btn {
    flex: 1;
}

/* 입력 그룹 (아이디 중복확인 등) */
.input-group {
    display: flex;
    gap: 8px;
}

.input-group .form-input {
    flex: 1;
}

.input-group .btn {
    white-space: nowrap;
    flex-shrink: 0;
}

/* 마케팅 수신 체크박스 그룹 */
.marketing-consent-group {
    display: flex;
    gap: 24px;
    margin-top: 8px;
}

.marketing-consent-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.marketing-consent-item input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

/* 반응형 */
@media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        height: auto;
        padding: 16px;
    }

    .main-nav {
        flex-wrap: wrap;
        margin: 16px 0;
        width: 100%;
    }

    .nav-dropdown {
        position: static;
        margin-top: 4px;
        width: 100%;
        box-shadow: none;
        border: none;
        border-top: 1px solid var(--border-color);
        border-radius: 0;
        opacity: 1;
        visibility: visible;
        transform: none;
        display: none;
    }

    .nav-item.open .nav-dropdown {
        display: block;
    }

    .header-actions {
        width: 100%;
        justify-content: space-between;
    }

    .main-content {
        padding: 24px 16px;
    }

    .signup-container {
        padding: 32px 24px;
    }

    .step-indicator {
        margin-bottom: 32px;
        padding: 0 10px;
    }

    .step-label {
        font-size: 11px;
    }

    .member-type-selector {
        grid-template-columns: 1fr;
    }

    .member-type-card {
        padding: 32px 20px;
    }

    .phone-input-group,
    .verification-code-group,
    .input-group {
        flex-direction: column;
    }

    .marketing-consent-group {
        flex-direction: column;
        gap: 12px;
    }
}
    </style>
</head>
<body>
    <div class="app-container">
        <script>
            document.write(createHeader());
        </script>

        <main class="main-content">
            <div class="signup-container" id="signupContainer">
                <div class="signup-header" id="signupHeader">
                    <h1 class="signup-title">회원가입</h1>
                    <p class="signup-subtitle">서비스 이용을 위해 회원가입을 진행해주세요</p>
                </div>

                <!-- 진행 단계 표시 -->
                <div class="step-indicator" id="stepIndicator">
                    <div class="step-item active" id="step1-indicator">
                        <div class="step-number">1</div>
                        <div class="step-label">약관 동의</div>
                    </div>
                    <div class="step-item" id="step2-indicator">
                        <div class="step-number">2</div>
                        <div class="step-label">본인인증</div>
                    </div>
                    <div class="step-item" id="step3-indicator">
                        <div class="step-number">3</div>
                        <div class="step-label">정보 입력</div>
                    </div>
                </div>

                <!-- Step 1: 약관 동의 -->
                <div class="step-content active" id="step1">
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeAll" onchange="toggleAllAgreements()">
                            <label for="agreeAll"><strong>전체 동의</strong></label>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeRequired1" class="required-agreement" onchange="updateAllAgreement(); checkRequiredAgreements()">
                            <label for="agreeRequired1" class="required">이용약관 동의 <span style="color: var(--danger-color);">(필수)</span></label>
                        </div>
                        <div class="terms-section">
                            <div class="terms-content">
                                <h4>제1장 총칙</h4>
                                <h4>제1조(목적)</h4>
                                이 약관은 회사가 온라인으로 제공하는 서비스의 이용과 관련하여 회사와 이용자 간의 권리, 의무 및 책임사항을 규정함을 목적으로 합니다.
                                
                                <h4>제2조(정의)</h4>
                                이 약관에서 사용하는 용어의 정의는 다음과 같습니다.<br>
                                1. "서비스"란 회사가 제공하는 메시징 서비스를 의미합니다.<br>
                                2. "이용자"란 이 약관에 따라 회사가 제공하는 서비스를 받는 회원 및 비회원을 말합니다.<br>
                                3. "회원"이란 회사에 개인정보를 제공하여 회원등록을 한 자로서, 회사의 정보를 지속적으로 제공받으며, 회사가 제공하는 서비스를 계속적으로 이용할 수 있는 자를 말합니다.<br>
                                4. "OK문자"란 회사가 제공하는 문자, 멀티미디어 메시지, 팩스 전송 서비스를 의미합니다.
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeRequired2" class="required-agreement" onchange="updateAllAgreement(); checkRequiredAgreements()">
                            <label for="agreeRequired2" class="required">개인정보 수집 및 이용에 관한 동의 <span style="color: var(--danger-color);">(필수)</span></label>
                            <a href="javascript:void(0)" onclick="openPolicyModal('privacy')" style="margin-left: 8px; color: var(--primary-color); text-decoration: underline; font-size: 12px;">개인정보처리방침 바로가기</a>
                        </div>
                        <div class="terms-section">
                            <div class="terms-content">
                                <h4>수집하는 개인정보 항목 및 수집방법</h4>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>구분</th>
                                            <th>수집항목</th>
                                            <th>수집방법</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>회원공통</td>
                                            <td>로그인ID, 비밀번호, 일반전화번호, 이동전화번호, 가입인증 이동전화번호, 이메일, 쿠키, 방문일시, 결제기록, 접속IP, 서비스 이용기록, 불량 이용 기록</td>
                                            <td>회원가입, 서비스 이용</td>
                                        </tr>
                                        <tr>
                                            <td>개인회원</td>
                                            <td>성명, 성별, 자택 전화번호</td>
                                            <td>회원가입</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeRequired3" class="required-agreement" onchange="updateAllAgreement(); checkRequiredAgreements()">
                            <label for="agreeRequired3" class="required">개인정보 취급 위탁 동의 <span style="color: var(--danger-color);">(필수)</span></label>
                        </div>
                        <div class="terms-section">
                            <div class="terms-content">
                                <h4>수집한 개인정보의 위탁</h4>
                                회사는 서비스 이행을 위해 개인정보 처리업무를 외부 전문업체에 위탁하여 운영할 수 있으며, 위탁 시 관련 법령에 따라 위탁계약서 등을 통하여 서비스 제공에 필요한 최소한의 정보만 제공하며, 개인정보 보호 관련 지시엄수, 개인정보에 대한 비밀유지, 제3자 제공 금지 등에 관한 사항을 계약서 등 문서에 명시하고, 수탁자가 개인정보를 안전하게 처리하는지를 감독하고 있습니다.
                                
                                <table>
                                    <thead>
                                        <tr>
                                            <th>수탁업체</th>
                                            <th>위탁업무 내용</th>
                                            <th>위탁처리 정보</th>
                                            <th>개인정보 보유 및 이용기간</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>엔에이치엔한국사이버결제 주식회사</td>
                                            <td>신용카드결제</td>
                                            <td>이름, 휴대폰번호</td>
                                            <td>회원탈퇴시</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeRequired4" class="required-agreement" onchange="updateAllAgreement(); checkRequiredAgreements()">
                            <label for="agreeRequired4" class="required">불법스팸방지안내 <span style="color: var(--danger-color);">(필수)</span></label>
                        </div>
                        <div class="terms-section">
                            <div class="terms-content">
                                <h4>불법스팸메시지 발송차단 및 가입차단 조치 안내</h4>
                                불법스팸메시지(대출, 도박, 의약품, 성인, 주식, 복권, 부동산 광고, 게임 등)를 발송하는 경우, 발송 사실이 확인된 계정은 즉시 가입이 차단되며, 잔여 포인트는 환불되지 않습니다.<br><br>
                                또한, 한국인터넷진흥원(KISA)에서 스팸 신고를 받거나, 광고성 표시 의무를 위반한 경우 서비스 이용이 제한될 수 있습니다.
                            </div>
                        </div>
                    </div>

                    <div class="form-group" style="margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--border-color);">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeMarketing" class="optional-agreement" onchange="updateAllAgreement()">
                            <label for="agreeMarketing">마케팅 수신 동의 <span style="color: var(--text-secondary);">(선택)</span></label>
                        </div>
                        <div class="terms-section">
                            <div class="terms-content">
                                <h4>마케팅 정보 수신 동의</h4>
                                회사는 다음과 같은 마케팅 및 광고성 정보를 제공하기 위해 개인정보를 활용할 수 있습니다.<br><br>
                                
                                <strong>수신 방법</strong><br>
                                - SMS(문자메시지)<br>
                                - 이메일<br>
                                - 카카오톡 알림톡<br><br>
                                
                                <strong>수신 내용</strong><br>
                                - 이벤트 및 프로모션 정보<br>
                                - 신규 서비스 및 기능 안내<br>
                                - 할인 및 특가 정보<br>
                                - 설문조사 및 이벤트 참여 안내<br><br>
                                
                                마케팅 정보 수신 동의는 선택사항이며, 동의하지 않아도 서비스 이용에는 제한이 없습니다.<br>
                                동의 후에도 언제든지 마이페이지에서 수신 동의를 철회할 수 있습니다.
                            </div>
                        </div>
                    </div>

                    <div class="form-group" style="margin-top: 24px;">
                        <p style="font-size: 12px; color: var(--text-secondary); line-height: 1.6;">
                            * 개인정보 수집 및 이용에 관한 동의에 관한 자세한 사항은 개인정보 처리방침에서 고지하고 있습니다.<br>
                            * 필수 약관 동의 거부 시, 회원가입이 제한됩니다.<br>
                            * 마케팅 수신 동의는 선택사항이며, 동의하지 않아도 서비스 이용에는 제한이 없습니다.
                        </p>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="goToLogin()">비동의</button>
                        <button type="button" class="btn btn-primary btn-full" id="step1-next" onclick="nextStep(3)" disabled>동의</button>
                    </div>
                </div>

                <!-- Step 3: 본인인증 (회원유형 선택 단계 제거됨 - 모든 회원은 개인회원으로 가입) -->
                <div class="step-content" id="step3">
                    <div class="verification-section">
                        <div class="verification-title">휴대폰 본인인증</div>
                        <div class="verification-complete" id="verificationComplete">
                            <strong>인증 완료</strong> - <span id="verifiedName"></span> (<span id="verifiedPhone"></span>)
                        </div>
                        <div id="verificationForm">
                            <div class="form-group">
                                <label class="form-label required" for="verifyName">이름</label>
                                <input type="text" id="verifyName" class="form-input" placeholder="실명을 입력해주세요">
                                <div class="form-error" id="verifyNameError"></div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required" for="verifyBirthDate">생년월일</label>
                                <input type="text" id="verifyBirthDate" class="form-input" placeholder="YYYYMMDD (예: 19900101)" maxlength="8" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                                <div class="form-help">* 8자리 숫자로 입력해주세요 (예: 19900101)</div>
                                <div class="form-error" id="verifyBirthDateError"></div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required" for="phoneNumber">휴대폰 번호</label>
                                <div class="phone-input-group">
                                    <input type="tel" id="phoneNumber" class="form-input" placeholder="010-1234-5678" maxlength="13" oninput="formatPhoneNumber(this)">
                                    <button type="button" class="btn btn-primary" onclick="sendVerificationCode()">인증번호 발송</button>
                                </div>
                                <div class="verification-hint">* 본인 명의 휴대폰만 인증 가능</div>
                                <div class="form-error" id="phoneNumberError"></div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required" for="verificationCode">인증번호</label>
                                <div class="verification-code-group">
                                    <input type="text" id="verificationCode" class="form-input" placeholder="인증번호 6자리 입력" maxlength="6">
                                    <button type="button" class="btn btn-outline" onclick="verifyCode()">인증 확인</button>
                                </div>
                                <div class="verification-status" id="verificationStatus"></div>
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="prevStep(1)">이전</button>
                        <button type="button" class="btn btn-primary btn-full" id="step3-next" onclick="nextStep(4)" disabled>다음</button>
                    </div>
                </div>

                <!-- Step 4: 정보 입력 (개인) -->
                <div class="step-content" id="step4-individual">
                    <p style="font-size: 12px; color: var(--text-secondary); margin-bottom: 24px;">* 표시는 필수 입력 항목입니다.</p>

                    <div class="form-group">
                        <label class="form-label required" for="individualUserId">아이디 (이메일)</label>
                        <div class="input-group">
                            <input type="email" id="individualUserId" class="form-input" placeholder="example@email.com">
                            <button type="button" class="btn btn-outline btn-sm" onclick="checkIndividualUserId()">중복확인</button>
                        </div>
                        <div class="form-help">* 이메일 주소를 아이디로 사용합니다</div>
                        <div class="form-error" id="individualUserIdError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="individualPassword">비밀번호</label>
                        <input type="password" id="individualPassword" class="form-input" placeholder="8자~16자 영문, 숫자, 특수문자 혼합 사용" oninput="validatePasswordConfirm('individual')">
                        <div class="form-help">
                            * 8자~16자 영문, 숫자, 특수문자(~!@#$%^&*?) 혼합 사용<br>
                            * 동일한 문자를 연속해서 반복 사용 불가<br>
                            * 이전과 동일한 비밀번호 사용 불가
                        </div>
                        <div class="form-error" id="individualPasswordError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="individualPasswordConfirm">비밀번호 확인</label>
                        <input type="password" id="individualPasswordConfirm" class="form-input" placeholder="상단에 입력한 비밀번호와 동일하게 입력" oninput="validatePasswordConfirm('individual')">
                        <div class="form-error" id="individualPasswordConfirmError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="individualContact">연락처</label>
                        <input type="tel" id="individualContact" class="form-input" placeholder="010-1234-5678" maxlength="13" oninput="formatPhoneNumber(this)">
                        <div class="form-error" id="individualContactError"></div>
                    </div>

                    <!-- 발신번호 등록 옵션 -->
                    <div class="form-group" id="callerNumberRegisterGroup">
                        <div style="background: var(--bg-color); border: 1px solid var(--border-color); border-radius: var(--radius-md); padding: 16px;">
                            <label style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer;">
                                <input type="checkbox" id="individualRegisterCallerNumber" style="margin-top: 3px;">
                                <div>
                                    <strong style="font-size: 14px;">본인 전화번호를 발신번호로 등록</strong>
                                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                                        본인인증에 사용된 전화번호 <strong id="verifiedPhoneDisplay">010-1234-5678</strong>를 문자 발송 시 발신번호로 등록합니다.
                                    </div>
                                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 8px;">
                                        ※ 발신번호는 가입 후 마이페이지 &gt; 발신번호 관리에서 추가/수정할 수 있습니다.
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required">알림성 메시지 수신채널 <span style="color: var(--text-secondary); font-weight: 400;">(둘 중 하나 필수 선택)</span></label>
                        <div class="marketing-consent-group">
                            <div class="marketing-consent-item">
                                <input type="checkbox" id="individualMarketingSMS" name="individualNotifyChannel" onchange="var e=document.getElementById('individualNotifyChannelError');if(e)e.textContent='';">
                                <label for="individualMarketingSMS">SMS</label>
                            </div>
                            <div class="marketing-consent-item">
                                <input type="checkbox" id="individualMarketingEmail" name="individualNotifyChannel" onchange="var e=document.getElementById('individualNotifyChannelError');if(e)e.textContent='';">
                                <label for="individualMarketingEmail">E-mail</label>
                            </div>
                        </div>
                        <div class="form-help">* 공지사항은 수신채널 선택 여부와 관계없이 전송됩니다.</div>
                        <div class="form-error" id="individualNotifyChannelError"></div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="prevStep(3)">이전단계</button>
                        <button type="button" class="btn btn-primary btn-full" onclick="submitSignup('individual')">가입</button>
                    </div>
                </div>

                <!-- 기업회원/선거회원 폼 제거됨 - 회원가입 시에는 개인회원으로만 가입, 마이페이지에서 전환 가능 -->
                <!-- Step 4: 정보 입력 (기업) - 숨김 처리 -->
                <div class="step-content" id="step4-business" style="display: none !important;">
                    <p style="font-size: 12px; color: var(--text-secondary); margin-bottom: 24px;">* 표시는 필수 입력 항목입니다.</p>

                    <div class="form-group">
                        <label class="form-label required" for="businessUserId">아이디 (이메일)</label>
                        <div class="input-group">
                            <input type="email" id="businessUserId" class="form-input" placeholder="example@email.com">
                            <button type="button" class="btn btn-outline btn-sm" onclick="checkBusinessUserId()">중복확인</button>
                        </div>
                        <div class="form-help">* 이메일 주소를 아이디로 사용합니다</div>
                        <div class="form-error" id="businessUserIdError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessPassword">비밀번호</label>
                        <input type="password" id="businessPassword" class="form-input" placeholder="8자~16자 영문, 숫자, 특수문자 혼합 사용" oninput="validatePasswordConfirm('business')">
                        <div class="form-help">
                            * 8자~16자 영문, 숫자, 특수문자(~!@#$%^&*?) 혼합 사용<br>
                            * 동일한 문자를 연속해서 반복 사용 불가<br>
                            * 이전과 동일한 비밀번호 사용 불가
                        </div>
                        <div class="form-error" id="businessPasswordError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessPasswordConfirm">비밀번호 확인</label>
                        <input type="password" id="businessPasswordConfirm" class="form-input" placeholder="상단에 입력한 비밀번호와 동일하게 입력" oninput="validatePasswordConfirm('business')">
                        <div class="form-error" id="businessPasswordConfirmError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessType">기업유형</label>
                        <select id="businessType" class="form-select" onchange="handleBusinessTypeChange()">
                            <option value="">선택하세요</option>
                            <option value="corporation">법인사업자</option>
                            <option value="individual">개인사업자</option>
                        </select>
                        <div class="form-error" id="businessTypeError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="managerType">담당자</label>
                        <select id="managerType" class="form-select" onchange="handleManagerTypeChange()">
                            <option value="">선택하세요</option>
                            <option value="representative">대표자</option>
                            <option value="employee">직원</option>
                        </select>
                        <div class="form-error" id="managerTypeError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessRegistrationFile">사업자등록증</label>
                        <div class="file-upload-area" onclick="document.getElementById('businessRegistrationFileInput').click()" ondrop="handleBusinessRegistrationFileDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                            <div class="file-upload-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10 9 9 9 8 9"></polyline>
                                </svg>
                            </div>
                            <div class="file-upload-text">파일을 드래그하거나 클릭하여 업로드</div>
                            <div class="file-upload-hint">PDF, JPG, PNG 파일만 업로드 가능 (최대 10MB)</div>
                        </div>
                        <input type="file" id="businessRegistrationFileInput" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" onchange="handleBusinessRegistrationFileSelect(event)">
                        <div class="file-preview" id="businessRegistrationFilePreview"></div>
                        <div class="form-error" id="businessRegistrationFileError"></div>
                    </div>

                    <div class="form-group" id="employmentCertificateGroup" style="display: none;">
                        <label class="form-label required" for="employmentCertificateFile">재직증명서</label>
                        <div class="file-upload-area" onclick="document.getElementById('employmentCertificateFileInput').click()" ondrop="handleEmploymentCertificateFileDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                            <div class="file-upload-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10 9 9 9 8 9"></polyline>
                                </svg>
                            </div>
                            <div class="file-upload-text">파일을 드래그하거나 클릭하여 업로드</div>
                            <div class="file-upload-hint">PDF, JPG, PNG 파일만 업로드 가능 (최대 10MB)</div>
                        </div>
                        <input type="file" id="employmentCertificateFileInput" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" onchange="handleEmploymentCertificateFileSelect(event)">
                        <div class="file-preview" id="employmentCertificateFilePreview"></div>
                        <div class="form-error" id="employmentCertificateFileError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessName">기업명</label>
                        <input type="text" id="businessName" class="form-input" placeholder="기업명을 입력하세요">
                        <div class="form-error" id="businessNameError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessNumber">사업자번호</label>
                        <input type="text" id="businessNumber" class="form-input" placeholder="000-00-00000" maxlength="12" oninput="formatBusinessNumber(this)">
                        <div class="form-error" id="businessNumberError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="representativeName">대표자명</label>
                        <input type="text" id="representativeName" class="form-input" placeholder="대표자명을 입력하세요">
                        <div class="form-error" id="representativeNameError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessAddress">주소</label>
                        <div class="input-group" style="margin-bottom: 8px;">
                            <input type="text" id="businessAddress" class="form-input" placeholder="주소를 입력하세요" readonly>
                            <button type="button" class="btn btn-outline btn-sm" onclick="searchAddress()">주소 검색</button>
                        </div>
                        <input type="text" id="businessAddressDetail" class="form-input" placeholder="상세주소를 입력하세요">
                        <div class="form-error" id="businessAddressError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessContact">연락처</label>
                        <input type="tel" id="businessContact" class="form-input" placeholder="010-1234-5678" maxlength="13" oninput="formatPhoneNumber(this)">
                        <div class="form-error" id="businessContactError"></div>
                    </div>

                    <!-- 발신번호 등록 옵션 -->
                    <div class="form-group" id="businessCallerNumberRegisterGroup">
                        <div style="background: var(--bg-color); border: 1px solid var(--border-color); border-radius: var(--radius-md); padding: 16px;">
                            <label style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer;">
                                <input type="checkbox" id="businessRegisterCallerNumber" style="margin-top: 3px;">
                                <div>
                                    <strong style="font-size: 14px;">본인 전화번호를 발신번호로 등록</strong>
                                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                                        본인인증에 사용된 전화번호 <strong id="businessVerifiedPhoneDisplay">010-1234-5678</strong>를 문자 발송 시 발신번호로 등록합니다.
                                    </div>
                                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 8px;">
                                        ※ 발신번호는 가입 후 마이페이지 &gt; 발신번호 관리에서 추가/수정할 수 있습니다.
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required">알림성 메시지 수신채널 <span style="color: var(--text-secondary); font-weight: 400;">(둘 중 하나 필수 선택)</span></label>
                        <div class="marketing-consent-group">
                            <div class="marketing-consent-item">
                                <input type="checkbox" id="businessMarketingSMS" name="businessNotifyChannel" onchange="var e=document.getElementById('businessNotifyChannelError');if(e)e.textContent='';">
                                <label for="businessMarketingSMS">SMS</label>
                            </div>
                            <div class="marketing-consent-item">
                                <input type="checkbox" id="businessMarketingEmail" name="businessNotifyChannel" onchange="var e=document.getElementById('businessNotifyChannelError');if(e)e.textContent='';">
                                <label for="businessMarketingEmail">E-mail</label>
                            </div>
                        </div>
                        <div class="form-help">* 공지사항은 수신채널 선택 여부와 관계없이 전송됩니다.</div>
                        <div class="form-error" id="businessNotifyChannelError"></div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="prevStep(3)">이전단계</button>
                        <button type="button" class="btn btn-primary btn-full" onclick="submitSignup('business')">가입</button>
                    </div>
                </div>

                <!-- Step 4: 정보 입력 (선거) - 숨김 처리 -->
                <div class="step-content" id="step4-election" style="display: none !important;">
                    <p style="font-size: 12px; color: var(--text-secondary); margin-bottom: 24px;">* 표시는 필수 입력 항목입니다.</p>
                    
                    <div style="background: rgba(220, 38, 38, 0.05); border: 1px solid rgba(220, 38, 38, 0.2); border-radius: var(--radius-md); padding: 16px; margin-bottom: 24px;">
                        <p style="color: var(--danger-color); font-size: 13px; line-height: 1.6;">
                            <strong>📋 선거회원 안내</strong><br>
                            선거회원 가입 후 담당자 승인 시 선거문자 최저 단가로 적용되며, 선거 전문 담당자가 별도 관리해 드립니다.
                        </p>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="electionUserId">아이디 (이메일)</label>
                        <div class="input-group">
                            <input type="email" id="electionUserId" class="form-input" placeholder="example@email.com">
                            <button type="button" class="btn btn-outline btn-sm" onclick="checkElectionUserId()">중복확인</button>
                        </div>
                        <div class="form-help">* 이메일 주소를 아이디로 사용합니다</div>
                        <div class="form-error" id="electionUserIdError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="electionPassword">비밀번호</label>
                        <input type="password" id="electionPassword" class="form-input" placeholder="8자~16자 영문, 숫자, 특수문자 혼합 사용" oninput="validatePasswordConfirm('election')">
                        <div class="form-help">
                            * 8자~16자 영문, 숫자, 특수문자(~!@#$%^&*?) 혼합 사용<br>
                            * 동일한 문자를 연속해서 반복 사용 불가<br>
                            * 이전과 동일한 비밀번호 사용 불가
                        </div>
                        <div class="form-error" id="electionPasswordError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="electionPasswordConfirm">비밀번호 확인</label>
                        <input type="password" id="electionPasswordConfirm" class="form-input" placeholder="상단에 입력한 비밀번호와 동일하게 입력" oninput="validatePasswordConfirm('election')">
                        <div class="form-error" id="electionPasswordConfirmError"></div>
                    </div>

                    <!-- 선거 기본 정보 -->
                    <div style="background: var(--bg-color); border-radius: var(--radius-lg); padding: 20px; margin: 24px 0;">
                        <h4 style="font-size: 15px; font-weight: 600; margin-bottom: 16px; color: var(--text-primary);">📋 후보자 기본 정보</h4>
                        
                        <div class="form-group" style="margin-bottom: 16px;">
                            <label class="form-label required">후보자명</label>
                            <input type="text" class="form-input" id="electionCandidateName" placeholder="ex) 홍길동">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 16px;">
                            <label class="form-label required">소속/기관</label>
                            <input type="text" class="form-input" id="electionOrganization" placeholder="ex) 대한민국당">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label required">지역</label>
                            <input type="text" class="form-input" id="electionRegion" placeholder="ex) 서울 경성구 갑">
                        </div>
                    </div>

                    <!-- 서류 업로드 -->
                    <div style="background: var(--bg-color); border-radius: var(--radius-lg); padding: 20px; margin-bottom: 24px;">
                        <h4 style="font-size: 15px; font-weight: 600; margin-bottom: 16px; color: var(--text-primary);">📎 서류 업로드</h4>
                        
                        <div class="form-group" style="margin-bottom: 16px;">
                            <label class="form-label required">후보자 신분증 사본</label>
                            <div class="file-upload-area" onclick="document.getElementById('electionIdCardInput').click()" ondrop="handleElectionFileDrop(event, 'electionIdCard')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                <div class="file-upload-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="file-upload-text">파일을 드래그하거나 클릭하여 업로드</div>
                                <div class="file-upload-hint">PDF, JPG, PNG 파일만 업로드 가능 (최대 10MB)</div>
                            </div>
                            <input type="file" id="electionIdCardInput" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" onchange="handleElectionFileSelect(event, 'electionIdCard')">
                            <div class="file-preview" id="electionIdCardPreview"></div>
                            <p style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">* 주민등록증, 운전면허증 등 본인 확인 가능한 신분증</p>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 16px;">
                            <label class="form-label required">(예비)후보자 등록 증명서 사본</label>
                            <div class="file-upload-area" onclick="document.getElementById('electionCertificateInput').click()" ondrop="handleElectionFileDrop(event, 'electionCertificate')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                <div class="file-upload-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="file-upload-text">파일을 드래그하거나 클릭하여 업로드</div>
                                <div class="file-upload-hint">PDF, JPG, PNG 파일만 업로드 가능 (최대 10MB)</div>
                            </div>
                            <input type="file" id="electionCertificateInput" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" onchange="handleElectionFileSelect(event, 'electionCertificate')">
                            <div class="file-preview" id="electionCertificatePreview"></div>
                            <p style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">* 선거관리위원회가 발급한 후보자 등록 증명서</p>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 16px;">
                            <label class="form-label required">발신번호 등록 증명 서류</label>
                            <div class="file-upload-area" onclick="document.getElementById('electionCallerProofInput').click()" ondrop="handleElectionFileDrop(event, 'electionCallerProof')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                <div class="file-upload-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="file-upload-text">파일을 드래그하거나 클릭하여 업로드</div>
                                <div class="file-upload-hint">PDF, JPG, PNG 파일만 업로드 가능 (최대 10MB)</div>
                            </div>
                            <input type="file" id="electionCallerProofInput" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" onchange="handleElectionFileSelect(event, 'electionCallerProof')">
                            <div class="file-preview" id="electionCallerProofPreview"></div>
                            <p style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">* 후보자 본인 명의와 일치해야 함 (ex. 통신서비스이용증명원)</p>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">선관위 문자메시지 전송 신고서 사본 <span style="color: var(--text-muted); font-weight: 400;">(선택)</span></label>
                            <div class="file-upload-area" onclick="document.getElementById('electionReportCopyInput').click()" ondrop="handleElectionFileDrop(event, 'electionReportCopy')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                <div class="file-upload-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="file-upload-text">파일을 드래그하거나 클릭하여 업로드</div>
                                <div class="file-upload-hint">PDF, JPG, PNG 파일만 업로드 가능 (최대 10MB)</div>
                            </div>
                            <input type="file" id="electionReportCopyInput" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" onchange="handleElectionFileSelect(event, 'electionReportCopy')">
                            <div class="file-preview" id="electionReportCopyPreview"></div>
                            <p style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">* 선거관리위원회에 제출한 문자메시지 전송 신고서</p>
                        </div>
                    </div>

                    <!-- 발송할 문자 메시지 내용 -->
                    <div style="background: var(--bg-color); border-radius: var(--radius-lg); padding: 20px; margin-bottom: 24px;">
                        <h4 style="font-size: 15px; font-weight: 600; margin-bottom: 16px; color: var(--text-primary);">💬 발송할 문자 메시지 내용</h4>
                        
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label required">메시지 내용 전문</label>
                            <textarea class="form-textarea" id="electionMessageContent" rows="6" placeholder="선관위에 신고한 문자 메시지 내용을 정확히 입력해 주세요." style="resize: vertical;"></textarea>
                            <p style="font-size: 12px; color: var(--danger-color); margin-top: 4px; font-weight: 500;">⚠️ 선관위에 신고한 내용과 완전히 동일해야 합니다.</p>
                        </div>
                    </div>

                    <!-- 선거문자 이용약관 동의 -->
                    <div style="margin-bottom: 24px;">
                        <div class="checkbox-group" style="margin-bottom: 12px;">
                            <input type="checkbox" id="electionAgreeTerms">
                            <label for="electionAgreeTerms"><span style="color: var(--primary-color); font-weight: 500;">[필수]</span> 제 3자 정보제공 및 선거문자 이용약관 동의</label>
                        </div>
                        
                        <p style="font-size: 13px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 12px;">
                            본인은 선거관리위원회가 관리하는 선거(대통령 선거, 국회의원 선거, 지방의회 의원 및 지방자치단체의 장의 선거, 조합장 선거 등)에서 '톡벨' 선거문자 서비스를 이용하기 위하여 아래의 내용에 동의합니다.
                        </p>
                        
                        <div class="terms-section" style="max-height: 200px;">
                            <div class="terms-content">
                                <p style="margin-bottom: 12px;"><strong style="color: var(--warning-color);">※ 선거문자 서비스 이용약관 ※</strong></p>
                                
                                <p style="margin-bottom: 12px;"><strong>1. 문자 발송 위임</strong></p>
                                <p style="margin-bottom: 12px;">본인(후보자)은 '톡벨'(이하 '회사')에게 선거문자 발송 업무를 위임하며, 회사는 후보자의 요청에 따라 문자 메시지 발송을 대행합니다.</p>
                                
                                <p style="margin-bottom: 12px;"><strong>2. 발송 내용의 책임</strong></p>
                                <p style="margin-bottom: 12px;">발송되는 문자 메시지 내용의 진실성 및 합법성에 대한 모든 책임은 후보자 본인에게 있습니다. 회사는 메시지 내용으로 인해 발생하는 법적 분쟁이나 손해에 대해 책임지지 않습니다.</p>
                                
                                <p style="margin-bottom: 12px;"><strong>3. 자동 동보통신 발송 횟수 제한</strong></p>
                                <p style="margin-bottom: 12px;">공직선거법에 따라 자동 동보통신을 이용한 선거운동은 <strong style="color: var(--danger-color);">총 8회</strong>로 제한됩니다. 본인은 이 발송 횟수 제한을 초과하지 않도록 관리할 책임이 있음을 확인합니다.</p>
                                
                                <p style="margin-bottom: 12px;"><strong>4. 전화번호 수집 적법성</strong></p>
                                <p style="margin-bottom: 12px;">본인은 발송에 사용되는 모든 전화번호가 합법적인 경로를 통해 수집되었으며, 자동 생성 프로그램을 일체 사용하지 않았음을 확인합니다. 이를 위반하여 발생하는 모든 법적 책임은 본인에게 있습니다.</p>
                                
                                <p style="margin-bottom: 12px;"><strong>5. 선관위 자료 제공 동의</strong></p>
                                <p style="margin-bottom: 12px;">회사는 선거관리위원회의 요청이 있는 경우 정치자금법, 공직선거법 등 관련법령에 따라 관련 자료를 선거관리위원회에 제공할 수 있으며, 본인은 이에 대하여 민형사상의 일체의 이의를 제기하지 않겠습니다.</p>
                                
                                <p style="margin-bottom: 12px;"><strong>6. 제공 목적</strong></p>
                                <p style="margin-bottom: 12px;">선거관리위원회가 공직선거법, 정치자금법 등 관련 법령에 따라 선거 관련 자료를 요청하는 경우, 해당 목적에 한하여 정보를 제공합니다.</p>
                                
                                <p style="margin-bottom: 12px;"><strong>7. 제공 항목</strong></p>
                                <p style="margin-bottom: 8px;">- 후보자명, 소속/기관, 지역 등 선거회원 가입 시 입력한 정보</p>
                                <p style="margin-bottom: 8px;">- 선거문자 발송 내역 (발송일시, 수신번호, 발송 내용 등)</p>
                                <p style="margin-bottom: 8px;">- 발송 건수 및 비용 관련 정보</p>
                                <p style="margin-bottom: 12px;">- 기타 선거관리위원회가 법령에 따라 요청하는 관련 자료</p>
                                
                                <p style="margin-bottom: 12px;"><strong>8. 법적 근거</strong></p>
                                <p style="margin-bottom: 8px;">- 공직선거법 제82조의2 (선거운동을 위한 전화·문자메시지 전송의 제한)</p>
                                <p style="margin-bottom: 8px;">- 정치자금법 제49조 (정치자금의 수수·기부 등에 관한 자료의 제출)</p>
                                <p style="margin-bottom: 12px;">- 개인정보 보호법 제17조 (개인정보의 제공)</p>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="electionContact">연락처</label>
                        <input type="tel" id="electionContact" class="form-input" placeholder="010-1234-5678" maxlength="13" oninput="formatPhoneNumber(this)">
                        <div class="form-error" id="electionContactError"></div>
                    </div>


                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="prevStep(3)">이전단계</button>
                        <button type="button" class="btn btn-primary btn-full" onclick="submitSignup('election')">가입 신청</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let currentStep = 1;
        let memberType = '';
        let isVerified = false;
        let verificationCodeSent = false;
        let sentCode = '';
        let verifiedPhoneNumber = '';

        // 전체 동의 토글
        function toggleAllAgreements() {
            const agreeAll = document.getElementById('agreeAll');
            if (!agreeAll) return;
            
            const isChecked = agreeAll.checked;
            
            // 필수 약관 체크박스들
            const cb1 = document.getElementById('agreeRequired1');
            const cb2 = document.getElementById('agreeRequired2');
            const cb3 = document.getElementById('agreeRequired3');
            const cb4 = document.getElementById('agreeRequired4');
            const cbMarketing = document.getElementById('agreeMarketing');
            
            if (cb1) cb1.checked = isChecked;
            if (cb2) cb2.checked = isChecked;
            if (cb3) cb3.checked = isChecked;
            if (cb4) cb4.checked = isChecked;
            if (cbMarketing) cbMarketing.checked = isChecked;
            
            checkRequiredAgreements();
        }

        // 전체 동의 상태 업데이트 (개별 체크박스 변경 시)
        function updateAllAgreement() {
            const agreeAll = document.getElementById('agreeAll');
            if (!agreeAll) return;
            
            const checkboxes = [
                document.getElementById('agreeRequired1'),
                document.getElementById('agreeRequired2'),
                document.getElementById('agreeRequired3'),
                document.getElementById('agreeRequired4'),
                document.getElementById('agreeMarketing')
            ];
            
            const allChecked = checkboxes.every(cb => cb && cb.checked);
            const someChecked = checkboxes.some(cb => cb && cb.checked);
            
            agreeAll.checked = allChecked;
            agreeAll.indeterminate = someChecked && !allChecked;
        }

        // 필수 약관 체크
        function checkRequiredAgreements() {
            const requiredCheckboxes = [
                document.getElementById('agreeRequired1'),
                document.getElementById('agreeRequired2'),
                document.getElementById('agreeRequired3'),
                document.getElementById('agreeRequired4')
            ];
            const allChecked = requiredCheckboxes.every(cb => cb && cb.checked);
            const step1Next = document.getElementById('step1-next');
            
            if (step1Next) {
                step1Next.disabled = !allChecked;
            }
            
            // 전체 동의 상태 업데이트
            updateAllAgreement();
        }

        // 회원유형 선택
        function selectMemberType(type) {
            memberType = type;
            const cards = document.querySelectorAll('.member-type-card');
            cards.forEach(card => card.classList.remove('selected'));
            
            if (type === 'individual') {
                cards[0].classList.add('selected');
            } else if (type === 'business') {
                cards[1].classList.add('selected');
            } else if (type === 'election') {
                cards[2].classList.add('selected');
            }
            
            document.getElementById('step2-next').disabled = false;
        }

        // 다음 단계
        function nextStep(step) {
            // 회원유형 선택 단계(Step 2) 제거됨 - 모든 회원은 개인회원으로 가입
            if (step === 3 && !checkStep1()) return;  // 약관동의 → 본인인증
            if (step === 4 && !checkStep3()) return;  // 본인인증 → 정보입력
            
            // 현재 단계 숨기기
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // 이전 단계 완료 표시 (새로운 3단계 구조 반영)
            const stepMapping = { 1: 1, 3: 2, 4: 3 }; // 실제 step → 표시 step
            if (currentStep > 0) {
                const displayStep = stepMapping[currentStep] || currentStep;
                const prevIndicator = document.getElementById(`step${displayStep}-indicator`);
                if (prevIndicator) {
                    prevIndicator.classList.remove('active');
                    prevIndicator.classList.add('completed');
                }
            }
            
            currentStep = step;
            
            // 다음 단계 표시
            if (step === 4) {
                // 모든 회원은 개인회원으로 가입 (마이페이지에서 전환 가능)
                document.getElementById('step4-individual').classList.add('active');
                // 2단계 본인인증된 번호를 3단계(정보입력) 연락처에 기본값으로 설정
                const contactInput = document.getElementById('individualContact');
                if (contactInput && verifiedPhoneNumber) {
                    contactInput.value = verifiedPhoneNumber;
                }
                // 발신번호 등록 안내 문구에 본인인증 번호 표시
                const verifiedDisplay = document.getElementById('verifiedPhoneDisplay');
                const businessVerifiedDisplay = document.getElementById('businessVerifiedPhoneDisplay');
                if (verifiedDisplay) verifiedDisplay.textContent = verifiedPhoneNumber || '-';
                if (businessVerifiedDisplay) businessVerifiedDisplay.textContent = verifiedPhoneNumber || '-';
            } else {
                document.getElementById(`step${step}`).classList.add('active');
            }
            
            // 현재 단계 활성화 표시 (새로운 3단계 구조 반영)
            const displayCurrentStep = stepMapping[step] || step;
            const currentIndicator = document.getElementById(`step${displayCurrentStep}-indicator`);
            if (currentIndicator) {
                currentIndicator.classList.add('active');
            }
        }

        // 이전 단계
        function prevStep(step) {
            // 새로운 3단계 구조 (회원유형 선택 제거됨)
            const stepMapping = { 1: 1, 3: 2, 4: 3 }; // 실제 step → 표시 step
            
            // 현재 단계 숨기기
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // 현재 단계 비활성화
            if (currentStep > 0) {
                const displayCurrentStep = stepMapping[currentStep] || currentStep;
                const currentIndicator = document.getElementById(`step${displayCurrentStep}-indicator`);
                if (currentIndicator) {
                    currentIndicator.classList.remove('active', 'completed');
                }
            }
            
            currentStep = step;
            
            // 이전 단계 표시
            document.getElementById(`step${step}`).classList.add('active');
            
            // 이전 단계 활성화 표시
            const displayStep = stepMapping[step] || step;
            const prevIndicator = document.getElementById(`step${displayStep}-indicator`);
            if (prevIndicator) {
                prevIndicator.classList.add('active');
            }
        }

        // Step 1 검증
        function checkStep1() {
            const requiredAgreements = document.querySelectorAll('.required-agreement');
            return Array.from(requiredAgreements).every(cb => cb.checked);
        }

        // Step 2 검증
        function checkStep2() {
            return memberType !== '';
        }

        // Step 3 검증
        function checkStep3() {
            return isVerified;
        }

        // 전화번호 포맷팅
        function formatPhoneNumber(input) {
            let value = input.value.replace(/[^\d]/g, '');
            if (value.length <= 3) {
                input.value = value;
            } else if (value.length <= 7) {
                input.value = value.slice(0, 3) + '-' + value.slice(3);
            } else if (value.length <= 11) {
                input.value = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7);
            } else {
                input.value = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7, 11);
            }
        }

        // 사업자번호 포맷팅
        function formatBusinessNumber(input) {
            let value = input.value.replace(/[^\d]/g, '');
            if (value.length <= 3) {
                input.value = value;
            } else if (value.length <= 5) {
                input.value = value.slice(0, 3) + '-' + value.slice(3);
            } else if (value.length <= 10) {
                input.value = value.slice(0, 3) + '-' + value.slice(3, 5) + '-' + value.slice(5);
            } else {
                input.value = value.slice(0, 3) + '-' + value.slice(3, 5) + '-' + value.slice(5, 10);
            }
        }

        // 인증번호 발송
        function sendVerificationCode() {
            const name = document.getElementById('verifyName').value.trim();
            const birthDate = document.getElementById('verifyBirthDate').value.trim();
            const phoneNumber = document.getElementById('phoneNumber').value.replace(/[^\d]/g, '');
            
            // 이름 검증
            if (!name || name.length < 2) {
                document.getElementById('verifyNameError').textContent = '이름을 입력해주세요.';
                document.getElementById('verifyNameError').style.display = 'block';
                return;
            } else {
                document.getElementById('verifyNameError').style.display = 'none';
            }
            
            // 생년월일 검증
            if (!birthDate || birthDate.length !== 8) {
                document.getElementById('verifyBirthDateError').textContent = '생년월일 8자리를 입력해주세요.';
                document.getElementById('verifyBirthDateError').style.display = 'block';
                return;
            } else {
                // 유효한 날짜인지 검증
                const year = parseInt(birthDate.substring(0, 4));
                const month = parseInt(birthDate.substring(4, 6));
                const day = parseInt(birthDate.substring(6, 8));
                const currentYear = new Date().getFullYear();
                
                if (year < 1900 || year > currentYear || month < 1 || month > 12 || day < 1 || day > 31) {
                    document.getElementById('verifyBirthDateError').textContent = '유효한 생년월일을 입력해주세요.';
                    document.getElementById('verifyBirthDateError').style.display = 'block';
                    return;
                }
                document.getElementById('verifyBirthDateError').style.display = 'none';
            }
            
            // 휴대폰 번호 검증
            if (phoneNumber.length !== 11 || !phoneNumber.startsWith('01')) {
                document.getElementById('phoneNumberError').textContent = '올바른 휴대폰 번호를 입력해주세요.';
                document.getElementById('phoneNumberError').style.display = 'block';
                return;
            } else {
                document.getElementById('phoneNumberError').style.display = 'none';
            }
            
            // 실제로는 서버에 인증번호 발송 요청 (이름, 생년월일, 휴대폰번호)
            // POST /api/auth/send-verification { name, birthDate, phoneNumber }
            // 여기서는 시뮬레이션
            sentCode = String(Math.floor(100000 + Math.random() * 900000));
            verificationCodeSent = true;
            alert('인증번호가 발송되었습니다. (테스트용 인증번호: ' + sentCode + ')');
        }

        // 인증번호 확인
        function verifyCode() {
            const code = document.getElementById('verificationCode').value;
            const statusDiv = document.getElementById('verificationStatus');
            const name = document.getElementById('verifyName').value.trim();
            const phoneNumber = document.getElementById('phoneNumber').value;
            
            if (!verificationCodeSent) {
                statusDiv.className = 'verification-status error';
                statusDiv.textContent = '인증번호를 먼저 발송해주세요.';
                return;
            }
            
            if (code === sentCode) {
                isVerified = true;
                verifiedPhoneNumber = phoneNumber;
                statusDiv.className = 'verification-status success';
                statusDiv.textContent = '인증이 완료되었습니다.';
                document.getElementById('step3-next').disabled = false;
                
                // 인증 완료 메시지 표시
                document.getElementById('verificationComplete').classList.add('show');
                document.getElementById('verifiedName').textContent = name;
                document.getElementById('verifiedPhone').textContent = phoneNumber;
                document.getElementById('verificationForm').style.display = 'none';
            } else {
                statusDiv.className = 'verification-status error';
                statusDiv.textContent = '인증번호가 일치하지 않습니다.';
                isVerified = false;
                document.getElementById('step3-next').disabled = true;
            }
        }

        // 아이디 중복확인 (개인)
        function checkIndividualUserId() {
            const userId = document.getElementById('individualUserId').value;
            const errorDiv = document.getElementById('individualUserIdError');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (!userId) {
                errorDiv.textContent = '이메일을 입력해주세요.';
                errorDiv.classList.add('show');
                return;
            }
            
            if (!emailRegex.test(userId)) {
                errorDiv.textContent = '올바른 이메일 형식으로 입력해주세요.';
                errorDiv.classList.add('show');
                return;
            }
            
            // 실제로는 서버에 중복확인 요청
            alert('사용 가능한 이메일입니다.');
            errorDiv.classList.remove('show');
        }

        // 아이디 중복확인 (기업)
        function checkBusinessUserId() {
            const userId = document.getElementById('businessUserId').value;
            const errorDiv = document.getElementById('businessUserIdError');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (!userId) {
                errorDiv.textContent = '이메일을 입력해주세요.';
                errorDiv.classList.add('show');
                return;
            }
            
            if (!emailRegex.test(userId)) {
                errorDiv.textContent = '올바른 이메일 형식으로 입력해주세요.';
                errorDiv.classList.add('show');
                return;
            }
            
            // 실제로는 서버에 중복확인 요청
            alert('사용 가능한 이메일입니다.');
            errorDiv.classList.remove('show');
        }

        // 비밀번호 확인 검증
        function validatePasswordConfirm(type) {
            let passwordId, confirmId, errorId;
            if (type === 'individual') {
                passwordId = 'individualPassword';
                confirmId = 'individualPasswordConfirm';
                errorId = 'individualPasswordConfirmError';
            } else if (type === 'business') {
                passwordId = 'businessPassword';
                confirmId = 'businessPasswordConfirm';
                errorId = 'businessPasswordConfirmError';
            } else if (type === 'election') {
                passwordId = 'electionPassword';
                confirmId = 'electionPasswordConfirm';
                errorId = 'electionPasswordConfirmError';
            }
            
            const password = document.getElementById(passwordId).value;
            const passwordConfirm = document.getElementById(confirmId).value;
            const errorDiv = document.getElementById(errorId);
            
            if (!passwordConfirm) {
                errorDiv.textContent = '';
                errorDiv.classList.remove('show');
                return;
            }
            
            if (password !== passwordConfirm) {
                errorDiv.textContent = '비밀번호가 일치하지 않습니다.';
                errorDiv.classList.add('show');
            } else {
                errorDiv.textContent = '';
                errorDiv.classList.remove('show');
            }
        }

        // 아이디 중복확인 (선거)
        function checkElectionUserId() {
            const userId = document.getElementById('electionUserId').value;
            const errorDiv = document.getElementById('electionUserIdError');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (!userId) {
                errorDiv.textContent = '이메일을 입력해주세요.';
                errorDiv.classList.add('show');
                return;
            }
            
            if (!emailRegex.test(userId)) {
                errorDiv.textContent = '올바른 이메일 형식으로 입력해주세요.';
                errorDiv.classList.add('show');
                return;
            }
            
            // 실제로는 서버에 중복확인 요청
            alert('사용 가능한 이메일입니다.');
            errorDiv.classList.remove('show');
        }

        // 선거회원 파일 선택 처리
        function handleElectionFileSelect(event, fieldId) {
            const file = event.target.files[0];
            if (file) {
                displayElectionFilePreview(file, fieldId);
            }
        }

        // 선거회원 파일 드래그 앤 드롭
        function handleElectionFileDrop(event, fieldId) {
            event.preventDefault();
            event.currentTarget.classList.remove('dragover');
            const file = event.dataTransfer.files[0];
            if (file) {
                document.getElementById(fieldId + 'Input').files = event.dataTransfer.files;
                displayElectionFilePreview(file, fieldId);
            }
        }

        // 선거회원 파일 미리보기
        function displayElectionFilePreview(file, fieldId) {
            const previewDiv = document.getElementById(fieldId + 'Preview');
            previewDiv.innerHTML = `
                <div class="file-preview-item">
                    <span class="file-preview-name">${file.name}</span>
                    <span class="file-preview-remove" onclick="removeElectionFile('${fieldId}')">×</span>
                </div>
            `;
            previewDiv.classList.add('show');
        }

        // 선거회원 파일 제거
        function removeElectionFile(fieldId) {
            document.getElementById(fieldId + 'Input').value = '';
            document.getElementById(fieldId + 'Preview').classList.remove('show');
            document.getElementById(fieldId + 'Preview').innerHTML = '';
        }

        // 기업유형 변경 처리
        function handleBusinessTypeChange() {
            // 기업유형 변경 시 필요한 처리
        }

        // 담당자 유형 변경 처리
        function handleManagerTypeChange() {
            const managerType = document.getElementById('managerType').value;
            const employmentCertificateGroup = document.getElementById('employmentCertificateGroup');
            
            if (managerType === 'employee') {
                // 직원인 경우 재직증명서 업로드 영역 표시
                employmentCertificateGroup.style.display = 'block';
            } else {
                // 대표자인 경우 재직증명서 업로드 영역 숨김 및 파일 제거
                employmentCertificateGroup.style.display = 'none';
                document.getElementById('employmentCertificateFileInput').value = '';
                document.getElementById('employmentCertificateFilePreview').classList.remove('show');
                document.getElementById('employmentCertificateFilePreview').innerHTML = '';
            }
        }

        // 사업자등록증 파일 선택 처리
        function handleBusinessRegistrationFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                displayBusinessRegistrationFilePreview(file);
            }
        }

        // 사업자등록증 파일 드래그 앤 드롭
        function handleBusinessRegistrationFileDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('dragover');
            const file = event.dataTransfer.files[0];
            if (file) {
                document.getElementById('businessRegistrationFileInput').files = event.dataTransfer.files;
                displayBusinessRegistrationFilePreview(file);
            }
        }

        // 사업자등록증 파일 미리보기
        function displayBusinessRegistrationFilePreview(file) {
            const previewDiv = document.getElementById('businessRegistrationFilePreview');
            previewDiv.innerHTML = `
                <div class="file-preview-item">
                    <span class="file-preview-name">${file.name}</span>
                    <span class="file-preview-remove" onclick="removeBusinessRegistrationFile()">×</span>
                </div>
            `;
            previewDiv.classList.add('show');
        }

        // 사업자등록증 파일 제거
        function removeBusinessRegistrationFile() {
            document.getElementById('businessRegistrationFileInput').value = '';
            document.getElementById('businessRegistrationFilePreview').classList.remove('show');
            document.getElementById('businessRegistrationFilePreview').innerHTML = '';
        }

        // 재직증명서 파일 선택 처리
        function handleEmploymentCertificateFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                displayEmploymentCertificateFilePreview(file);
            }
        }

        // 재직증명서 파일 드래그 앤 드롭
        function handleEmploymentCertificateFileDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('dragover');
            const file = event.dataTransfer.files[0];
            if (file) {
                document.getElementById('employmentCertificateFileInput').files = event.dataTransfer.files;
                displayEmploymentCertificateFilePreview(file);
            }
        }

        // 재직증명서 파일 미리보기
        function displayEmploymentCertificateFilePreview(file) {
            const previewDiv = document.getElementById('employmentCertificateFilePreview');
            previewDiv.innerHTML = `
                <div class="file-preview-item">
                    <span class="file-preview-name">${file.name}</span>
                    <span class="file-preview-remove" onclick="removeEmploymentCertificateFile()">×</span>
                </div>
            `;
            previewDiv.classList.add('show');
        }

        // 재직증명서 파일 제거
        function removeEmploymentCertificateFile() {
            document.getElementById('employmentCertificateFileInput').value = '';
            document.getElementById('employmentCertificateFilePreview').classList.remove('show');
            document.getElementById('employmentCertificateFilePreview').innerHTML = '';
        }

        // 파일 드래그 앤 드롭 공통 함수
        function handleDragOver(event) {
            event.preventDefault();
            event.currentTarget.classList.add('dragover');
        }

        function handleDragLeave(event) {
            event.currentTarget.classList.remove('dragover');
        }

        // 주소 검색
        function searchAddress() {
            // 실제로는 주소 검색 API 연동 (다음 주소 API 등)
            alert('주소 검색 기능은 준비 중입니다.');
        }

        // 회원가입 제출
        function submitSignup(type) {
            if (type === 'individual') {
                // 개인 회원가입 검증
                const userId = document.getElementById('individualUserId').value;
                const password = document.getElementById('individualPassword').value;
                const passwordConfirm = document.getElementById('individualPasswordConfirm').value;
                const contact = document.getElementById('individualContact').value;
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                
                if (!userId || !password || !passwordConfirm) {
                    alert('모든 필수 항목을 입력해주세요.');
                    return;
                }
                
                if (!emailRegex.test(userId)) {
                    alert('올바른 이메일 형식으로 아이디를 입력해주세요.');
                    return;
                }
                
                if (password !== passwordConfirm) {
                    alert('비밀번호가 일치하지 않습니다.');
                    return;
                }
                
                // 알림성 메시지 수신채널: 둘 중 하나 필수 선택
                const individualSMS = document.getElementById('individualMarketingSMS').checked;
                const individualEmail = document.getElementById('individualMarketingEmail').checked;
                const individualNotifyErr = document.getElementById('individualNotifyChannelError');
                if (!individualSMS && !individualEmail) {
                    if (individualNotifyErr) individualNotifyErr.textContent = 'SMS 또는 E-mail 중 하나 이상을 선택해주세요.';
                    return;
                }
                if (individualNotifyErr) individualNotifyErr.textContent = '';
                
                // 실제로는 서버에 회원가입 요청
                window.location.href = 'signup-complete.html';
            } else if (type === 'business') {
                // 기업 회원가입 검증
                const userId = document.getElementById('businessUserId').value;
                const password = document.getElementById('businessPassword').value;
                const passwordConfirm = document.getElementById('businessPasswordConfirm').value;
                const businessType = document.getElementById('businessType').value;
                const managerType = document.getElementById('managerType').value;
                const businessName = document.getElementById('businessName').value;
                const businessNumber = document.getElementById('businessNumber').value;
                const representativeName = document.getElementById('representativeName').value;
                const businessAddress = document.getElementById('businessAddress').value;
                const businessContact = document.getElementById('businessContact').value;
                
                if (!userId || !password || !passwordConfirm || !businessType || !managerType || 
                    !businessName || !businessNumber || !representativeName || 
                    !businessAddress || !businessContact) {
                    alert('모든 필수 항목을 입력해주세요.');
                    return;
                }
                
                if (password !== passwordConfirm) {
                    alert('비밀번호가 일치하지 않습니다.');
                    return;
                }
                
                // 사업자등록증 파일 검증 (필수)
                const businessRegistrationFileInput = document.getElementById('businessRegistrationFileInput');
                if (!businessRegistrationFileInput.files || businessRegistrationFileInput.files.length === 0) {
                    alert('사업자등록증 파일을 업로드해주세요.');
                    return;
                }
                
                // 직원인 경우 재직증명서 파일 검증 (필수)
                if (managerType === 'employee') {
                    const employmentCertificateFileInput = document.getElementById('employmentCertificateFileInput');
                    if (!employmentCertificateFileInput.files || employmentCertificateFileInput.files.length === 0) {
                        alert('재직증명서 파일을 업로드해주세요.');
                        return;
                    }
                }
                
                // 알림성 메시지 수신채널: 둘 중 하나 필수 선택
                const businessSMS = document.getElementById('businessMarketingSMS').checked;
                const businessEmail = document.getElementById('businessMarketingEmail').checked;
                const businessNotifyErr = document.getElementById('businessNotifyChannelError');
                if (!businessSMS && !businessEmail) {
                    if (businessNotifyErr) businessNotifyErr.textContent = 'SMS 또는 E-mail 중 하나 이상을 선택해주세요.';
                    return;
                }
                if (businessNotifyErr) businessNotifyErr.textContent = '';
                
                // 실제로는 서버에 회원가입 요청
                window.location.href = 'signup-complete.html';
            } else if (type === 'election') {
                // 선거 회원가입 검증
                const userId = document.getElementById('electionUserId').value;
                const password = document.getElementById('electionPassword').value;
                const passwordConfirm = document.getElementById('electionPasswordConfirm').value;
                const candidateName = document.getElementById('electionCandidateName').value;
                const organization = document.getElementById('electionOrganization').value;
                const region = document.getElementById('electionRegion').value;
                const contact = document.getElementById('electionContact').value;
                const messageContent = document.getElementById('electionMessageContent').value;
                const agreeTerms = document.getElementById('electionAgreeTerms').checked;
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                
                if (!userId || !password || !passwordConfirm || !candidateName || !organization || 
                    !region || !contact || !messageContent) {
                    alert('모든 필수 항목을 입력해주세요.');
                    return;
                }
                
                if (!emailRegex.test(userId)) {
                    alert('올바른 이메일 형식으로 아이디를 입력해주세요.');
                    return;
                }
                
                if (password !== passwordConfirm) {
                    alert('비밀번호가 일치하지 않습니다.');
                    return;
                }
                
                // 필수 서류 검증
                const idCardInput = document.getElementById('electionIdCardInput');
                const certificateInput = document.getElementById('electionCertificateInput');
                const callerProofInput = document.getElementById('electionCallerProofInput');
                
                if (!idCardInput.files || idCardInput.files.length === 0) {
                    alert('후보자 신분증 사본을 업로드해주세요.');
                    return;
                }
                
                if (!certificateInput.files || certificateInput.files.length === 0) {
                    alert('(예비)후보자 등록 증명서 사본을 업로드해주세요.');
                    return;
                }
                
                if (!callerProofInput.files || callerProofInput.files.length === 0) {
                    alert('발신번호 등록 증명 서류를 업로드해주세요.');
                    return;
                }
                
                if (!agreeTerms) {
                    alert('선거문자 이용약관에 동의해주세요.');
                    return;
                }
                
                // 실제로는 서버에 회원가입 요청
                window.location.href = 'signup-complete.html?type=election';
            }
        }

        // 로그인 페이지로 이동
        function goToLogin() {
            if (confirm('회원가입을 취소하시겠습니까?')) {
                window.location.href = 'index.html';
            }
        }

        // 초기화
        document.addEventListener('DOMContentLoaded', function() {
            // 드롭다운 메뉴 초기화
            if (typeof initDropdownMenus === 'function') {
                initDropdownMenus();
            }
        });
    </script>
    <!-- 푸터 및 정책 모달 -->
    <script src="js/footer.js"></script>
    <!-- 화면설계 오버레이 -->
    <script src="js/spec-overlay.js"></script>
    <script>
        const specData = [
            // ===== 회원가입 기본 구조 (3단계 프로세스) =====
            // 1. 회원가입 컨테이너
            {
                selector: '#signupContainer',
                title: '1. 회원가입 컨테이너',
                position: { top: '10px', left: '10px' },
                function: '회원가입 전체 폼 영역',
                behavior: [
                    '【3단계 회원가입 프로세스】',
                    '• Step 1: 약관 동의',
                    '• Step 2: 본인인증 (휴대폰)',
                    '• Step 3: 정보입력 (개인회원)',
                    '【회원 유형 안내】',
                    '• 모든 회원은 개인회원으로 가입',
                    '• 사업자/선거회원 전환은 마이페이지에서 가능'
                ]
            },
            // 2. 진행 단계 표시
            {
                selector: '#stepIndicator',
                title: '2. 진행 단계 표시',
                position: { top: '-5px', left: '-10px' },
                function: '현재 진행 단계 시각화 (3단계)',
                behavior: [
                    '【단계별 상태 표시】',
                    '• 미완료 단계: 회색 원',
                    '• 현재 단계: 파란색 원 + 활성화',
                    '• 완료 단계: 체크 아이콘'
                ]
            },
            // ===== Step 1: 약관 동의 =====
            // 3. Step 1 컨테이너
            {
                selector: '#step1',
                title: '3. Step 1: 약관 동의',
                position: { top: '10px', right: '10px' },
                function: '이용약관 동의 단계',
                behavior: [
                    '【필수 약관 4개】',
                    '• 이용약관 동의',
                    '• 개인정보 수집 및 이용 동의',
                    '• 개인정보 취급 위탁 동의',
                    '• 불법스팸방지 안내 동의',
                    '【선택 약관 1개】',
                    '• 마케팅 수신 동의',
                    '【동작】',
                    '• 전체 동의 체크 시 모든 항목 선택',
                    '• 필수 항목 미체크 시 다음 단계 불가'
                ],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 4. 전체 동의 체크박스
            {
                selector: '#agreeAll',
                title: '4. 전체 동의 체크박스',
                position: { top: '-5px', left: '-10px' },
                function: '모든 약관 일괄 동의',
                behavior: [
                    '체크 시: 모든 약관 항목 자동 선택',
                    '해제 시: 모든 약관 항목 자동 해제',
                    '개별 항목 해제 시: 전체 동의도 해제'
                ]
            },
            // 5. 이용약관 동의 체크박스
            {
                selector: '#agreeRequired1',
                title: '5. 이용약관 동의',
                position: { top: '-5px', left: '-10px' },
                function: '서비스 이용약관 동의',
                behavior: ['[보기] 버튼 클릭 시 약관 전문 표시'],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 6. 개인정보 수집 동의
            {
                selector: '#agreeRequired2',
                title: '6. 개인정보 수집 동의',
                position: { top: '-5px', left: '-10px' },
                function: '개인정보 수집 및 이용 동의',
                behavior: ['[보기] 버튼 클릭 시 약관 전문 표시'],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 7. 개인정보 취급 위탁 동의
            {
                selector: '#agreeRequired3',
                title: '7. 개인정보 취급 위탁 동의',
                position: { top: '-5px', left: '-10px' },
                function: '개인정보 제3자 위탁 동의',
                behavior: ['[보기] 버튼 클릭 시 약관 전문 표시'],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 8. 불법스팸방지 동의
            {
                selector: '#agreeRequired4',
                title: '8. 불법스팸방지 동의',
                position: { top: '-5px', left: '-10px' },
                function: '불법스팸 발송 방지 안내 동의',
                behavior: ['[보기] 버튼 클릭 시 약관 전문 표시'],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 9. 마케팅 수신 동의
            {
                selector: '#agreeMarketing',
                title: '9. 마케팅 수신 동의',
                position: { top: '-5px', left: '-10px' },
                function: '프로모션 및 이벤트 정보 수신',
                behavior: ['미동의 시에도 가입 가능'],
                tags: [{ text: '선택', type: 'optional' }]
            },
            // 10. Step 1 다음 버튼
            {
                selector: '#step1-next',
                title: '10. 동의 버튼',
                position: { top: '-5px', right: '-10px' },
                function: '본인인증 단계(Step 2)로 이동',
                behavior: [
                    '【활성화 조건】',
                    '• 필수 약관 4개 모두 동의 시',
                    '【클릭 시】',
                    '• nextStep(3) 호출 → Step 2로 이동'
                ]
            },
            // ===== Step 2: 본인인증 =====
            // 11. Step 2 컨테이너
            {
                selector: '#step3',
                title: '11. Step 2: 본인인증',
                position: { top: '10px', right: '10px' },
                function: '휴대폰 본인인증',
                behavior: [
                    '【인증 절차】',
                    '• 이름, 생년월일, 휴대폰번호 입력',
                    '• 인증번호 발송 버튼 클릭',
                    '• SMS로 6자리 인증번호 수신',
                    '• 인증번호 입력 후 확인',
                    '【인증 방식】',
                    '• 본인 명의 휴대폰 필수',
                    '• 인증번호 유효시간: 3분'
                ],
                api: 'POST /api/auth/verify-phone',
                tags: [{ text: '필수', type: 'required' }, { text: 'API', type: 'api' }]
            },
            // 12. 이름 입력
            {
                selector: '#verifyName',
                title: '12. 이름 입력',
                position: { top: '-5px', left: '-10px' },
                function: '본인 실명 입력',
                behavior: [
                    '【입력 조건】',
                    '• 2자 이상 입력 필수',
                    '• 한글/영문 입력 가능',
                    '【검증】',
                    '• 통신사 정보와 대조'
                ],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 13. 생년월일 입력
            {
                selector: '#verifyBirthDate',
                title: '13. 생년월일 입력',
                position: { top: '-5px', left: '-10px' },
                function: '본인 생년월일 입력',
                behavior: [
                    '【입력 형식】',
                    '• YYYYMMDD 8자리 숫자',
                    '• 예: 19900101',
                    '• 숫자만 입력 가능 (자동 필터링)',
                    '【유효성 검증】',
                    '• 년도: 1900 ~ 현재년도',
                    '• 월: 1 ~ 12',
                    '• 일: 1 ~ 31'
                ],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 14. 휴대폰 번호 입력
            {
                selector: '#phoneNumber',
                title: '14. 휴대폰번호 입력',
                position: { top: '-5px', left: '-10px' },
                function: '인증받을 휴대폰 번호 입력',
                behavior: [
                    '【입력 형식】',
                    '• 자동 하이픈 포맷팅',
                    '• 010-XXXX-XXXX 형식',
                    '【제한 사항】',
                    '• 본인 명의 휴대폰만 가능'
                ],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 15. 인증번호 발송 버튼
            {
                selector: '#verificationForm .btn-primary',
                title: '15. 인증번호 발송 버튼',
                position: { top: '-5px', right: '-10px' },
                function: '휴대폰으로 인증번호 SMS 발송',
                behavior: [
                    '【유효성 검증 - Alert 메시지】',
                    '• 이름 미입력: "이름을 입력해주세요"',
                    '• 생년월일 미입력/오류: "생년월일 8자리를 입력해주세요"',
                    '• 생년월일 유효하지 않음: "유효한 생년월일을 입력해주세요"',
                    '• 휴대폰번호 형식오류: "올바른 휴대폰 번호를 입력해주세요"',
                    '【발송 성공】',
                    '• "인증번호가 발송되었습니다" Alert',
                    '• 인증번호 입력 필드 활성화'
                ],
                api: 'POST /api/auth/send-verification',
                tags: [{ text: 'API', type: 'api' }]
            },
            // 16. 인증번호 입력
            {
                selector: '#verificationCode',
                title: '16. 인증번호 입력',
                position: { top: '-5px', left: '-10px' },
                function: 'SMS로 받은 인증번호 입력',
                behavior: [
                    '【입력 형식】',
                    '• 6자리 숫자',
                    '【유효시간】',
                    '• 3분 (타이머 표시)'
                ],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 17. 인증 확인 버튼
            {
                selector: '#verificationForm .btn-outline',
                title: '17. 인증 확인 버튼',
                position: { top: '-5px', right: '-10px' },
                function: '입력한 인증번호 검증',
                behavior: [
                    '【인증 결과 - 성공】',
                    '• "인증이 완료되었습니다" 표시',
                    '• 다음 버튼 활성화',
                    '【인증 결과 - 실패】',
                    '• "인증번호가 일치하지 않습니다" 표시',
                    '【인증번호 미발송】',
                    '• "인증번호를 먼저 발송해주세요" 표시'
                ],
                api: 'POST /api/auth/verify-code',
                tags: [{ text: 'API', type: 'api' }]
            },
            // 18. Step 2 다음 버튼
            {
                selector: '#step3-next',
                title: '18. 본인인증 다음 버튼',
                position: { top: '-5px', right: '-10px' },
                function: 'Step 3 (정보입력)으로 이동',
                behavior: [
                    '【활성화 조건】',
                    '• 인증 완료 시 활성화',
                    '• 인증 미완료 시 비활성화',
                    '【클릭 시】',
                    '• nextStep(4) 호출 → Step 3으로 이동'
                ]
            },
            // ===== Step 3: 정보입력 (개인회원) =====
            // 19. Step 3 컨테이너
            {
                selector: '#step4-individual',
                title: '19. Step 3: 정보입력',
                position: { top: '10px', right: '10px' },
                function: '회원 정보 입력 폼 (모든 회원은 개인회원으로 가입)',
                behavior: [
                    '【입력 항목】',
                    '• 아이디 (중복확인 필수)',
                    '• 비밀번호 (강도 표시)',
                    '• 비밀번호 확인',
                    '• 이메일',
                    '【안내 사항】',
                    '• 모든 회원은 개인회원으로 가입',
                    '• 사업자/선거회원 전환은 마이페이지에서 가능'
                ]
            },
            // 20. 아이디 입력
            {
                selector: '#individualUserId',
                title: '20. 아이디 입력',
                position: { top: '-5px', left: '-10px' },
                function: '개인회원 아이디 입력',
                behavior: [
                    '【입력 조건】',
                    '• 8~12자 영문, 숫자 조합',
                    '【중복확인】',
                    '• 중복확인 버튼 클릭 필수',
                    '• 사용 가능 시: "사용 가능한 아이디입니다"',
                    '• 중복 시: "이미 사용 중인 아이디입니다"'
                ],
                api: 'GET /api/users/check-id',
                tags: [{ text: '필수', type: 'required' }]
            },
            // 21. 비밀번호 입력
            {
                selector: '#individualPassword',
                title: '21. 비밀번호 입력',
                position: { top: '-5px', left: '-10px' },
                function: '비밀번호 입력',
                behavior: [
                    '【입력 조건】',
                    '• 8~16자',
                    '• 영문, 숫자, 특수문자 혼합',
                    '【강도 표시】',
                    '• 약함/보통/강함 표시'
                ],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 22. 비밀번호 확인
            {
                selector: '#individualPasswordConfirm',
                title: '22. 비밀번호 확인',
                position: { top: '-5px', left: '-10px' },
                function: '비밀번호 재입력 확인',
                behavior: [
                    '【일치 검증】',
                    '• 일치 시: "비밀번호가 일치합니다" 표시',
                    '• 불일치 시: "비밀번호가 일치하지 않습니다" 표시'
                ],
                tags: [{ text: '필수', type: 'required' }]
            },
            // 23. 이메일 입력
            {
                selector: '#individualEmail',
                title: '23. 이메일 입력',
                position: { top: '-5px', left: '-10px' },
                function: '이메일 주소 입력',
                behavior: [
                    '【용도】',
                    '• 비밀번호 찾기',
                    '• 중요 알림 수신',
                    '【형식 검증】',
                    '• 이메일 형식 자동 검증'
                ],
                tags: [{ text: '필수', type: 'required' }]
            },
            // ===== 가입완료 버튼 =====
            // 24. 가입완료 버튼
            {
                selector: '.btn-primary.btn-lg',
                title: '24. 가입완료 버튼',
                position: { top: '-5px', right: '-10px' },
                function: '회원가입 최종 제출',
                behavior: [
                    '【유효성 검증】',
                    '• 아이디 중복확인 완료 여부',
                    '• 비밀번호 조건 충족 여부',
                    '• 비밀번호 일치 여부',
                    '• 이메일 형식 검증',
                    '【Alert 메시지 - 유효성 실패】',
                    '• 아이디 미입력: "아이디를 입력해주세요"',
                    '• 아이디 중복확인 미완료: "아이디 중복확인을 해주세요"',
                    '• 비밀번호 미입력: "비밀번호를 입력해주세요"',
                    '• 비밀번호 불일치: "비밀번호가 일치하지 않습니다"',
                    '• 이메일 미입력: "이메일을 입력해주세요"',
                    '【가입 성공】',
                    '• "회원가입이 완료되었습니다" Alert',
                    '• 로그인 페이지로 이동'
                ],
                api: 'POST /api/users/signup',
                tags: [{ text: 'API', type: 'api' }]
            },
            // ===== 안내 사항 =====
            // 25. 회원 전환 안내
            {
                selector: '#step4-individual .alert-info',
                title: '25. 회원 전환 안내',
                position: { top: '-5px', left: '-10px' },
                function: '사업자/선거회원 전환 안내',
                behavior: [
                    '【안내 문구】',
                    '• "사업자 회원 또는 선거회원으로 전환을 원하시면"',
                    '• "회원가입 후 마이페이지에서 전환 신청이 가능합니다."'
                ]
            }
        ];
        initSpecOverlay(specData);
    </script>
</body>
</html>
