# 마이페이지 화면설계 및 기능설명

## 개요
- **대상 화면**: 마이페이지(mypage.html) 및 하위 패널(내정보수정, 비밀번호변경, 발신번호관리, 이용내역)
- **요소 번호**: 모든 UI 컴포넌트에 번호 부여. **다른 페이지(payment-tax, mypage-password, send-reservation 등)와 동일하게** `js/spec-overlay.js`를 사용하며, "📋 화면설계 보기" 버튼 클릭 시 번호 마커가 표시되고, **번호(마커)에 마우스 호버 시** 해당 요소의 기능설명이 툴팁으로 표시됨.

---

## 1. 공통 영역 (페이지 상단)

| 번호 | 요소 | 기능 설명 |
|------|------|-----------|
| **1** | 페이지 제목 "마이페이지" | 마이페이지 메인 타이틀. 회원정보·설정·이용내역 관리 진입점. |
| **2** | 페이지 설명 문구 | "회원정보를 확인하고 내 정보, 비밀번호, 발신번호, 이용내역을 관리합니다" 안내. |
| **3** | 회원정보 요약 - 회원유형 | 로그인 회원의 유형 표시(개인회원/기업회원). 대시보드와 동일한 요약 영역. |
| **4** | 회원정보 요약 - 회원등급 | 회원등급 표시(일반 등). |
| **5** | 회원정보 요약 - 잔액 | 포인트·마일리지 등 잔액 정보. 전용계좌 안내 포함. |
| **6** | 회원정보 요약 - 발송가능건수 | 일반/광고/선거 등 발송 가능 건수 뱃지 표시. |
| **7** | LNB - 내정보수정 | 클릭 시 내정보수정 패널로 전환. 기본 정보·주소·회원유형 전환·세금계산서 신청 등. |
| **8** | LNB - 비밀번호변경 | 클릭 시 비밀번호 변경 패널로 전환. 현재 비밀번호 확인 후 새 비밀번호 설정. |
| **9** | LNB - 발신번호관리 | 클릭 시 발신번호 목록·등록·상태 필터 패널로 전환. |
| **10** | LNB - 이용내역 | 클릭 시 포인트/마일리지 이용내역 패널로 전환. 기간 조회·탭별 내역 제공. |

---

## 2. 내정보수정 패널 (panel-profile)

| 번호 | 요소 | 기능 설명 |
|------|------|-----------|
| **11** | 기본 정보 섹션 제목 | "기본 정보" 구역 구분. |
| **12** | 아이디 입력 필드 | 로그인 아이디 조회 전용. 수정 불가(disabled), 회색 배경. |
| **13** | 이름 입력 필드 | 회원 이름 수정. 한글/영문 2~20자, 필수. |
| **14** | 생년월일 입력 필드 | 날짜 선택(YYYY-MM-DD). 선택 항목. |
| **15** | 휴대폰번호 입력 필드 | 010-XXXX-XXXX 형식. 필수. 하이픈 자동 입력. |
| **16** | 휴대폰 인증 버튼 | 클릭 시 휴대폰 인증 모달 오픈. SMS 인증번호 발송·입력 후 인증 완료 처리. |
| **17** | 이메일 주소 입력 필드 | 이메일 형식 검증, 필수. |
| **18** | 이메일 중복 확인 버튼 | 입력 이메일이 기존 회원과 중복인지 확인. 사용 가능/이미 사용 중 메시지. |
| **19** | 우편번호 + 주소 검색 버튼 | 주소 검색 클릭 시 Daum 우편번호 API 팝업. 선택 시 우편번호·주소 자동 입력. |
| **20** | 주소 입력 필드 | 우편번호 검색 후 자동 입력. 기본 주소(수정 불가). |
| **21** | 상세주소 입력 필드 | 직접 입력. 선택 항목. |
| **22** | 회원가입일 필드 | 가입일 조회 전용. 수정 불가. |
| **23** | 저장하기 버튼 | 수정 정보 검증 후 저장. 필수값·형식·인증 완료 여부 등 검증. 성공 시 안내 메시지. |
| **24** | 취소 버튼 | 입력 내용 초기화, 원래 값으로 복원. |
| **25** | 기업 정보 카드 | 기업회원일 때만 표시. 회사명·사업자등록번호·대표자명·사업장 주소 등 조회. |
| **26** | 세금계산서 자동발행 신청 버튼 | 기업회원 전용. 클릭 시 세금계산서 자동발행 신청 모달 오픈. 담당자 정보 입력 후 신청. |
| **27** | 회원유형 전환 - 현재 유형 표시 | "현재 회원유형: 개인회원" 등 표시. |
| **28** | 개인사업자 회원 전환 신청 | 개인→개인사업자 전환. 클릭 시 mypage-convert-business.html 이동. |
| **29** | 법인사업자 회원 전환 신청 | 개인/개인사업자→법인사업자 전환. 클릭 시 mypage-convert-corporate.html 이동. |
| **30** | 메시지 발송 대행업체 안내 알림 | 대행업체 회원 시 계정 분리 안내. 고객센터 문의 유도. |
| **31** | 회원 해지 링크 | 회원 탈퇴(해지) 절차 진입. 클릭 시 탈퇴 확인 모달 또는 탈퇴 페이지 이동. |

---

## 3. 비밀번호변경 패널 (panel-password)

| 번호 | 요소 | 기능 설명 |
|------|------|-----------|
| **32** | 현재 비밀번호 입력 필드 | 변경 전 본인 확인용. 필수. 타입 password, 표시/숨김 토글 가능. |
| **33** | 새 비밀번호 입력 필드 | 8~16자, 영문·숫자·특수문자 중 3종 이상 등 규칙 적용. 필수. |
| **34** | 새 비밀번호 확인 입력 필드 | 새 비밀번호와 일치 여부 실시간 체크. 필수. |
| **35** | 변경하기 버튼 | 검증 후 비밀번호 변경 API 호출. 성공 시 완료 메시지 및 로그인 페이지 이동 등. |
| **36** | 취소 버튼 | 입력 초기화 또는 이전 패널/페이지로 이동. |

---

## 4. 발신번호관리 패널 (panel-caller)

| 번호 | 요소 | 기능 설명 |
|------|------|-----------|
| **37** | 발신번호 사전등록제 안내 알림 | 정보통신망법에 따른 사전 등록 의무·승인 소요 기간(1~3일) 안내. |
| **38** | 메시지 발송 대행업체 안내 알림 | 대행업체 회원 시 고객사별 계정 생성·고객센터 문의 안내. |
| **39** | 발신번호 목록 카드 제목 | "발신번호 목록" 섹션 제목. |
| **40** | 발신번호 등록 버튼 | 클릭 시 mypage-caller-number.html(발신번호 등록 페이지)로 이동. |
| **41** | 상태 필터 - 전체 | 발신번호 목록을 전체 상태로 조회. |
| **42** | 상태 필터 - 승인대기 | 승인 대기 중인 발신번호만 표시. |
| **43** | 상태 필터 - 승인완료 | 승인 완료된 발신번호만 표시. |
| **44** | 상태 필터 - 반려 | 반려된 발신번호만 표시. |
| **45** | 발신번호 목록 테이블 | 발신번호·통신사·용도·상태·등록일·승인일·관리(삭제/상세보기/반려사유) 컬럼. |
| **46** | 목록 행 - 삭제 버튼 | 해당 발신번호 삭제. 확인 후 목록에서 제거. |
| **47** | 목록 행 - 상세보기 버튼 | 해당 발신번호 상세(발신번호 관리 페이지에서 확인 가능 안내). |
| **48** | 목록 행 - 반려사유 버튼 | 반려된 건의 반려 사유 팝업/페이지 표시. |

---

## 5. 이용내역 패널 (panel-history)

### 5.1 검색 영역 (기간 조회) – 동작 구분

- **기간 버튼(1개월, 3개월, 6개월, 1년)**  
  **최근 기준** 조회.  
  - 오늘을 기준으로 과거 1개월/3개월/6개월/1년 구간을 자동 설정하고, 해당 구간의 이용내역을 조회합니다.  
  - "최근 N개월/1년" 데이터를 빠르게 볼 때 사용합니다.

- **달력(날짜 입력) + 검색 버튼**  
  **과거 구간 직접 지정** 조회.  
  - 사용자가 시작일·종료일을 달력(date)으로 선택한 뒤 "검색" 버튼으로 조회합니다.  
  - 최근이 아닌 **과거 특정 기간**을 조회할 때 사용하며, **선택 가능한 기간은 최대 1년**입니다.  
  - 1년을 초과하는 기간을 선택한 경우 서버/클라이언트에서 1년으로 제한하거나 안내 메시지를 띄웁니다.

| 번호 | 요소 | 기능 설명 |
|------|------|-----------|
| **49** | 이용내역 카드 제목 | "포인트/마일리지 내역" 섹션 제목. |
| **50** | 기간 조회 - 시작일(date) | 달력으로 조회 시작일 선택. **과거 데이터 검색용**. 선택 구간은 최대 1년. |
| **51** | 기간 조회 - 종료일(date) | 달력으로 조회 종료일 선택. **과거 데이터 검색용**. 시작일~종료일 최대 1년. |
| **52** | 기간 버튼 - 1개월 | **최근 기준** 오늘부터 과거 1개월 구간 자동 설정 후 내역 조회. |
| **53** | 기간 버튼 - 3개월 | **최근 기준** 오늘부터 과거 3개월 구간 자동 설정 후 내역 조회. |
| **54** | 기간 버튼 - 6개월 | **최근 기준** 오늘부터 과거 6개월 구간 자동 설정 후 내역 조회. |
| **55** | 기간 버튼 - 1년 | **최근 기준** 오늘부터 과거 1년 구간 자동 설정 후 내역 조회. |
| **56** | 검색 버튼 | 달력으로 선택한 시작일·종료일(**과거 구간, 최대 1년**)로 내역 조회. |
| **57** | 탭 - 포인트 충전 내역 | 포인트 충전 내역 탭 선택. 날짜·결제수단·금액·잔액 등 표시. |
| **58** | 탭 - 포인트 사용 내역 | 포인트 사용 내역 탭 선택. 날짜·서비스·발송 건수·금액·잔액 등 표시. |
| **59** | 탭 - 마일리지 적립/사용 내역 | 마일리지 적립·사용 내역 탭 선택. |
| **60** | 소멸 예정 마일리지 버튼 | 클릭 시 "소멸 예정 마일리지" 모달 오픈. 당월 포함 3개월 소멸 예정 내역 표시. |
| **61** | 포인트 충전 내역 테이블 | 충전 일시·결제수단·금액·잔액 목록. 페이지네이션 포함. |
| **62** | 포인트 사용 내역 테이블 | 사용 일시·서비스·발송 건수·금액·잔액 목록. 페이지네이션 포함. |
| **63** | 마일리지 적립/사용 내역 테이블 | 일시·구분·내용·금액·잔액 목록. 페이지네이션 포함. |

---

## 6. 모달

| 번호 | 요소 | 기능 설명 |
|------|------|-----------|
| **64** | 휴대폰 인증 모달 | 휴대폰번호 확인·인증번호 입력·재전송·확인. 인증 완료 시 내정보 수정 폼에 반영. |
| **65** | 소멸 예정 마일리지 모달 | 당월 포함 이후 3개월 소멸 예정 마일리지 내역. 확인 버튼으로 닫기. |
| **66** | 세금계산서 자동발행 신청 모달 | 담당자 이름·연락처·수신 이메일 입력 후 신청. 취소/신청 버튼. |

---

## 7. 요약

- **공통·LNB**: 1~10  
- **내정보수정**: 11~31  
- **비밀번호변경**: 32~36  
- **발신번호관리**: 37~48  
- **이용내역**: 49~63 (검색 영역 49~56에서 **버튼=최근 기준**, **달력+검색=과거 구간 최대 1년**)  
- **모달**: 64~66  

이 문서의 번호와 기능 설명은 mypage.html에서 `initSpecOverlay(specData)`로 연동되며, spec-overlay가 활성화되면 각 selector에 대하여 번호 마커가 붙고 마커 호버 시 툴팁에 기능/동작이 표시됩니다.
