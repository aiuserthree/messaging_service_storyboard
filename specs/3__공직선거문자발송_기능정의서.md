# 공직선거문자 발송 기능정의서

| Role | 1Depth | 2Depth | 3Depth | 4Depth | 타입 | 화면명 | 화면 ID | PC/MO | spec | 접근 권한 | 기능 설명 | 관련 요구사항ID | 비고 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 문자발송 | 문자발송 | 공직선거문자 발송 | - | - | page | 문자발송 > 공직선거문자 발송 | MSG_1_3_0_0_0_P | 공통 | 1차 | 로그인 | **1. 페이지 개요**<br>- 후보자/정당이 선거운동 목적으로 유권자에게 문자메시지를 발송하는 페이지<br>- 공직선거법 제82조의4(전화·문자메시지 등을 이용한 선거운동) 준수<br>- SMS(단문), LMS(장문) 지원 (MMS는 선거법 제한사항 확인 필요)<br>- 선거관리위원회 신고 기록 연동<br><br>
**발신번호 등록 알림**
- 페이지 진입 시 발신번호 등록 여부 확인
  ㄴ 등록된 발신번호가 없는 경우
    → 상단에 알림 메시지 노출
    → "발신번호를 먼저 등록해주세요" 안내
    → 발신번호 관리 페이지로 이동 버튼 제공
    → 발송 기능 비활성화
  ㄴ 승인대기 상태의 발신번호만 있는 경우
    → "발신번호 승인 대기중입니다" 안내
    → 승인 완료 후 발송 가능 안내
    → 발송 기능 비활성화
  ㄴ 승인완료된 발신번호가 있는 경우
    → 정상적으로 발송 기능 사용 가능

**2. 발신번호 설정**<br>- **발신번호 선택 드롭다운 (셀렉박스)**<br>  ㄴ 사전 등록된 발신번호 목록 조회 (승인완료 상태만)<br>  ㄴ **여러 개의 등록된 발신번호 중 원하는 번호를 셀렉박스에서 선택**<br>  ㄴ 셀렉박스 형태로 발신번호 목록 표시<br>    → 발신번호만 표시 (용도 제외)<br>    → 예: "010-1234-5678"<br>    → 예: "02-1234-5678"<br>  ㄴ 기본 발신번호 자동 선택 (후보자/정당 번호 중 첫 번째)<br>  ㄴ 발신번호 없는 경우 "발신번호 등록" 안내 및 등록 페이지 링크<br>- **현재 잔여 포인트 표시**<br>  ㄴ 발신번호 선택 영역 우측에 "현재 잔여 포인트" 표시 영역 추가<br>  ㄴ 발신번호 선택 시 해당 발신번호의 잔여 포인트 표시<br>  ㄴ 표시 형식: "현재 잔여 포인트: 1,000,000" (단위 없이 숫자만 표시)<br>  ㄴ 발신번호 미선택 시 표시 영역 숨김<br>  ㄴ "새 발신번호 등록하기" 버튼은 우측 정렬 유지<br><br>**3. 메시지 타입 선택**<br>- 메시지 타입 자동/수동 선택<br>  ㄴ SMS (단문): 90바이트 이하 (한글 45자)<br>  ㄴ LMS (장문): 2,000바이트 이하 (한글 1,000자)<br>  ㄴ MMS (포토): 이미지 포함, 2,000바이트 이하<br>- 자동 전환 기능<br>  ㄴ 90바이트 초과 시 SMS → LMS 자동 전환<br>  ㄴ 이미지 첨부 시 MMS로 자동 전환<br>  ㄴ 전환 시 안내 메시지 표시<br><br>**4. 후보자/정당 정보 입력**<br>- 후보자/정당명 입력 필드 (필수)<br>  ㄴ 메시지 타입 영역 바로 아래에 위치<br>  ㄴ 플레이스홀더: "후보자명/정당명"<br>  ㄴ 입력한 문구가 [선거] 옆에 표시<br><br>**5. 수신번호 설정**<br>- 수신번호 입력 방식 선택 (탭 형태)<br>  ㄴ 직접입력: 번호 직접 입력 (콤마, 엔터로 구분)<br>    → 플레이스홀더: 일반문자 발송 페이지와 동일한 문구<br>    → 입력된 번호를 하단에 리스트로 표시<br>    → 각 번호별 개별 삭제 버튼 제공<br>    → "전체 삭제" 버튼으로 일괄 삭제 가능<br>  ㄴ 주소록 선택: 등록된 주소록 그룹에서 선택<br>  ㄴ 엑셀 업로드: 엑셀 파일 업로드로 대량 입력<br>    → 엑셀 샘플 다운로드 기능 제공<br>    → 일반문자와 동일한 샘플 파일 형식 (XLSX)<br>    → 컬럼: 이름, 전화번호 (변수 1, 2, 3 제거)<br>    → 지원 형식: .xlsx, .xls, .csv<br>    → 최대 N건 제한 (공직선거법상 제한 확인 필요)<br>    → "주소록에 추가하기" 체크박스 제공 (기본값: 체크 해제)<br>    → 체크 시 그룹명 입력 필드 표시<br>    → 그룹명 입력 후 업로드 시 주소록에 자동 그룹 생성 및 연락처 추가<br>  ㄴ 주소록 추가: 주소록 관리 페이지로 이동 링크<br>- 수신번호 입력 필드 제약사항<br>  ㄴ 전화번호 입력 필드에 숫자만 입력 가능 (자동 필터링)<br>  ㄴ 하이픈(-) 등 특수문자 자동 제거<br>- 수신거부 번호 자동 제외<br>  ㄴ 수신거부 관리에 등록된 번호는 발송 대상에서 자동 제외<br>  ㄴ 제외된 번호 수 안내<br>- 중복번호 자동 제거<br>- 총 수신번호 개수 표시<br>  ㄴ "총 N명" 실시간 카운트<br><br>**6. 선거운동정보 입력**<br>- 선거운동정보 입력 필드 (선택사항)<br>  ㄴ 메시지 내용 입력 영역 상단에 위치<br>  ㄴ 최대 20자 (40바이트) 제한<br>  ㄴ 실시간 바이트 카운터 표시<br>  ㄴ 한글 1자 = 2바이트, 영문/숫자 1자 = 1바이트<br>  ㄴ 제한 초과 시 입력 불가<br><br>**7. 메시지 내용 입력**<br>- 메시지 내용 입력창<br>  ㄴ 실시간 바이트 카운터 (현재 바이트 / 최대 바이트)<br>  ㄴ 글자수 표시<br>  ㄴ 메시지 타입 자동 변경 안내 (SMS → LMS 전환 시)<br>- 템플릿 불러오기 기능<br>  ㄴ "템플릿 선택" 버튼<br>  ㄴ 클릭 시 템플릿 선택 레이어 팝업 호출<br>  ㄴ 공직선거문자 템플릿 목록에서 선택 시 내용 자동 입력<br>  ㄴ 템플릿 선택 시 팝업 자동 닫기<br>  ㄴ 템플릿 변수 자동 변환<br>    → #{유권자명} → #{이름}<br>- 변수 삽입 기능<br>  ㄴ 변수 삽입 버튼 제공: #{이름}, #{전화번호} (변수 1, 2, 3 제거)<br>  ㄴ 버튼 클릭 시 커서 위치에 해당 변수 자동 삽입<br>  ㄴ 변수 안내 툴팁 제공<br>- 금지어 자동 검증<br>  ㄴ 공직선거법 위반 가능성이 있는 표현 자동 감지<br>  ㄴ 허위사실 공표, 비방, 흑색선전 관련 키워드 감지<br>  ㄴ 감지 시 경고 메시지 및 수정 권고<br>  ㄴ 금지어 사전 관리 (관리자 기능)<br>- 080 수신거부 번호 선택<br>  ㄴ 셀렉박스 형태로 미리 등록된 080 번호 선택 (필수)<br>  ㄴ 메시지 내용 영역 바로 아래에 위치<br>  ㄴ 선택 시 메시지 미리보기에 자동 반영<br>  ㄴ "수신거부 안내 포함" 체크리스트 자동 체크<br>  ㄴ "무료수신거부 080-XXX-XXXX" 형식으로 자동 삽입<br>- 공직선거법 준수 체크리스트<br>  ㄴ 허위사실 미포함 확인<br>  ㄴ 비방 내용 미포함 확인<br>  ㄴ 금품 제공 약속 미포함 확인<br>  ㄴ 후보자/정당명 포함 확인<br><br>**7. 발송 시간 설정**<br>- 발송 방식 선택<br>  ㄴ 즉시발송: 즉시 발송 처리<br>  ㄴ 예약발송: 날짜 및 시간 선택<br>    → 날짜 선택 (달력 UI)<br>    → 시간 선택 (시/분)<br>    → 현재 시각 이후만 선택 가능<br>    → 최대 예약 가능 기간: 투표일 전일까지<br>- 공직선거법상 발송 시간 제한<br>  ㄴ 선거운동 기간 내에만 발송 가능<br>  ㄴ 발송 가능 시간: 오전 7시 ~ 오후 11시<br>  ㄴ 선거일 당일(투표일) 발송 불가<br>  ㄴ 선거일 전일 오후 6시 이후 발송 불가<br>  ㄴ 제한 시간대 선택 시 명확한 경고 메시지<br>- 선거기간 자동 확인<br>  ㄴ 현재 진행 중인 선거 확인<br>  ㄴ 선거운동 기간 외 발송 차단<br>  ㄴ 예비후보자 등록일부터 발송 가능 안내<br><br>**8. 발송 비용 안내**<br>- 메시지 타입별 단가 표시<br>  ㄴ SMS: N (단위 없이 숫자만)<br>  ㄴ LMS: N (단위 없이 숫자만)<br>- 예상 발송 포인트 실시간 계산<br>  ㄴ (수신번호 개수) × (메시지 타입별 단가) = 총 예상 발송 포인트<br>  ㄴ 표시 형식: "예상 발송 포인트: 2,000" (단위 없이 숫자만)<br>  ㄴ 실시간 계산 및 표시<br>- 발송 후 예상 잔여 포인트 표시<br>  ㄴ 현재 잔여 포인트 - 예상 발송 포인트 = 발송 후 예상 잔여 포인트<br>  ㄴ 표시 형식: "발송 후 예상 잔여 포인트: 998,000" (단위 없이 숫자만)<br>  ㄴ 잔액 부족 시 경고 메시지 및 충전 페이지 링크<br><br>**9. 메시지 미리보기**<br>- 미리보기 영역 (우측 고정)<br>  ㄴ 모바일 화면 형태로 메시지 미리보기<br>  ㄴ [선거] 문구 및 후보자명/정당명 포함<br>  ㄴ 메시지 내용<br>  ㄴ 수신거부 안내 문구 (080 번호 포함)<br>  ㄴ MMS 이미지 실시간 표시<br>    → 이미지 추가 즉시 미리보기에 반영<br>    → 이미지 삭제 즉시 미리보기에서 제거<br>    → 이미지 순서 변경 시 미리보기에 즉시 반영<br>    → 복수 이미지 추가 시 슬라이드 형태로 표시<br>  ㄴ 발신번호 표시<br>- 실시간 업데이트<br>  ㄴ 내용 입력 시 즉시 반영<br>  ㄴ 메시지 타입 변경 시 즉시 반영<br>  ㄴ 이미지 추가/삭제/순서변경 시 즉시 반영<br>  ㄴ 일반문자/광고문자 발송 페이지와 동일한 UI<br>- 공직선거법 준수 사항 확인 표시<br>  ㄴ 후보자/정당명 포함: ✓<br>  ㄴ 수신거부 안내 포함: ✓<br>  ㄴ 금지어 미검출: ✓<br>  ㄴ 발송 시간 적합: ✓<br><br>**10. 테스트 발송**<br>- 테스트 발송 버튼<br>  ㄴ 본인 번호로 테스트 발송<br>  ㄴ 회원 정보의 휴대폰번호로 발송<br>  ㄴ 또는 테스트 번호 직접 입력 (최대 3개)<br>  ㄴ 테스트 발송도 포인트 차감<br>  ㄴ 테스트 발송도 1일 발송 건수에 포함 안내<br>  ㄴ 발송 완료 시 안내 메시지<br><br><br>**11. 발송하기**<br>- 발송 전 최종 확인<br>  ㄴ 후보자/정당 정보<br>  ㄴ 수신번호 개수<br>  ㄴ 발송 예정 시간<br>  ㄴ 예상 비용<br>  ㄴ 선거관리위원회 신고번호<br>  ㄴ 확인 모달 팝업<br>- 법적 확인 사항<br>  ㄴ "공직선거법을 준수하였으며, 허위사실 및 비방 내용이 없음을 확인합니다"<br>  ㄴ "수신자 동의를 받았거나 선거운동 목적임을 확인합니다"<br>  ㄴ 체크박스 필수 선택<br>- 발송 처리<br>  ㄴ 즉시발송: 즉시 발송 처리 및 발송 완료 안내<br>  ㄴ 예약발송: 예약 등록 및 예약 완료 안내<br>- 발송 기록 저장<br>  ㄴ 공직선거법에 따른 발송 기록 보관<br>  ㄴ 발송일시, 발신번호, 수신번호, 내용, 신고번호 저장<br>  ㄴ 선거 종료 후 N개월 보관 의무<br>- 발송 결과 확인<br>  ㄴ 발송 완료 후 "발송내역" 페이지로 이동 링크<br>  ㄴ 또는 "예약내역" 페이지로 이동 링크<br><br>**12. 입력값 검증**<br>- 필수값 검증<br>  ㄴ 발신번호 미선택 시 경고<br>  ㄴ 후보자/정당 정보 미등록 시 경고<br>  ㄴ 수신번호 미입력 시 경고<br>  ㄴ 메시지 내용 미입력 시 경고<br>  ㄴ 선거관리위원회 신고번호 미입력 시 경고<br>- 형식 검증<br>  ㄴ 전화번호 형식 검증 (010-XXXX-XXXX)<br>  ㄴ 잘못된 형식의 번호 안내<br>  ㄴ 신고번호 형식 검증<br>- 필수 내용 검증<br>  ㄴ 후보자/정당명 포함 여부 확인<br>  ㄴ 수신거부 안내 포함 여부 확인<br>  ㄴ 금지어 포함 여부 확인<br>- 발송 시간 검증<br>  ㄴ 선거운동 기간 내 발송인지 확인<br>  ㄴ 허용 시간대 내 발송인지 확인<br>  ㄴ 투표일 발송 차단<br>- 1일 발송 한도 검증<br>  ㄴ 공직선거법상 1일 발송 한도 초과 여부 확인<br>  ㄴ 초과 시 발송 불가 안내<br>- 잔액 검증<br>  ㄴ 발송 비용이 잔액을 초과하는 경우 발송 불가<br>  ㄴ 충전 안내<br><br>**13. 오류 처리**<br>- 선거기간 오류<br>  ㄴ 선거운동 기간 외 발송 시도 시 명확한 안내<br>  ㄴ 선거운동 시작일 안내<br>- 시간 제한 오류<br>  ㄴ 발송 불가 시간대 선택 시 안내<br>  ㄴ 투표일 발송 시도 시 차단 및 안내<br>- 금지어 검출 오류<br>  ㄴ 금지어 검출 시 해당 단어 표시<br>  ㄴ 수정 권고 및 예시 제공<br>- 신고번호 오류<br>  ㄴ 유효하지 않은 신고번호 입력 시 안내<br>  ㄴ 신고 절차 안내<br>- 네트워크 오류<br>  ㄴ 발송 실패 시 오류 메시지<br>  ㄴ 재시도 옵션 제공<br>- 시스템 오류<br>  ㄴ 시스템 오류 시 안내 메시지<br>  ㄴ 고객센터 연락처 안내<br><br>**14. 템플릿으로 저장**<br>- "템플릿으로 저장" 버튼<br>  ㄴ 템플릿명 입력<br>  ㄴ 템플릿 관리에 저장<br><br>**15. 법적 고지사항**<br>- 페이지 상단에 법적 안내사항 표시 (눈에 띄게)<br>  ㄴ 공직선거법 제82조의4 준수 안내<br>  ㄴ 허위사실 공표 금지 (제250조) 및 처벌 규정<br>  ㄴ 후보자 비방 금지 (제251조) 및 처벌 규정<br>  ㄴ 선거운동 기간 및 시간 제한 안내<br>  ㄴ 문자메시지 발송 신고 의무 안내<br>  ㄴ 발송 기록 보관 의무 안내<br>- 주의사항<br>  ㄴ 불법 선거운동 시 형사처벌 가능<br>  ㄴ 선거법 위반 사례 안내<br>  ㄴ 중앙선거관리위원회 선거법 안내 페이지 링크<br><br>**16. 추가 기능**<br>- 발송 이력 통계<br>  ㄴ 금일 발송 건수<br>  ㄴ 총 발송 건수<br>  ��� 선거기간별 발송 현황<br>- 선거 정보 표시<br>  ㄴ 현재 진행 중인 선거 정보<br>  ㄴ 선거운동 기간<br>  ㄴ 투표일<br>  ㄴ D-day 카운터<br>- 도움말/FAQ<br>  ㄴ 공직선거 문자발송 가이드<br>  ㄴ 자주 묻는 질문<br>  ㄴ 선거법 관련 문의처 안내 | MSG_REQ_005 | - 공직선거법 제82조의4, 제250조, 제251조 등 관련 법규 준수 필수<br>- 후보자/정당명 필수 포함<br>- 선거운동 기간 내에만 발송 가능<br>- 발송 가능 시간: 07:00~23:00<br>- 투표일 발송 불가<br>- 선거관리위원회 신고번호 필수<br>- 금지어 자동 검증 시스템 필요<br>- 발송 기록 장기 보관 필요<br>- 법무팀 검토 필수 |
| 문자발송 | 문자발송 | 공직선거문자 발송 | 템플릿 선택 | - | layer popup | 문자발송 > 공직선거문자 발송 > 템플릿 선택 | MSG_1_3_1_0_0_LP | 공통 | 1차 | 로그인 | **1. 템플릿 선택 레이어 팝업**<br>- "템플릿 선택" 버튼 클릭 시 레이어 팝업 호출<br>- 등록된 공직선거 템플릿 목록 조회<br>  ㄴ 템플릿 목록 (최신 등록순)<br>  ㄴ 템플릿명<br>  ㄴ 후보자/정당 정보<br>  ㄴ 템플릿 내용 미리보기 (100자 제한)<br>  ㄴ 등록일<br>  ㄴ 선택 버튼<br>- 템플릿 분류 필터<br>  ㄴ 전체<br>  ㄴ 정책 홍보<br>  ㄴ 공약 안내<br>  ㄴ 투표 독려<br>  ㄴ 인사 메시지<br>- 템플릿 검색 기능<br>  ㄴ 템플릿명으로 검색<br>  ㄴ 내용 키워드로 검색<br>- 템플릿 미리보기<br>  ㄴ 템플릿 클릭 시 전체 내용 미리보기<br>  ㄴ 변수 치환 예시 표시<br>- 템플릿 선택 시<br>  ㄴ 선택한 템플릿 내용이 메시지 입력창에 자동 입력<br>  ㄴ 팝업 자동 닫기<br>- 템플릿 미선택 시 "직접 입력" 옵션<br>- 닫기 버튼: 팝업 닫기 | MSG_REQ_006 | - 템플릿 관리 페이지와 연동<br>- 공직선거용 템플릿만 조회<br>- 검증된 템플릿만 노출 |
| 문자발송 | 문자발송 | 공직선거문자 발송 | 엑셀 업로드 | - | layer popup | 문자발송 > 공직선거문자 발송 > 엑셀 업로드 | MSG_1_3_2_0_0_LP | 공통 | 1차 | 로그인 | **1. 엑셀 업로드 레이어 팝업**<br>- "엑셀 업로드" 버튼 클릭 시 레이어 팝업 호출<br>- 엑셀 샘플 다운로드<br>  ㄴ "샘플 파일 다운로드" 링크<br>  ㄴ 주소록 관리와 동일한 샘플 파일 형식 (XLSX)<br>  ㄴ 샘플 파일 형식<br>    → 컬럼: 이름, 전화번호 (변수 1, 2, 3 제거)<br>    → 예시 데이터 포함<br>- 파일 업로드 영역<br>  ㄴ 드래그 앤 드롭 지원<br>  ㄴ 파일 선택 버튼<br>  ㄴ 지원 형식: .xlsx, .xls, .csv<br>  ㄴ 최대 파일 크기: 10MB<br>  ㄴ 최대 N건 제한<br>- 업로드 후 데이터 검증<br>  ㄴ 전화번호 형식 검증<br>  ㄴ 중복 번호 제거<br>  ㄴ 수신거부 번호 자동 제외<br>  ㄴ 선거구 정보 확인 (입력된 경우)<br>  ㄴ 유효한 번호 개수 표시<br>  ㄴ 오류 번호 목록 표시 (최대 100개)<br>  ㄴ 선거구 외 번호 경고 표시<br>- 1일 발송 한도 확인<br>  ㄴ 업로드된 번호가 1일 발송 한도를 초과하는지 확인<br>  ㄴ 초과 시 경고 메시지<br>- 업로드 완료<br>  ㄴ "적용" 버튼 클릭 시 수신번호에 추가<br>  ㄴ 팝업 닫기 | MSG_REQ_007 | - 엑셀 파일 파싱 기능<br>- 대량 번호 처리 성능 고려<br>- 선거구 검증 로직 필요 |
| 문자발송 | 문자발송 | 공직선거문자 발송 | 금지어 검출 경고 | - | layer popup | 문자발송 > 공직선거문자 발송 > 금지어 검출 경고 | MSG_1_3_3_0_0_LP | 공통 | 1차 | 로그인 | **1. 금지어 검출 경고 팝업**<br>- 메시지 내용 입력 시 실시간 금지어 검증<br>- 금지어 검출 시 경고 팝업 자동 호출<br>- 검출된 금지어 목록<br>  ㄴ 금지어 단어 표시<br>  ㄴ 위치 표시 (N번째 줄)<br>  ㄴ 위반 유형 (허위사실, 비방, 금품 등)<br>  ㄴ 관련 법조항 안내<br>- 수정 권고사항<br>  ㄴ 대체 표현 예시 제공<br>  ㄴ 법적 위험 경고<br>- 강제 차단 vs 경고<br>  ㄴ 중대한 위반: 발송 차단 (허위사실, 명백한 비방 등)<br>  ㄴ 경미한 주의: 경고 후 발송 가능 (확인 체크)<br>- 확인 버튼<br>  ㄴ 경고 확인 후 수정<br>  ㄴ 또는 경고 무시하고 진행 (경미한 경우만)<br>- 취소 버튼<br>  ㄴ 팝업 닫기 및 내용 수정 | MSG_REQ_008 | - 금지어 사전 DB 구축 필요<br>- 정기적인 업데이트 필요<br>- 법무팀 검토 필수<br>- 오탐 최소화 필요 |
| 문자발송 | 문자발송 | 공직선거문자 발송 | 발송 확인 | - | layer popup | 문자발송 > 공직선거문자 발송 > 발송 확인 | MSG_1_3_4_0_0_LP | 공통 | 1차 | 로그인 | **1. 발송 확인 모달 팝업**<br>- "발송하기" 버튼 클릭 시 최종 확인 팝업 호출<br>- 발송 정보 요약<br>  ㄴ 후보자/정당 정보<br>  ㄴ 발신번호<br>  ㄴ 수신번호 개수<br>  ㄴ 메시지 타입 (SMS/LMS)<br>  ㄴ 발송 시간 (즉시/예약)<br>  ㄴ 예상 발송 포인트<br>  ㄴ 현재 잔여 포인트<br>  ㄴ 선거관리위원회 신고번호<br>- 필수 포함 내용 확인<br>  ㄴ 후보자/정당명 포함: ✓<br>  ㄴ 수신거부 안내 포함: ✓<br>  ㄴ 금지어 미검출: ✓<br>- 법적 확인 사항 (필수 체크)<br>  ㄴ "공직선거법을 준수하였으며, 허위사실 공표 및 후보자 비방 내용이 없음을 확인합니다"<br>  ㄴ "수신자가 선거구 내 유권자이거나 선거운동 목적의 발송임을 확인합니다"<br>  ㄴ "선거관리위원회에 문자메시지 발송을 신고하였거나 신고 예정임을 확인합니다"<br>  ㄴ 각 체크박스 필수 선택<br>- 주의사항 표시<br>  ㄴ 공직선거법 위반 시 형사처벌 가능성 경고<br>  ㄴ 3년 이하 징역 또는 600만원 이하 벌금<br>  ㄴ 당선무효형 주의<br>- 확인 버튼<br>  ㄴ 모든 체크박스 선택 시 활성화<br>  ㄴ 발송 처리<br>- 취소 버튼<br>  ㄴ 팝업 닫기 | MSG_REQ_009 | - 법적 책임 확인 필수<br>- 체크박스 미선택 시 발송 불가<br>- 발송 기록과 함께 확인 내역 저장 |
| 문자발송 | 문자발송 | 공직선거문자 발송 | 선거 정보 안내 | - | layer popup | 문자발송 > 공직선거문자 발송 > 선거 정보 안내 | MSG_1_3_5_0_0_LP | 공통 | 1차 | 로그인 | **1. 선거 정보 안내 팝업**<br>- 페이지 진입 시 또는 "선거 정보" 버튼 클릭 시 호출<br>- 현재 진행 중인 선거 정보<br>  ㄴ 선거명 (예: 제21대 국회의원 선거)<br>  ㄴ 선거구<br>  ㄴ 투표일<br>  ㄴ 선거운동 기간<br>    → 시작일: YYYY-MM-DD<br>    → 종료일: YYYY-MM-DD (투표일 전일)<br>  ㄴ 남은 기간 (D-day)<br>- 문자발송 가능 시간<br>  ㄴ 매일 오전 7시 ~ 오후 11시<br>  ㄴ 투표일 당일 발송 불가<br>  ㄴ 투표일 전일 오후 6시 이후 발송 불가<br>- 1일 발송 한도<br>  ㄴ 공직선거법상 제한 건수 (있는 경우)<br>  ㄴ 금일 발송 현황<br>  ㄴ 잔여 발송 가능 건수<br>- 주요 준수사항<br>  ㄴ 후보자/정당명 필수 포함<br>  ㄴ 수신거부 안내 필수 포함<br>  ㄴ 허위사실 공표 금지<br>  ㄴ 후보자 비방 금지<br>  ㄴ 선거관리위원회 신고 필수<br>- 관련 법조항 링크<br>  ㄴ 중앙선거관리위원회 선거법 안내<br>  ㄴ 문자메시지 선거운동 가이드<br>- 확인 버튼<br>  ㄴ 팝업 닫기 | MSG_REQ_010 | - 선거 정보는 관리자가 등록/관리<br>- 선거별 설정 기능 필요<br>- 실시간 D-day 계산 |

## 화면 흐름도

```
[공직선거문자 발송 페이지 진입]
        ↓
[선거 정보 확인] → 선거운동 기간 확인
        ↓
[발신번호 선택] → 후보자/정당 정보 확인
        ↓
[선거관리위원회 신고번호 입력]
        ↓
[수신번호 입력] → 직접입력/주소록/엑셀업로드
        ↓                    ↓
[메시지 작성] ← [템플릿 선택 팝업]
        ↓
[금지어 자동 검증] → [금지어 검출 경고 팝업] (검출 시)
        ↓
[필수 정보 자동 삽입] (후보자명, 수신거부 안내)
        ↓
[발송시간 설정] → 즉시/예약 (시간 제한 확인)
        ↓
[미리보기 확인] → 법적 준수사항 체크
        ↓
[테스트 발송] (선택사항)
        ↓
[발송하기] → [발송 확인 팝업] → 법적 확인 체크박스 (필수)
        ↓
[발송 처리] → 발송 기록 저장
        ↓
[발송완료 안내] → 발송내역/예약내역 페이지로 이동
```

## 주요 검증 사항

### 1. 공직선거법 준수
- 후보자/정당명 필수 포함 확인
- 수신거부 안내 필수 포함 확인
- 선거운동 기간 내 발송 확인
- 발송 시간 제한 준수 (07:00~23:00)
- 투표일 및 투표일 전일 오후 6시 이후 발송 차단
- 금지어 검증 (허위사실, 비방 등)
- 선거관리위원회 신고번호 확인

### 2. 데이터 검증
- 발신번호 등록 및 승인 상태 확인
- 후보자/정당 정보 등록 확인
- 수신번호 형식 검증
- 선거구 내 번호 확인 (가능한 경우)
- 중복 번호 제거
- 수신거부 번호 자동 제외
- 메시지 길이 제한 확인

### 3. 발송 한도 검증
- 1일 발송 한도 확인
- 잔여 발송 가능 건수 확인
- 선거기간 누적 발송량 추적

### 4. 비용 검증
- 잔액 확인
- 예상 비용 계산
- 충전 필요 시 안내

### 5. 법적 확인
- 법적 책임 확인 체크박스
- 발송 기록 저장 (장기 보관)
- 신고 내역 연동

## 참고 사항

### 법적 규정
- **공직선거법 제82조의4**: 전화·문자메시지 등을 이용한 선거운동
- **공직선거법 제250조**: 허위사실공표죄 (3년 이하 징역 또는 600만원 이하 벌금)
- **공직선거법 제251조**: 후보자비방죄 (3년 이하 징역 또는 600만원 이하 벌금)
- **공직선거법 제255조**: 선거운동기간 위반
- 선거운동 기간: 선거일 전 14일부터 선거일 전일까지 (선거 종류에 따라 상이)
- 예비후보자는 예비후보자 등록일부터 선거운동 가능
- 투표일 당일 선거운동 전면 금지
- 문자메시지 발송 시 선거관리위원회 신고 필요 (법령에 따라)

### 기술적 고려사항
- 금지어 DB 구축 및 정기 업데이트
- 실시간 금지어 검증 시스템
- 선거 정보 관리 시스템
- 발송 기록 장기 보관 시스템 (최소 선거 종료 후 6개월)
- 대량 발송 시 성능 최적화
- 발송 실패 시 재발송 로직
- 발송 상태 추적 시스템
- 1일 발송 한도 관리 시스템

### 연동 페이지
- 템플릿 관리 페이지 (공직선거 전용)
- 주소록 관리 페이지
- 수신거부 관리 페이지
- 발신번호 관리 페이지 (후보자/정당 정보 포함)
- 발송내역 페이지
- 예약내역 페이지
- 충전하기 페이지
- 선거관리위원회 신고 연동 페이지

### 관리자 기능 (별도 개발 필요)
- 선거 정보 등록/관리
- 금지어 사전 관리
- 후보자/정당 정보 관리
- 발송 한도 설정
- 발송 기록 조회 및 내보내기
- 통계 및 리포트

### 주의사항
- 공직선거법은 매우 엄격하며, 위반 시 형사처벌 대상
- 당선무효형에 해당하는 죄도 있으므로 신중한 검토 필요
- 법무팀 및 선거법 전문가의 검토 필수
- 중앙선거관리위원회 지침 수시 확인 필요
- 선거 종류별로 세부 규정이 다를 수 있음
- 사전에 선거관리위원회와 협의 권장

### 개발 우선순위
1. 필수 법적 검증 기능 (금지어, 시간, 기간 등)
2. 발송 기록 저장 시스템
3. 선거 정보 관리 시스템
4. UI/UX 구현
5. 통계 및 리포트 기능

### 테스트 시나리오
- 선거운동 기간 외 발송 차단 테스트
- 투표일 발송 차단 테스트
- 발송 시간 제한 테스트 (07:00~23:00)
- 금지어 검출 테스트 (다양한 케이스)
- 1일 발송 한도 초과 테스트
- 필수 정보 누락 시 발송 차단 테스트
- 신고번호 미입력 시 발송 차단 테스트
- 발송 기록 저장 및 조회 테스트
